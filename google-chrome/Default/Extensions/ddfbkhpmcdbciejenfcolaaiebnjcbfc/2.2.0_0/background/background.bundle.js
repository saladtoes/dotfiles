/*! For license information please see background.bundle.js.LICENSE.txt */
(()=>{var t={135:e=>{var t;self,t=function(){return(()=>{var e={"./node_modules/ably/browser/static/ably-commonjs.js":e=>{var t;window,t=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=50)}([function(e,t,n){"use strict";(function(e){var a=n(3),i=function(){var t,n;function i(e,t){return("000"+e).slice(-2-(t||0))}"undefined"==typeof Window&&"undefined"==typeof WorkerGlobalScope||e.console&&e.console.log&&"function"==typeof e.console.log.apply?(t=function(){console.log.apply(console,arguments)},n=console.warn?function(){console.warn.apply(console,arguments)}:t):t=n=e.console&&e.console.log?function(){Function.prototype.apply.call(console.log,console,arguments)}:function(){};var o=1;function r(e){return a.a.logTimestamps?function(t){var n=new Date;e(i(n.getHours())+":"+i(n.getMinutes())+":"+i(n.getSeconds())+"."+i(n.getMilliseconds(),!0)+" "+t)}:e}var s=r(t),c=r(n);function u(e){}return u.LOG_NONE=0,u.LOG_ERROR=1,u.LOG_MAJOR=2,u.LOG_MINOR=3,u.LOG_MICRO=4,u.LOG_DEFAULT=1,u.LOG_DEBUG=4,u.logAction=function(e,t,n){u.shouldLog(e)&&(1===e?c:s)("Ably: "+t+": "+n)},u.deprecated=function(e,t){u.deprecatedWithMsg(e,"Please use '"+t+"' instead.")},u.deprecatedWithMsg=function(e,t){u.shouldLog(1)&&c("Ably: Deprecation warning - '"+e+"' is deprecated and will be removed from a future version. "+t)},u.shouldLog=function(e){return e<=o},u.setLog=function(e,t){void 0!==e&&(o=e),void 0!==t&&(s=c=t)},u}();t.a=i}).call(this,n(17))},function(e,t,n){"use strict";var a=n(3),i=n(5),o=n(4),r=function(){var e=a.a.msgpack;function t(){}function n(e){return Math.floor(Math.random()*e.length)}t.mixin=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(!n)break;var a=n.hasOwnProperty;for(var i in n)a&&!a.call(n,i)||(e[i]=n[i])}return e},t.copy=function(e){return t.mixin({},e)},t.isArray=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},t.ensureArray=function(e){return t.isEmptyArg(e)?[]:t.isArray(e)?e:[e]},t.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isOnlyPropIn=function(e,t){for(var n in e)if(n!==t)return!1;return!0},t.isEmptyArg=function(e){return null==e},t.shallowClone=function(e){var t=new Object;for(var n in e)t[n]=e[n];return t},t.prototypicalClone=function(e,n){function a(){}a.prototype=e;var i=new a;return n&&t.mixin(i,n),i},t.inherits=a.a.inherits||function(e,n){e.super_=n,e.prototype=t.prototypicalClone(n.prototype,{constructor:e})},t.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},t.intersect=function(e,n){return t.isArray(n)?t.arrIntersect(e,n):t.arrIntersectOb(e,n)},t.arrIntersect=function(e,n){for(var a=[],i=0;i<e.length;i++){var o=e[i];-1!=t.arrIndexOf(n,o)&&a.push(o)}return a},t.arrIntersectOb=function(e,t){for(var n=[],a=0;a<e.length;a++){var i=e[a];i in t&&n.push(i)}return n},t.arrSubtract=function(e,n){for(var a=[],i=0;i<e.length;i++){var o=e[i];-1==t.arrIndexOf(n,o)&&a.push(o)}return a},t.arrIndexOf=Array.prototype.indexOf?function(e,t,n){return e.indexOf(t,n)}:function(e,t,n){n=n||0;for(var a=e.length;n<a;n++)if(e[n]===t)return n;return-1},t.arrIn=function(e,n){return-1!==t.arrIndexOf(e,n)},t.arrDeleteValue=function(e,n){var a=t.arrIndexOf(e,n),i=-1!=a;return i&&e.splice(a,1),i},t.arrWithoutValue=function(e,n){var a=e.slice();return t.arrDeleteValue(a,n),a},t.keysArray=function(e,t){var n=[];for(var a in e)t&&!e.hasOwnProperty(a)||n.push(a);return n},t.valuesArray=function(e,t){var n=[];for(var a in e)t&&!e.hasOwnProperty(a)||n.push(e[a]);return n},t.forInOwnNonNullProps=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n]&&t(n)},t.arrForEach=Array.prototype.forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=e.length,a=0;a<n;a++)t(e[a],a,e)},t.safeArrForEach=function(e,n){return t.arrForEach(e.slice(),n)},t.arrMap=Array.prototype.map?function(e,t){return e.map(t)}:function(e,t){for(var n=[],a=e.length,i=0;i<a;i++)n.push(t(e[i],i,e));return n},t.arrFilter=Array.prototype.filter?function(e,t){return e.filter(t)}:function(e,t){for(var n=[],a=e.length,i=0;i<a;i++)t(e[i])&&n.push(e[i]);return n},t.arrEvery=Array.prototype.every?function(e,t){return e.every(t)}:function(e,t){for(var n=e.length,a=0;a<n;a++)if(!t(e[a],a,e))return!1;return!0},t.allSame=function(e,n){if(0===e.length)return!0;var a=e[0][n];return t.arrEvery(e,(function(e){return e[n]===a}))},t.nextTick=a.a.nextTick;var r={json:"application/json",jsonp:"application/javascript",xml:"application/xml",html:"text/html",msgpack:"application/x-msgpack"};return t.defaultGetHeaders=function(e){return{accept:r[e||"json"],"X-Ably-Version":i.a.apiVersion,"X-Ably-Lib":i.a.libstring}},t.defaultPostHeaders=function(e){var t;return{accept:t=r[e||"json"],"content-type":t,"X-Ably-Version":i.a.apiVersion,"X-Ably-Lib":i.a.libstring}},t.arrPopRandomElement=function(e){return e.splice(n(e),1)[0]},t.toQueryString=function(e){var t=[];if(e)for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.length?"?"+t.join("&"):""},t.parseQueryString=function(e){for(var t,n=/([^?&=]+)=?([^&]*)/g,a={};t=n.exec(e);)a[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return a},t.now=Date.now||function(){return(new Date).getTime()},t.inspect=a.a.inspect,t.isErrorInfo=function(e){return"ErrorInfo"==e.constructor.name},t.inspectError=function(e){return e&&(t.isErrorInfo(e)||"Error"==e.constructor.name||e instanceof Error)?e.toString():t.inspect(e)},t.inspectBody=function(e){return o.a.isBuffer(e)?e.toString():"string"==typeof e?e:a.a.inspect(e)},t.dataSizeBytes=function(e){if(o.a.isBuffer(e))return o.a.byteLength(e);if("string"==typeof e)return a.a.stringByteSize(e);throw new Error("Expected input of Utils.dataSizeBytes to be a buffer or string, but was: "+typeof e)},t.cheapRandStr=function(){return String(Math.random()).substr(2)},t.randomString=a.a.getRandomValues&&"undefined"!=typeof Uint8Array?function(e){var t=new Uint8Array(e);return a.a.getRandomValues(t),o.a.base64Encode(t)}:function(e){for(var t=o.a.base64CharSet,a=Math.round(4*e/3),i="",r=0;r<a;r++)i+=t[n(t)];return i},t.randomHexString=a.a.getRandomValues&&"undefined"!=typeof Uint8Array?function(e){var t=new Uint8Array(e);return a.a.getRandomValues(t),o.a.hexEncode(t)}:function(e){for(var t=o.a.hexCharSet,a=2*e,i="",r=0;r<a;r++)i+=t[n(t)];return i},t.arrChooseN=function(e,n){for(var a=Math.min(n,e.length),i=e.slice(),o=[],r=0;r<a;r++)o.push(t.arrPopRandomElement(i));return o},t.trim=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.promisify=function(e,t,n){return new Promise((function(a,i){e[t].apply(e,Array.prototype.slice.call(n).concat((function(e,t){e?i(e):a(t)})))}))},t.decodeBody=function(t,n){return"msgpack"==n?e.decode(t):JSON.parse(String(t))},t.encodeBody=function(t,n){return"msgpack"==n?e.encode(t,!0):JSON.stringify(t)},t.allToLowerCase=function(e){return t.arrMap(e,(function(e){return e&&e.toLowerCase()}))},t.allToUpperCase=function(e){return t.arrMap(e,(function(e){return e&&e.toUpperCase()}))},t}();t.a=r},function(e,t,n){"use strict";var a=n(1),i=function(){function e(e,t,n,a){this.message=e,this.code=t,this.statusCode=n,this.cause=a,this.href=void 0}return e.prototype.toString=function(){var e="["+this.constructor.name;return this.message&&(e+=": "+this.message),this.statusCode&&(e+="; statusCode="+this.statusCode),this.code&&(e+="; code="+this.code),this.cause&&(e+="; cause="+a.a.inspectError(this.cause)),!this.href||this.message&&this.message.indexOf("help.ably.io")>-1||(e+="; see "+this.href+" "),e+"]"},e.fromValues=function(t){var n=a.a.mixin(new e,t);return t instanceof Error&&(n.message=t.message),n.code&&!n.href&&(n.href="https://help.ably.io/error/"+n.code),n},e}();t.a=i},function(e,t,n){"use strict";(function(e,a){var i=n(24);"undefined"==typeof Window&&"undefined"==typeof WorkerGlobalScope&&console.log("Warning: this distribution of Ably is intended for browsers. On nodejs, please use the 'ably' package on npm");var o,r=e.navigator&&e.navigator.userAgent.toString(),s={libver:"js-web",logTimestamps:!0,userAgent:r,currentUrl:e.location&&e.location.href,noUpgrade:r&&r.match(/MSIE\s8\.0/),binaryType:"arraybuffer",WebSocket:e.WebSocket||e.MozWebSocket,xhrSupported:e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,jsonpSupported:"undefined"!=typeof document,allowComet:(o=e.location,!e.WebSocket||!o||!o.origin||o.origin.indexOf("http")>-1),streamingSupported:!0,useProtocolHeartbeats:!0,createHmac:null,msgpack:i.a,supportsBinary:!!e.TextDecoder,preferBinary:!1,ArrayBuffer:e.ArrayBuffer,atob:e.atob,nextTick:void 0!==a?e.setImmediate.bind(e):function(e){setTimeout(e,0)},addEventListener:e.addEventListener,inspect:JSON.stringify,stringByteSize:function(t){return e.TextDecoder&&(new e.TextEncoder).encode(t).length||t.length},TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder,Promise:e.Promise,getRandomValues:function(e){if(void 0!==e)return function(t,n){e.getRandomValues(t),n&&n(null)}}(e.crypto||e.msCrypto)};t.a=s}).call(this,n(17),n(42).setImmediate)},function(e,t,n){"use strict";var a=n(32),i=n(33),o=n(18),r=n(10),s=n.n(r),c=n(3),u=function(){var e=c.a.ArrayBuffer,t=c.a.atob,n=c.a.TextEncoder,r=c.a.TextDecoder,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function l(e){return null!=e&&void 0!==e.sigBytes}function h(t){return null!=t&&t.constructor===e}function d(t){return e&&e.isView&&e.isView(t)}function m(){}m.base64CharSet=u,m.hexCharSet="0123456789abcdef";var p=m.isBuffer=function(e){return h(e)||l(e)||d(e)},f=m.toBuffer=function(t){if(!e)throw new Error("Can't convert to Buffer: browser does not support the necessary types");if(h(t))return new Uint8Array(t);if(d(t))return new Uint8Array(t.buffer);if(l(t)){for(var n=new e(t.sigBytes),a=new Uint8Array(n),i=0;i<t.sigBytes;i++)a[i]=t.words[i>>>2]>>>24-i%4*8&255;return a}throw new Error("BufferUtils.toBuffer expected an arraybuffer, typed array, or CryptoJS wordarray")};return m.toArrayBuffer=function(e){return h(e)?e:f(e).buffer},m.toWordArray=function(e){return d(e)&&(e=e.buffer),l(e)?e:s.a.create(e)},m.base64Encode=function(e){return l(e)?Object(o.stringify)(e):function(e){for(var t,n="",a=u,i=e.byteLength,o=i%3,r=i-o,s=0;s<r;s+=3)n+=a[(16515072&(t=e[s]<<16|e[s+1]<<8|e[s+2]))>>18]+a[(258048&t)>>12]+a[(4032&t)>>6]+a[63&t];return 1==o?n+=a[(252&(t=e[r]))>>2]+a[(3&t)<<4]+"==":2==o&&(n+=a[(64512&(t=e[r]<<8|e[r+1]))>>10]+a[(1008&t)>>4]+a[(15&t)<<2]+"="),n}(f(e))},m.base64Decode=function(n){return e&&t?function(e){for(var n=t(e),a=n.length,i=new Uint8Array(a),o=0;o<a;o++){var r=n.charCodeAt(o);i[o]=r}return i.buffer}(n):Object(o.parse)(n)},m.hexEncode=function(e){return e=m.toWordArray(e),Object(a.stringify)(e)},m.hexDecode=function(t){var n=Object(a.parse)(t);return e?m.toArrayBuffer(n):n},m.utf8Encode=function(e){return n?(new n).encode(e).buffer:Object(i.parse)(e)},m.utf8Decode=function(e){if(!p(e))throw new Error("Expected input of utf8decode to be an arraybuffer, typed array, or CryptoJS wordarray");return r&&!l(e)?(new r).decode(e):(e=m.toWordArray(e),Object(i.stringify)(e))},m.bufferCompare=function(e,t){if(!e)return-1;if(!t)return 1;e=m.toWordArray(e),t=m.toWordArray(t),e.clamp(),t.clamp();var n=e.sigBytes-t.sigBytes;if(0!=n)return n;e=e.words,t=t.words;for(var a=0;a<e.length;a++)if(0!=(n=e[a]-t[a]))return n;return 0},m.byteLength=function(e){return h(e)||d(e)?e.byteLength:l(e)?e.sigBytes:void 0},m.typedArrayToBuffer=function(e){return e.buffer},m}();t.a=u},function(e,t,n){"use strict";var a=n(3),i={internetUpUrl:"https://internet-up.ably-realtime.com/is-the-internet-up.txt",jsonpInternetUpUrl:"https://internet-up.ably-realtime.com/is-the-internet-up-0-9.js",defaultTransports:["xhr_polling","xhr_streaming","jsonp","web_socket"],baseTransportOrder:["xhr_polling","xhr_streaming","jsonp","web_socket"],transportPreferenceOrder:["jsonp","xhr_polling","xhr_streaming","web_socket"],upgradeTransports:["xhr_streaming","web_socket"]};a.a.noUpgrade&&(i.upgradeTransports=[]);var o=i,r=n(1),s=n(4),c=n(0),u=n(2);function l(e){if("string"!=typeof e)throw new u.a("host must be a string; was a "+typeof e,4e4,400);if(!e.length)throw new u.a("host must not be zero-length",4e4,400)}o.ENVIRONMENT="",o.REST_HOST="rest.ably.io",o.REALTIME_HOST="realtime.ably.io",o.FALLBACK_HOSTS=["A.ably-realtime.com","B.ably-realtime.com","C.ably-realtime.com","D.ably-realtime.com","E.ably-realtime.com"],o.PORT=80,o.TLS_PORT=443,o.TIMEOUTS={disconnectedRetryTimeout:15e3,suspendedRetryTimeout:3e4,httpRequestTimeout:15e3,channelRetryTimeout:15e3,fallbackRetryTimeout:6e5,connectionStateTtl:12e4,realtimeRequestTimeout:1e4,recvTimeout:9e4,preferenceConnectTimeout:6e3,parallelUpgradeDelay:6e3},o.httpMaxRetryCount=3,o.maxMessageSize=65536,o.errorReportingUrl="https://errors.ably.io/api/15/store/",o.errorReportingHeaders={"X-Sentry-Auth":"Sentry sentry_version=7, sentry_key=a04e33c8674c451f8a310fbec029acf5, sentry_client=ably-js/0.1","Content-Type":"application/json"},o.version="1.2.11",o.libstring=a.a.libver+"-"+o.version,o.apiVersion="1.2",o.getHost=function(e,t,n){return n?t==e.restHost&&e.realtimeHost||t||e.realtimeHost:t||e.restHost},o.getPort=function(e,t){return t||e.tls?e.tlsPort:e.port},o.getHttpScheme=function(e){return e.tls?"https://":"http://"},o.environmentFallbackHosts=function(e){return[e+"-a-fallback.ably-realtime.com",e+"-b-fallback.ably-realtime.com",e+"-c-fallback.ably-realtime.com",e+"-d-fallback.ably-realtime.com",e+"-e-fallback.ably-realtime.com"]},o.getFallbackHosts=function(e){var t=e.fallbackHosts,n=void 0!==e.httpMaxRetryCount?e.httpMaxRetryCount:o.httpMaxRetryCount;return t?r.a.arrChooseN(t,n):[]},o.getHosts=function(e){return[e.restHost].concat(o.getFallbackHosts(e))},o.objectifyOptions=function(e){return"string"==typeof e?-1==e.indexOf(":")?{token:e}:{key:e}:e},o.normaliseOptions=function(e){if(e.host&&(c.a.deprecated("host","restHost"),e.restHost=e.host),e.wsHost&&(c.a.deprecated("wsHost","realtimeHost"),e.realtimeHost=e.wsHost),e.queueEvents&&(c.a.deprecated("queueEvents","queueMessages"),e.queueMessages=e.queueEvents),e.fallbackHostsUseDefault){if(e.fallbackHosts){var t="fallbackHosts and fallbackHostsUseDefault cannot both be set";throw c.a.logAction(c.a.LOG_ERROR,"Defaults.normaliseOptions",t),new u.a(t,4e4,400)}if(e.port||e.tlsPort)throw t="fallbackHostsUseDefault cannot be set when port or tlsPort are set",c.a.logAction(c.a.LOG_ERROR,"Defaults.normaliseOptions",t),new u.a(t,4e4,400);e.environment?c.a.deprecatedWithMsg("fallbackHostsUseDefault","There is no longer a need to set this when the environment option is also set since the library will now generate the correct fallback hosts using the environment option."):c.a.deprecated("fallbackHostsUseDefault","fallbackHosts: Ably.Defaults.FALLBACK_HOSTS"),e.fallbackHosts=o.FALLBACK_HOSTS}!0===e.recover&&(c.a.deprecated("{recover: true}","{recover: function(lastConnectionDetails, cb) { cb(true); }}"),e.recover=function(e,t){t(!0)}),"function"==typeof e.recover&&!0===e.closeOnUnload&&(c.a.logAction(c.a.LOG_ERROR,"Defaults.normaliseOptions","closeOnUnload was true and a session recovery function was set - these are mutually exclusive, so unsetting the latter"),e.recover=null),"closeOnUnload"in e||(e.closeOnUnload=!e.recover),e.transports&&r.a.arrIn(e.transports,"xhr")&&(c.a.deprecated('transports: ["xhr"]','transports: ["xhr_streaming"]'),r.a.arrDeleteValue(e.transports,"xhr"),e.transports.push("xhr_streaming")),"queueMessages"in e||(e.queueMessages=!0);var n=e.environment&&String(e.environment).toLowerCase()||o.ENVIRONMENT,i=!n||"production"===n;for(var h in e.fallbackHosts||e.restHost||e.realtimeHost||e.port||e.tlsPort||(e.fallbackHosts=i?o.FALLBACK_HOSTS:o.environmentFallbackHosts(n)),e.realtimeHost||(e.restHost?(c.a.logAction(c.a.LOG_WARN,"Defaults.normaliseOptions",'restHost is set to "'+e.restHost+'" but realtimeHost is not set, so setting realtimeHost to "'+e.restHost+'" too. If this is not what you want, please set realtimeHost explicitly.'),e.realtimeHost=e.restHost):e.realtimeHost=i?o.REALTIME_HOST:n+"-"+o.REALTIME_HOST),e.restHost||(e.restHost=i?o.REST_HOST:n+"-"+o.REST_HOST),r.a.arrForEach((e.fallbackHosts||[]).concat(e.restHost,e.realtimeHost),l),e.port=e.port||o.PORT,e.tlsPort=e.tlsPort||o.TLS_PORT,e.maxMessageSize=e.maxMessageSize||o.maxMessageSize,"tls"in e||(e.tls=!0),e.timeouts={},o.TIMEOUTS)e.timeouts[h]=e[h]||o.TIMEOUTS[h];return e.useBinaryProtocol="useBinaryProtocol"in e?a.a.supportsBinary&&e.useBinaryProtocol:a.a.preferBinary,e.clientId&&((e.headers=e.headers||{})["X-Ably-ClientId"]=s.a.base64Encode(s.a.utf8Encode(e.clientId))),"idempotentRestPublishing"in e||(e.idempotentRestPublishing=!0),e.promises&&!a.a.Promise&&(c.a.logAction(c.a.LOG_ERROR,"Defaults.normaliseOptions","{promises: true} was specified, but no Promise constructor found; disabling promises"),e.promises=!1),e},t.a=o},function(e,t,n){"use strict";var a=n(1),i=n(5),o=function(){var e=function(){};function t(){}var n=Date.now||function(){return(new Date).getTime()};function o(e){var t=e.statusCode;return 408===t&&!e.code||400===t&&!e.code||t>=500&&t<=504}function r(e){var t=e.connection,n=t&&t.connectionManager.host;return n?[n].concat(i.a.getFallbackHosts(e.options)):i.a.getHosts(e.options)}return t._getHosts=r,t.methods=["get","delete","post","put","patch"],t.methodsWithoutBody=["get","delete"],t.methodsWithBody=a.a.arrSubtract(t.methods,t.methodsWithoutBody),a.a.arrForEach(t.methodsWithoutBody,(function(e){t[e]=function(n,a,i,o,r){t.do(e,n,a,i,null,o,r)},t[e+"Uri"]=function(n,a,i,o,r){t.doUri(e,n,a,i,null,o,r)}})),a.a.arrForEach(t.methodsWithBody,(function(e){t[e]=function(n,a,i,o,r,s){t.do(e,n,a,i,o,r,s)},t[e+"Uri"]=function(n,a,i,o,r,s){t.doUri(e,n,a,i,o,r,s)}})),t.do=function(a,i,s,c,u,l,h){h=h||e;var d="function"==typeof s?s:function(e){return i.baseUri(e)+s},m=(c&&c.accept,arguments),p=i._currentFallback;if(p){if(p.validUntil>n())return void t.Request(a,i,d(p.host),c,l,u,(function(e){if(e&&o(e))return i._currentFallback=null,void t.do.apply(t,m);h.apply(null,arguments)}));i._currentFallback=null}var f=r(i);if(1!=f.length){var g=function(e,r){var s=e.shift();t.doUri(a,i,d(s),c,u,l,(function(t){t&&o(t)&&e.length?g(e,!0):(r&&(i._currentFallback={host:s,validUntil:n()+i.options.timeouts.fallbackRetryTimeout}),h.apply(null,arguments))}))};g(f)}else t.doUri(a,i,d(f[0]),c,u,l,h)},t.doUri=function(e,n,a,i,o,r,s){t.Request(e,n,a,i,r,o,s)},t.supportsAuthHeaders=!1,t.supportsLinkHeaders=!1,t}();t.a=o},function(e,t,n){"use strict";var a=n(1),i=n(0),o=n(3),r=function(){function e(){this.any=[],this.events={},this.anyOnce=[],this.eventsOnce={}}function t(e,t,n){try{t.apply(e,n)}catch(e){i.a.logAction(i.a.LOG_ERROR,"EventEmitter.emit()","Unexpected listener exception: "+e+"; stack = "+(e&&e.stack))}}function n(e,t,i){var o,r,s,c;for(c=0;c<e.length;c++)if(o=e[c],i&&(o=o[i]),a.a.isArray(o)){for(;-1!==(r=a.a.arrIndexOf(o,t));)o.splice(r,1);i&&0===o.length&&delete e[c][i]}else if(a.a.isObject(o))for(s in o)o.hasOwnProperty(s)&&a.a.isArray(o[s])&&n([o],t,s)}return e.prototype.on=function(e,t){if(1==arguments.length&&"function"==typeof e)this.any.push(e);else if(a.a.isEmptyArg(e))this.any.push(t);else if(a.a.isArray(e)){var n=this;a.a.arrForEach(e,(function(e){n.on(e,t)}))}else{var i=this.events[e]||(this.events[e]=[]);i.push(t)}},e.prototype.off=function(e,t){if(0==arguments.length||a.a.isEmptyArg(e)&&a.a.isEmptyArg(t))return this.any=[],this.events={},this.anyOnce=[],void(this.eventsOnce={});if(1==arguments.length&&"function"==typeof e&&(t=e,e=null),t&&a.a.isEmptyArg(e))n([this.any,this.events,this.anyOnce,this.eventsOnce],t);else{if(a.a.isArray(e)){var i=this;a.a.arrForEach(e,(function(e){i.off(e,t)}))}t?n([this.events,this.eventsOnce],t,e):(delete this.events[e],delete this.eventsOnce[e])}},e.prototype.listeners=function(e){if(e){var t=this.events[e]||[];return this.eventsOnce[e]&&Array.prototype.push.apply(t,this.eventsOnce[e]),t.length?t:null}return this.any.length?this.any:null},e.prototype.emit=function(e){var n=Array.prototype.slice.call(arguments,1),i={event:e},o=[];this.anyOnce.length&&(Array.prototype.push.apply(o,this.anyOnce),this.anyOnce=[]),this.any.length&&Array.prototype.push.apply(o,this.any);var r=this.eventsOnce[e];r&&(Array.prototype.push.apply(o,r),delete this.eventsOnce[e]);var s=this.events[e];s&&Array.prototype.push.apply(o,s),a.a.arrForEach(o,(function(e){t(i,e,n)}))},e.prototype.once=function(e,t){var n=arguments.length,i=this;if((0===n||1===n&&"function"!=typeof e)&&o.a.Promise)return new o.a.Promise((function(t){i.once(e,t)}));if(1==arguments.length&&"function"==typeof e)this.anyOnce.push(e);else if(a.a.isEmptyArg(e))this.anyOnce.push(t);else{if(a.a.isArray(e))throw"Arrays of events can only be used with on(), not once()";var r=this.eventsOnce[e]||(this.eventsOnce[e]=[]);r.push(t)}},e.prototype.whenState=function(n,a,i){var r={event:n},s=this,c=Array.prototype.slice.call(arguments,3);if("string"!=typeof n||"string"!=typeof a)throw"whenState requires a valid event String argument";if("function"!=typeof i&&o.a.Promise)return new o.a.Promise((function(t){e.prototype.whenState.apply(s,[n,a,t].concat(c))}));n===a?t(r,i,c):this.once(n,i)},e}();t.a=r},function(e,t,n){"use strict";var a=n(1),i=n(2),o=n(9),r=n(11),s=function(){function e(){this.action=void 0,this.flags=void 0,this.id=void 0,this.timestamp=void 0,this.count=void 0,this.error=void 0,this.connectionId=void 0,this.connectionKey=void 0,this.connectionSerial=void 0,this.channel=void 0,this.channelSerial=void 0,this.msgSerial=void 0,this.messages=void 0,this.presence=void 0,this.auth=void 0,this.params=void 0}var t=e.Action={HEARTBEAT:0,ACK:1,NACK:2,CONNECT:3,CONNECTED:4,DISCONNECT:5,DISCONNECTED:6,CLOSE:7,CLOSED:8,ERROR:9,ATTACH:10,ATTACHED:11,DETACH:12,DETACHED:13,PRESENCE:14,MESSAGE:15,SYNC:16,AUTH:17};e.channelModes=["PRESENCE","PUBLISH","SUBSCRIBE","PRESENCE_SUBSCRIBE"],e.ActionName=[],a.a.arrForEach(a.a.keysArray(e.Action,!0),(function(n){e.ActionName[t[n]]=n}));var n={HAS_PRESENCE:1,HAS_BACKLOG:2,RESUMED:4,TRANSIENT:16,ATTACH_RESUME:32,PRESENCE:65536,PUBLISH:1<<17,SUBSCRIBE:1<<18,PRESENCE_SUBSCRIBE:1<<19},s=a.a.keysArray(n);function c(e){var t=[];if(e)for(var n=0;n<e.length;n++)t.push(e[n].toString());return"[ "+t.join(", ")+" ]"}n.MODE_ALL=n.PRESENCE|n.PUBLISH|n.SUBSCRIBE|n.PRESENCE_SUBSCRIBE,e.prototype.hasFlag=function(e){return(this.flags&n[e])>0},e.prototype.setFlag=function(e){return this.flags=this.flags|n[e]},e.prototype.getMode=function(){return this.flags&&this.flags&n.MODE_ALL},e.prototype.encodeModesToFlags=function(e){var t=this;a.a.arrForEach(e,(function(e){t.setFlag(e)}))},e.prototype.decodeModesFromFlags=function(){var t=[],n=this;return a.a.arrForEach(e.channelModes,(function(e){n.hasFlag(e)&&t.push(e)})),t.length>0?t:void 0},e.serialize=a.a.encodeBody,e.deserialize=function(t,n){var i=a.a.decodeBody(t,n);return e.fromDeserialized(i)},e.fromDeserialized=function(t){var n=t.error;n&&(t.error=i.a.fromValues(n));var s=t.messages;if(s)for(var c=0;c<s.length;c++)s[c]=o.a.fromValues(s[c]);var u=t.presence;if(u)for(c=0;c<u.length;c++)u[c]=r.a.fromValues(u[c],!0);return a.a.mixin(new e,t)},e.fromValues=function(t){return a.a.mixin(new e,t)};var u="id channel channelSerial connectionId connectionKey connectionSerial count msgSerial timestamp".split(" ");return e.stringify=function(t){var n,l="[ProtocolMessage";void 0!==t.action&&(l+="; action="+e.ActionName[t.action]||0);for(var h=0;h<u.length;h++)n=u[h],void 0!==t[n]&&(l+="; "+n+"="+t[n]);if(t.messages&&(l+="; messages="+c(o.a.fromValuesArray(t.messages))),t.presence&&(l+="; presence="+c(r.a.fromValuesArray(t.presence))),t.error&&(l+="; error="+i.a.fromValues(t.error).toString()),t.auth&&t.auth.accessToken&&(l+="; token="+t.auth.accessToken),t.flags&&(l+="; flags="+a.a.arrFilter(s,(function(e){return t.hasFlag(e)})).join(",")),t.params){var d="";a.a.forInOwnNonNullProps(t.params,(function(e){d.length>0&&(d+="; "),d+=e+"="+t.params[e]})),d.length>0&&(l+="; params=["+d+"]")}return l+"]"},e.isDuplicate=function(e,n){if(e&&n&&(e.action===t.MESSAGE||e.action===t.PRESENCE)&&e.action===n.action&&e.channel===n.channel&&e.id===n.id){if(e.action===t.PRESENCE)return!0;if(e.messages.length===n.messages.length){for(var a=0;a<e.messages.length;a++){var i=e.messages[a],o=n.messages[a];if((i.extras&&i.extras.delta&&i.extras.delta.format)!==(o.extras&&o.extras.delta&&o.extras.delta.format))return!1}return!0}}return!1},e}();t.a=s},function(e,t,n){"use strict";var a=n(4),i=n(1),o=n(0),r=n(19),s=n(2),c=function(){function e(){this.name=void 0,this.id=void 0,this.timestamp=void 0,this.clientId=void 0,this.connectionId=void 0,this.connectionKey=void 0,this.data=void 0,this.encoding=void 0,this.extras=void 0,this.size=void 0}function t(e){if(e&&e.cipher&&!e.cipher.channelCipher){if(!r.a)throw new Error("Encryption not enabled; use ably.encryption.js instead");var t=r.a.getCipher(e.cipher);e.cipher=t.cipherParams,e.channelCipher=t.cipher}}function n(e){var t=0;return e.name&&(t+=e.name.length),e.clientId&&(t+=e.clientId.length),e.extras&&(t+=JSON.stringify(e.extras).length),e.data&&(t+=i.a.dataSizeBytes(e.data)),t}return e.prototype.toJSON=function(){var e={name:this.name,id:this.id,clientId:this.clientId,connectionId:this.connectionId,connectionKey:this.connectionKey,encoding:this.encoding,extras:this.extras},t=this.data;if(t&&a.a.isBuffer(t))if(arguments.length>0){var n=this.encoding;e.encoding=n?n+"/base64":"base64",t=a.a.base64Encode(t)}else t=a.a.toBuffer(t);return e.data=t,e},e.prototype.toString=function(){var e="[Message";return this.name&&(e+="; name="+this.name),this.id&&(e+="; id="+this.id),this.timestamp&&(e+="; timestamp="+this.timestamp),this.clientId&&(e+="; clientId="+this.clientId),this.connectionId&&(e+="; connectionId="+this.connectionId),this.encoding&&(e+="; encoding="+this.encoding),this.extras&&(e+="; extras ="+JSON.stringify(this.extras)),this.data&&("string"==typeof this.data?e+="; data="+this.data:a.a.isBuffer(this.data)?e+="; data (buffer)="+a.a.base64Encode(this.data):e+="; data (json)="+JSON.stringify(this.data)),this.extras&&(e+="; extras="+JSON.stringify(this.extras)),e+"]"},e.encrypt=function(e,t,n){var i=e.data,o=e.encoding,r=t.channelCipher;o=o?o+"/":"",a.a.isBuffer(i)||(i=a.a.utf8Encode(String(i)),o+="utf-8/"),r.encrypt(i,(function(t,a){t?n(t):(e.data=a,e.encoding=o+"cipher+"+r.algorithm,n(null,e))}))},e.encode=function(t,n,o){var r,c=t.data;if("string"!=typeof c&&!a.a.isBuffer(c)&&null!=c){if(!i.a.isObject(c)&&!i.a.isArray(c))throw new s.a("Data type is unsupported",40013,400);t.data=JSON.stringify(c),t.encoding=(r=t.encoding)?r+"/json":"json"}null!=n&&n.cipher?e.encrypt(t,n,o):o(null,t)},e.encodeArray=function(t,n,a){for(var i=0,o=0;o<t.length;o++)e.encode(t[o],n,(function(e,n){e?a(e):++i==t.length&&a(null,t)}))},e.serialize=i.a.encodeBody,e.decode=function(e,t){t&&t.channelOptions||(t={channelOptions:t,plugins:{},baseEncodedPreviousPayload:void 0});var n=e.data,i=e.encoding;if(i){var o,r=i.split("/"),c=r.length,u=e.data;try{for(;(o=c)>0;){var l=r[--c].match(/([\-\w]+)(\+([\w\-]+))?/);if(!l)break;var h=l[1];switch(h){case"base64":u=a.a.base64Decode(String(u)),o==r.length&&(n=u);continue;case"utf-8":u=a.a.utf8Decode(u);continue;case"json":u=JSON.parse(u);continue;case"cipher":if(null!=t.channelOptions&&t.channelOptions.cipher){var d=l[3],m=t.channelOptions.channelCipher;if(d!=m.algorithm)throw new Error("Unable to decrypt message with given cipher; incompatible cipher params");u=m.decrypt(u);continue}throw new Error("Unable to decrypt message; not an encrypted channel");case"vcdiff":if(!t.plugins||!t.plugins.vcdiff)throw new s.a("Missing Vcdiff decoder (https://github.com/ably-forks/vcdiff-decoder)",40019,400);if("undefined"==typeof Uint8Array)throw new s.a("Delta decoding not supported on this browser (need ArrayBuffer & Uint8Array)",40020,400);try{var p=t.baseEncodedPreviousPayload;"string"==typeof p&&(p=a.a.utf8Encode(p)),p=a.a.toBuffer(p),u=a.a.toBuffer(u),n=u=a.a.typedArrayToBuffer(t.plugins.vcdiff.decode(u,p))}catch(e){throw new s.a("Vcdiff delta decode failed with "+e,40018,400)}continue;default:throw new Error("Unknown encoding")}break}}catch(e){throw new s.a("Error processing the "+h+" encoding, decoder returned ‘"+e.message+"’",e.code||40013,400)}finally{e.encoding=o<=0?null:r.slice(0,o).join("/"),e.data=u}}t.baseEncodedPreviousPayload=n},e.fromResponseBody=function(t,n,a){a&&(t=i.a.decodeBody(t,a));for(var r=0;r<t.length;r++){var s=t[r]=e.fromValues(t[r]);try{e.decode(s,n)}catch(e){o.a.logAction(o.a.LOG_ERROR,"Message.fromResponseBody()",e.toString())}}return t},e.fromValues=function(t){return i.a.mixin(new e,t)},e.fromValuesArray=function(t){for(var n=t.length,a=new Array(n),i=0;i<n;i++)a[i]=e.fromValues(t[i]);return a},e.fromEncoded=function(n,a){var i=e.fromValues(n);t(a);try{e.decode(i,a)}catch(e){o.a.logAction(o.a.LOG_ERROR,"Message.fromEncoded()",e.toString())}return i},e.fromEncodedArray=function(n,a){return t(a),i.a.arrMap(n,(function(t){return e.fromEncoded(t,a)}))},e.getMessagesSize=function(e){for(var t,a=0,i=0;i<e.length;i++)a+=(t=e[i]).size||(t.size=n(t));return a},e}();t.a=c},function(e,t,n){var a;e.exports=(a=n(12),function(){if("function"==typeof ArrayBuffer){var e=a.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,a=[],i=0;i<n;i++)a[i>>>2]|=e[i]<<24-i%4*8;t.call(this,a,n)}else t.apply(this,arguments)};n.prototype=e}}(),a.lib.WordArray)},function(e,t,n){"use strict";var a=n(3),i=n(0),o=n(4),r=n(9),s=n(1),c=function(){function e(e){return s.a.arrIndexOf(t.Actions,e)}function t(){this.action=void 0,this.id=void 0,this.timestamp=void 0,this.clientId=void 0,this.connectionId=void 0,this.data=void 0,this.encoding=void 0,this.size=void 0}return a.a.msgpack,t.Actions=["absent","present","enter","leave","update"],t.prototype.isSynthesized=function(){return this.id.substring(this.connectionId.length,0)!==this.connectionId},t.prototype.parseId=function(){var e=this.id.split(":");return{connectionId:e[0],msgSerial:parseInt(e[1],10),index:parseInt(e[2],10)}},t.prototype.toJSON=function(){var t={clientId:this.clientId,action:e(this.action),encoding:this.encoding},n=this.data;if(n&&o.a.isBuffer(n))if(arguments.length>0){var a=this.encoding;t.encoding=a?a+"/base64":"base64",n=o.a.base64Encode(n)}else n=o.a.toBuffer(n);return t.data=n,t},t.prototype.toString=function(){var e="[PresenceMessage";return e+="; action="+this.action,this.id&&(e+="; id="+this.id),this.timestamp&&(e+="; timestamp="+this.timestamp),this.clientId&&(e+="; clientId="+this.clientId),this.connectionId&&(e+="; connectionId="+this.connectionId),this.encoding&&(e+="; encoding="+this.encoding),this.data&&("string"==typeof this.data?e+="; data="+this.data:o.a.isBuffer(this.data)?e+="; data (buffer)="+o.a.base64Encode(this.data):e+="; data (json)="+JSON.stringify(this.data)),e+"]"},t.encode=r.a.encode,t.decode=r.a.decode,t.fromResponseBody=function(e,n,a){a&&(e=s.a.decodeBody(e,a));for(var o=0;o<e.length;o++){var r=e[o]=t.fromValues(e[o],!0);try{t.decode(r,n)}catch(e){i.a.logAction(i.a.LOG_ERROR,"PresenceMessage.fromResponseBody()",e.toString())}}return e},t.fromValues=function(e,n){return n&&(e.action=t.Actions[e.action]),s.a.mixin(new t,e)},t.fromValuesArray=function(e){for(var n=e.length,a=new Array(n),i=0;i<n;i++)a[i]=t.fromValues(e[i]);return a},t.fromEncoded=function(e,n){var a=t.fromValues(e,!0);try{t.decode(a,n)}catch(e){i.a.logAction(i.a.LOG_ERROR,"PresenceMessage.fromEncoded()",e.toString())}return a},t.fromEncodedArray=function(e,n){return s.a.arrMap(e,(function(e){return t.fromEncoded(e,n)}))},t.getMessagesSize=r.a.getMessagesSize,t}();t.a=c},function(e,t,n){(function(t){var a;e.exports=(a=a||function(e,a){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=n(45)}catch(e){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},u=c.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,a=this.sigBytes,i=e.sigBytes;if(this.clamp(),a%4)for(var o=0;o<i;o++){var r=n[o>>>2]>>>24-o%4*8&255;t[a+o>>>2]|=r<<24-(a+o)%4*8}else for(o=0;o<i;o+=4)t[a+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new l.init(t,e)}}),h=s.enc={},d=h.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;a.push((o>>>4).toString(16)),a.push((15&o).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new l.init(n,t/2)}},m=h.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;a.push(String.fromCharCode(o))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new l.init(n,t)}},p=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(m.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return m.parse(unescape(encodeURIComponent(e)))}},f=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,a=this._data,i=a.words,o=a.sigBytes,r=this.blockSize,s=o/(4*r),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,u=e.min(4*c,o);if(c){for(var h=0;h<c;h+=r)this._doProcessBlock(i,h);n=i.splice(0,c),a.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(c.Hasher=f.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),a)}).call(this,n(17))},function(e,t,n){"use strict";var a=n(2),i=n(1),o={disconnected:a.a.fromValues({statusCode:400,code:80003,message:"Connection to server temporarily unavailable"}),suspended:a.a.fromValues({statusCode:400,code:80002,message:"Connection to server unavailable"}),failed:a.a.fromValues({statusCode:400,code:8e4,message:"Connection failed or disconnected by server"}),closing:a.a.fromValues({statusCode:400,code:80017,message:"Connection closing"}),closed:a.a.fromValues({statusCode:400,code:80017,message:"Connection closed"}),unknownConnectionErr:a.a.fromValues({statusCode:500,code:50002,message:"Internal connection error"}),unknownChannelErr:a.a.fromValues({statusCode:500,code:50001,message:"Internal channel error"}),isRetriable:function(e){if(!e.statusCode||!e.code||e.statusCode>=500)return!0;var t=!1;return i.a.valuesArray(o).forEach((function(n){n.code&&n.code==e.code&&(t=!0)})),t}};t.a=o},function(e,t,n){"use strict";var a=n(0),i=n(3),o=n(1),r=n(6),s=n(22),c=n(4),u=n(2),l=function(){function e(){this.buffer=[]}e.prototype.append=function(e){return this.buffer.push(e),this},e.prototype.toString=function(){return this.buffer.join("")};var t={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){for(var i=new e,o=t.codex,r=new n(a);r.moveNext();){var s=r.current;r.moveNext();var c=r.current;r.moveNext();var u=r.current,l=s>>2,h=(3&s)<<4|c>>4,d=(15&c)<<2|u>>6,m=63&u;isNaN(c)?d=m=64:isNaN(u)&&(m=64),i.append(o.charAt(l)+o.charAt(h)+o.charAt(d)+o.charAt(m))}return i.toString()},decode:function(t){for(var n=new e,i=new a(t);i.moveNext();){var o=i.current;if(o<128)n.append(String.fromCharCode(o));else if(o>191&&o<224){i.moveNext();var r=i.current;n.append(String.fromCharCode((31&o)<<6|63&r))}else{i.moveNext(),r=i.current,i.moveNext();var s=i.current;n.append(String.fromCharCode((15&o)<<12|(63&r)<<6|63&s))}}return n.toString()}};function n(e){this._input=e,this._index=-1,this._buffer=[]}function a(e){this._input=e,this._index=-1,this._buffer=[]}return n.prototype={current:Number.NaN,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var e=this._input.charCodeAt(++this._index);return 13==e&&10==this._input.charCodeAt(this._index+1)&&(e=10,this._index+=2),e<128?this.current=e:e>127&&e<2048?(this.current=e>>6|192,this._buffer.push(63&e|128)):(this.current=e>>12|224,this._buffer.push(e>>6&63|128),this._buffer.push(63&e|128)),!0}},a.prototype={current:64,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=64,!1;var e=t.codex.indexOf(this._input.charAt(++this._index)),n=t.codex.indexOf(this._input.charAt(++this._index)),a=t.codex.indexOf(this._input.charAt(++this._index)),i=t.codex.indexOf(this._input.charAt(++this._index)),o=e<<2|n>>4,r=(15&n)<<4|a>>2,s=(3&a)<<6|i;return this.current=o,64!=a&&this._buffer.push(r),64!=i&&this._buffer.push(s),!0}},t}(),h=n(38),d=n.n(h),m=n(18),p=function(){var e,t,n=Math.pow(2,17);function h(){}function p(){return("000000"+Math.floor(1e16*Math.random())).slice(-16)}function f(e){return o.a.isErrorInfo(e)?(e.code||(403===e.statusCode?e.code=40300:(e.code=40170,e.statusCode=401)),e):new u.a(o.a.inspectError(e),e.code||40170,e.statusCode||401)}function g(e){if(!e)return"";"string"==typeof e&&(e=JSON.parse(e));var t={},n=o.a.keysArray(e,!0);if(!n)return"";n.sort();for(var a=0;a<n.length;a++)t[n[a]]=e[n[a]].sort();return JSON.stringify(t)}function y(e){if(e.authCallback)a.a.logAction(a.a.LOG_MINOR,"Auth()","using token auth with authCallback");else if(e.authUrl)a.a.logAction(a.a.LOG_MINOR,"Auth()","using token auth with authUrl");else if(e.key)a.a.logAction(a.a.LOG_MINOR,"Auth()","using token auth with client-side signing");else{if(!e.tokenDetails){var t="authOptions must include valid authentication parameters";throw a.a.logAction(a.a.LOG_ERROR,"Auth()",t),new Error(t)}a.a.logAction(a.a.LOG_MINOR,"Auth()","using token auth with supplied token only")}}i.a.createHmac?(t=function(e){return Buffer.from(e,"ascii").toString("base64")},e=function(e,t){var n=i.a.createHmac("SHA256",t);return n.update(e),n.digest("base64")}):(t=l.encode,e=function(e,t){return Object(m.stringify)(d()(e,t))});var v=0;function k(t,n){if(this.client=t,this.tokenParams=n.defaultTokenParams||{},this.currentTokenRequestId=null,this.waitingForTokenRequest=null,function(e){return e.useTokenAuth||!function(e){return"useTokenAuth"in e&&!e.useTokenAuth}(e)&&(e.authCallback||e.authUrl||e.token||e.tokenDetails)}(n)){if(n.key&&!e){var i="client-side token request signing not supported";throw a.a.logAction(a.a.LOG_ERROR,"Auth()",i),new Error(i)}(function(e){return!e.key&&!e.authCallback&&!e.authUrl})(n)&&a.a.logAction(a.a.LOG_ERROR,"Auth()","Warning: library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),this._saveTokenOptions(n.defaultTokenParams,n),y(this.authOptions)}else{if(!n.key)throw i="No authentication options provided; need one of: key, authUrl, or authCallback (or for testing only, token or tokenDetails)",a.a.logAction(a.a.LOG_ERROR,"Auth()",i),new u.a(i,40160,401);a.a.logAction(a.a.LOG_MINOR,"Auth()","anonymous, using basic auth"),this._saveBasicOptions(n)}}return k.prototype.authorize=function(e,t,n){if("function"!=typeof e||n?"function"!=typeof t||n||(n=t,t=null):(n=e,t=e=null),!n){if(this.client.options.promises)return o.a.promisify(this,"authorize",arguments);n=h}var i=this;if(t&&t.key&&this.authOptions.key!==t.key)throw new u.a("Unable to update auth options with incompatible key",40102,401);t&&"force"in t&&(a.a.logAction(a.a.LOG_ERROR,"Auth.authorize","Deprecation warning: specifying {force: true} in authOptions is no longer necessary, authorize() now always gets a new token. Please remove this, as in version 1.0 and later, having a non-null authOptions will overwrite stored library authOptions, which may not be what you want"),o.a.isOnlyPropIn(t,"force")&&(t=null)),this._forceNewToken(e,t,(function(e,t){if(e)return i.client.connection&&i.client.connection.connectionManager.actOnErrorFromAuthorize(e),void n(e);i.client.connection?i.client.connection.connectionManager.onAuthUpdated(t,n):n(null,t)}))},k.prototype.authorise=function(){a.a.deprecated("Auth.authorise","Auth.authorize"),this.authorize.apply(this,arguments)},k.prototype._forceNewToken=function(e,t,n){var a=this;this.tokenDetails=null,this._saveTokenOptions(e,t),y(this.authOptions),this._ensureValidAuthCredentials(!0,(function(e,t){delete a.tokenParams.timestamp,delete a.authOptions.queryTime,n(e,t)}))},k.prototype.requestToken=function(e,t,i){if("function"!=typeof e||i?"function"!=typeof t||i||(i=t,t=null):(i=e,t=e=null),!i&&this.client.options.promises)return o.a.promisify(this,"requestToken",arguments);t=t||this.authOptions,e=e||o.a.copy(this.tokenParams),i=i||h;var s,l=this.client;if(t.authCallback)a.a.logAction(a.a.LOG_MINOR,"Auth.requestToken()","using token auth with authCallback"),s=t.authCallback;else if(t.authUrl)a.a.logAction(a.a.LOG_MINOR,"Auth.requestToken()","using token auth with authUrl"),s=function(e,i){var s=o.a.mixin({accept:"application/json, text/plain"},t.authHeaders),h=t.authMethod&&"post"===t.authMethod.toLowerCase();if(!h){var d=t.authUrl.indexOf("?");if(d>-1){var m=o.a.parseQueryString(t.authUrl.slice(d));t.authUrl=t.authUrl.slice(0,d),t.authParams=o.a.mixin(m,t.authParams)}}var p=o.a.mixin({},t.authParams||{},e),f=function(e,t,r,s){var l;if(e?a.a.logAction(a.a.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received Error: "+o.a.inspectError(e)):(l=r["content-type"],a.a.logAction(a.a.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received; content-type: "+l+"; body: "+o.a.inspectBody(t))),e||s)return i(e,t);if(c.a.isBuffer(t)&&(t=t.toString()),l){var h=l.indexOf("application/json")>-1,d=l.indexOf("text/plain")>-1||l.indexOf("application/jwt")>-1;if(h||d){if(h){if(t.length>n)return void i(new u.a("authUrl response exceeded max permitted length",40170,401));try{t=JSON.parse(t)}catch(e){return void i(new u.a("Unexpected error processing authURL response; err = "+e.message,40170,401))}}i(null,t,l)}else i(new u.a("authUrl responded with unacceptable content-type "+l+", should be either text/plain, application/jwt or application/json",40170,401))}else i(new u.a("authUrl response is missing a content-type header",40170,401))};if(a.a.logAction(a.a.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Requesting token from "+t.authUrl+"; Params: "+JSON.stringify(p)+"; method: "+(h?"POST":"GET")),h){var g=s||{};g["content-type"]="application/x-www-form-urlencoded";var y=o.a.toQueryString(p).slice(1);r.a.postUri(l,t.authUrl,g,y,{},f)}else r.a.getUri(l,t.authUrl,s||{},p,f)};else{if(!t.key){var d="Need a new token, but authOptions does not include any way to request one (no authUrl, authCallback, or key)";return a.a.logAction(a.a.LOG_ERROR,"Auth()","library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),void i(new u.a(d,40171,403))}var m=this;a.a.logAction(a.a.LOG_MINOR,"Auth.requestToken()","using token auth with client-side signing"),s=function(e,n){m.createTokenRequest(e,t,n)}}"capability"in e&&(e.capability=g(e.capability));var p=function(e,n){var i="/keys/"+e.keyName+"/requestToken",s=o.a.defaultPostHeaders();t.requestHeaders&&o.a.mixin(s,t.requestHeaders),a.a.logAction(a.a.LOG_MICRO,"Auth.requestToken().requestToken","Sending POST to "+i+"; Token params: "+JSON.stringify(e)),e=JSON.stringify(e),r.a.post(l,(function(e){return l.baseUri(e)+i}),s,e,null,n)},y=!1,v=this.client.options.timeouts.realtimeRequestTimeout,k=setTimeout((function(){y=!0;var e="Token request callback timed out after "+v/1e3+" seconds";a.a.logAction(a.a.LOG_ERROR,"Auth.requestToken()",e),i(new u.a(e,40170,401))}),v);s(e,(function(e,r,s){if(!y){if(clearTimeout(k),e)return a.a.logAction(a.a.LOG_ERROR,"Auth.requestToken()","token request signing call returned error; err = "+o.a.inspectError(e)),void i(f(e));if("string"!=typeof r){if("object"!=typeof r){var c="Expected token request callback to call back with a token string or token request/details object, but got a "+typeof r;return a.a.logAction(a.a.LOG_ERROR,"Auth.requestToken()",c),void i(new u.a(c,40170,401))}var l=JSON.stringify(r).length;if(l>n&&!t.suppressMaxLengthCheck)i(new u.a("Token request/details object exceeded max permitted stringified size (was "+l+" bytes)",40170,401));else if("issued"in r)i(null,r);else{if(!("keyName"in r))return c="Expected token request callback to call back with a token string, token request object, or token details object",a.a.logAction(a.a.LOG_ERROR,"Auth.requestToken()",c),void i(new u.a(c,40170,401));p(r,(function(e,t,n,r){if(e)return a.a.logAction(a.a.LOG_ERROR,"Auth.requestToken()","token request API call returned error; err = "+o.a.inspectError(e)),void i(f(e));r||(t=JSON.parse(t)),a.a.logAction(a.a.LOG_MINOR,"Auth.getToken()","token received"),i(null,t)}))}}else 0===r.length?i(new u.a("Token string is empty",40170,401)):r.length>n?i(new u.a("Token string exceeded max permitted length (was "+r.length+" bytes)",40170,401)):"undefined"===r||"null"===r?i(new u.a("Token string was literal null/undefined",40170,401)):"{"!==r[0]||s&&s.indexOf("application/jwt")>-1?i(null,{token:r}):i(new u.a("Token was double-encoded; make sure you're not JSON-encoding an already encoded token request or details",40170,401))}}))},k.prototype.createTokenRequest=function(t,n,i){if("function"!=typeof t||i?"function"!=typeof n||i||(i=n,n=null):(i=t,n=t=null),!i&&this.client.options.promises)return o.a.promisify(this,"createTokenRequest",arguments);n=n||this.authOptions,t=t||o.a.copy(this.tokenParams);var r=n.key;if(r){var s=r.split(":"),c=s[0],l=s[1];if(l)if(""!==t.clientId){"capability"in t&&(t.capability=g(t.capability));var h,d=o.a.mixin({keyName:c},t),m=t.clientId||"",f=t.ttl||"",y=t.capability||"",v=this;h=function(){var t=d.nonce||(d.nonce=p()),n=d.timestamp,o=d.keyName+"\n"+f+"\n"+y+"\n"+m+"\n"+n+"\n"+t+"\n";d.mac=d.mac||e(o,l),a.a.logAction(a.a.LOG_MINOR,"Auth.getTokenRequest()","generated signed request"),i(null,d)},d.timestamp?h():v.getTimestamp(n&&n.queryTime,(function(e,t){e?i(e):(d.timestamp=t,h())}))}else i(new u.a("clientId can’t be an empty string",40012,400));else i(new u.a("Invalid key specified",40101,403))}else i(new u.a("No key specified",40101,403))},k.prototype.getAuthParams=function(e){"basic"==this.method?e(null,{key:this.key}):this._ensureValidAuthCredentials(!1,(function(t,n){t?e(t):e(null,{access_token:n.token})}))},k.prototype.getAuthHeaders=function(e){"basic"==this.method?e(null,{authorization:"Basic "+this.basicKey}):this._ensureValidAuthCredentials(!1,(function(n,a){n?e(n):e(null,{authorization:"Bearer "+t(a.token)})}))},k.prototype.getTimestamp=function(e,t){this.isTimeOffsetSet()||!e&&!this.authOptions.queryTime?t(null,this.getTimestampUsingOffset()):this.client.time(t)},k.prototype.getTimestampUsingOffset=function(){return o.a.now()+(this.client.serverTimeOffset||0)},k.prototype.isTimeOffsetSet=function(){return null!==this.client.serverTimeOffset},k.prototype._saveBasicOptions=function(e){this.method="basic",this.key=e.key,this.basicKey=t(e.key),this.authOptions=e||{},"clientId"in e&&this._userSetClientId(e.clientId)},k.prototype._saveTokenOptions=function(e,t){this.method="token",e&&(this.tokenParams=e),t&&(t.token&&(t.tokenDetails="string"==typeof t.token?{token:t.token}:t.token),t.tokenDetails&&(this.tokenDetails=t.tokenDetails),"clientId"in t&&this._userSetClientId(t.clientId),this.authOptions=t)},k.prototype._ensureValidAuthCredentials=function(e,t){var n=this,i=this.tokenDetails;if(i){if(this._tokenClientIdMismatch(i.clientId))return void t(new u.a("Mismatch between clientId in token ("+i.clientId+") and current clientId ("+this.clientId+")",40102,403));if(!this.isTimeOffsetSet()||!i.expires||i.expires>=this.getTimestampUsingOffset())return a.a.logAction(a.a.LOG_MINOR,"Auth.getToken()","using cached token; expires = "+i.expires),void t(null,i);a.a.logAction(a.a.LOG_MINOR,"Auth.getToken()","deleting expired token"),this.tokenDetails=null}if((this.waitingForTokenRequest||(this.waitingForTokenRequest=Object(s.a)())).push(t),null===this.currentTokenRequestId||e){var o=this.currentTokenRequestId=v++;this.requestToken(this.tokenParams,this.authOptions,(function(e,t){if(n.currentTokenRequestId>o)a.a.logAction(a.a.LOG_MINOR,"Auth._ensureValidAuthCredentials()","Discarding token request response; overtaken by newer one");else{n.currentTokenRequestId=null;var i=n.waitingForTokenRequest||h;n.waitingForTokenRequest=null,e?i(e):i(null,n.tokenDetails=t)}}))}},k.prototype._userSetClientId=function(e){if("string"!=typeof e&&null!==e)throw new u.a("clientId must be either a string or null",40012,400);if("*"===e)throw new u.a('Can’t use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, instantiate the library with {defaultTokenParams: {clientId: "*"}}), or if calling authorize(), pass it in as a tokenParam: authorize({clientId: "*"}, authOptions)',40012,400);var t=this._uncheckedSetClientId(e);if(t)throw t},k.prototype._uncheckedSetClientId=function(e){if(this._tokenClientIdMismatch(e)){var t="Unexpected clientId mismatch: client has "+this.clientId+", requested "+e,n=new u.a(t,40102,401);return a.a.logAction(a.a.LOG_ERROR,"Auth._uncheckedSetClientId()",t),n}return this.clientId=this.tokenParams.clientId=e,null},k.prototype._tokenClientIdMismatch=function(e){return this.clientId&&"*"!==this.clientId&&e&&"*"!==e&&this.clientId!==e},k.isTokenErr=function(e){return e.code&&e.code>=40140&&e.code<40150},k}();t.a=p},function(e,t,n){"use strict";var a=n(1),i=n(8),o=n(20),r=n(0),s=n(5),c=n(13),u=n(14),l=n(2),h=function(){function e(e){return function(e){return!!e.code&&!u.a.isTokenErr(e)&&(!!a.a.arrIn([80015,80017,80030],e.code)||e.code>=4e4&&e.code<5e4)}(e)?[i.a.fromValues({action:i.a.Action.ERROR,error:e})]:[i.a.fromValues({action:i.a.Action.DISCONNECTED,error:e})]}function t(e,t,n){n.format=void 0,n.heartbeats=!0,o.a.call(this,e,t,n),this.stream=!("stream"in n)||n.stream,this.sendRequest=null,this.recvRequest=null,this.pendingCallback=null,this.pendingItems=null}return a.a.inherits(t,o.a),t.REQ_SEND=0,t.REQ_RECV=1,t.REQ_RECV_POLL=2,t.REQ_RECV_STREAM=3,t.prototype.connect=function(){r.a.logAction(r.a.LOG_MINOR,"CometTransport.connect()","starting"),o.a.prototype.connect.call(this);var t=this,n=this.params,i=n.options,c=s.a.getHost(i,n.host),u=s.a.getPort(i),h=i.tls?"https://":"http://";this.baseUri=h+c+":"+u+"/comet/";var d=this.baseUri+"connect";r.a.logAction(r.a.LOG_MINOR,"CometTransport.connect()","uri: "+d),this.auth.getAuthParams((function(n,i){if(n)t.disconnect(n);else if(!t.isDisposed){t.authParams=i;var o=t.params.getConnectParams(i);"stream"in o&&(t.stream=o.stream),r.a.logAction(r.a.LOG_MINOR,"CometTransport.connect()","connectParams:"+a.a.toQueryString(o));var s=!1,c=t.recvRequest=t.createRequest(d,null,o,null,t.stream?3:1);c.on("data",(function(e){t.recvRequest&&(s||(s=!0,t.emit("preconnect")),t.onData(e))})),c.on("complete",(function(n,i,o){t.recvRequest||(n=n||new l.a("Request cancelled",80003,400)),t.recvRequest=null,s||n||(s=!0,t.emit("preconnect")),t.onActivity(),n?n.code?t.onData(e(n)):t.disconnect(n):a.a.nextTick((function(){t.recv()}))})),c.exec()}}))},t.prototype.requestClose=function(){r.a.logAction(r.a.LOG_MINOR,"CometTransport.requestClose()"),this._requestCloseOrDisconnect(!0)},t.prototype.requestDisconnect=function(){r.a.logAction(r.a.LOG_MINOR,"CometTransport.requestDisconnect()"),this._requestCloseOrDisconnect(!1)},t.prototype._requestCloseOrDisconnect=function(e){var t=e?this.closeUri:this.disconnectUri;if(t){var n=this,i=this.createRequest(t,null,this.authParams,null,0);i.on("complete",(function(t){t&&(r.a.logAction(r.a.LOG_ERROR,"CometTransport.request"+(e?"Close()":"Disconnect()"),"request returned err = "+a.a.inspectError(t)),n.finish("disconnected",t))})),i.exec()}},t.prototype.dispose=function(){if(r.a.logAction(r.a.LOG_MINOR,"CometTransport.dispose()",""),!this.isDisposed){this.isDisposed=!0,this.recvRequest&&(r.a.logAction(r.a.LOG_MINOR,"CometTransport.dispose()","aborting recv request"),this.recvRequest.abort(),this.recvRequest=null),this.finish("disconnected",c.a.disconnected);var e=this;a.a.nextTick((function(){e.emit("disposed")}))}},t.prototype.onConnect=function(e){if(!this.isDisposed){var t=e.connectionKey;o.a.prototype.onConnect.call(this,e);var n=this.baseUri+t;r.a.logAction(r.a.LOG_MICRO,"CometTransport.onConnect()","baseUri = "+n+"; connectionKey = "+e.connectionKey),this.sendUri=n+"/send",this.recvUri=n+"/recv",this.closeUri=n+"/close",this.disconnectUri=n+"/disconnect"}},t.prototype.send=function(e){if(this.sendRequest)return this.pendingItems=this.pendingItems||[],void this.pendingItems.push(e);var t=this.pendingItems||[];t.push(e),this.pendingItems=null,this.sendItems(t)},t.prototype.sendAnyPending=function(){var e=this.pendingItems;e&&(this.pendingItems=null,this.sendItems(e))},t.prototype.sendItems=function(t){var n=this,i=this.sendRequest=n.createRequest(n.sendUri,null,n.authParams,this.encodeRequest(t),0);i.on("complete",(function(t,i){t&&r.a.logAction(r.a.LOG_ERROR,"CometTransport.sendItems()","on complete: err = "+a.a.inspectError(t)),n.sendRequest=null,t?t.code?n.onData(e(t)):n.disconnect(t):(i&&n.onData(i),n.pendingItems&&a.a.nextTick((function(){n.sendRequest||n.sendAnyPending()})))})),i.exec()},t.prototype.recv=function(){if(!this.recvRequest&&this.isConnected){var t=this,n=this.recvRequest=this.createRequest(this.recvUri,null,this.authParams,null,t.stream?3:2);n.on("data",(function(e){t.onData(e)})),n.on("complete",(function(n){t.recvRequest=null,t.onActivity(),n?n.code?t.onData(e(n)):t.disconnect(n):a.a.nextTick((function(){t.recv()}))})),n.exec()}},t.prototype.onData=function(e){try{var t=this.decodeResponse(e);if(t&&t.length)for(var n=0;n<t.length;n++)this.onProtocolMessage(i.a.fromDeserialized(t[n]))}catch(e){r.a.logAction(r.a.LOG_ERROR,"CometTransport.onData()","Unexpected exception handing channel event: "+e.stack)}},t.prototype.encodeRequest=function(e){return JSON.stringify(e)},t.prototype.decodeResponse=function(e){return"string"==typeof e&&(e=JSON.parse(e)),e},t.prototype.onAuthUpdated=function(e){this.authParams={access_token:e.token}},t}();t.a=h},function(e,t,n){"use strict";(function(e){var a=n(1),i=function(){var t,n,i="ablyjs-storage-test";try{e.sessionStorage.setItem(i,i),e.sessionStorage.removeItem(i),t=!0}catch(e){t=!1}try{e.localStorage.setItem(i,i),e.localStorage.removeItem(i),n=!0}catch(e){n=!1}function o(){}function r(t){return t?e.sessionStorage:e.localStorage}function s(e,t,n,i){var o={value:t};return n&&(o.expires=a.a.now()+n),r(i).setItem(e,JSON.stringify(o))}function c(e,t){var n=r(t).getItem(e);if(!n)return null;var i=JSON.parse(n);return i.expires&&i.expires<a.a.now()?(r(t).removeItem(e),null):i.value}function u(e,t){return r(t).removeItem(e)}return n&&(o.set=function(e,t,n){return s(e,t,n,!1)},o.get=function(e){return c(e,!1)},o.remove=function(e){return u(e,!1)}),t&&(o.setSession=function(e,t,n){return s(e,t,n,!0)},o.getSession=function(e){return c(e,!0)},o.removeSession=function(e){return u(e,!0)}),o}();t.a=i}).call(this,n(17))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var a,i,o;e.exports=(a=n(12),o=(i=a).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.clamp();for(var i=[],o=0;o<n;o+=3)for(var r=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(a.charAt(r>>>6*(3-s)&63));var c=a.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<n.length;i++)a[n.charCodeAt(i)]=i}var r=n.charAt(64);if(r){var s=e.indexOf(r);-1!==s&&(t=s)}return function(e,t,n){for(var a=[],i=0,r=0;r<t;r++)if(r%4){var s=n[e.charCodeAt(r-1)]<<r%4*2|n[e.charCodeAt(r)]>>>6-r%4*2;a[i>>>2]|=s<<24-i%4*8,i++}return o.create(a,i)}(e,t,a)}},a.enc.Base64)},function(e,t,n){"use strict";var a=n(10),i=n.n(a),o=n(18),r=n(28),s=n.n(r),c=n(3),u=n(0),l=n(4),h=function(){var e;if(c.a.getRandomWordArray)e=c.a.getRandomWordArray;else if("undefined"!=typeof Uint32Array&&c.a.getRandomValues){var t=new Uint32Array(4);e=function(e,n){var a=e/4,i=4==a?t:new Uint32Array(a);c.a.getRandomValues(i,(function(e){n(e,l.a.toWordArray(i))}))}}else e=function(e,t){u.a.logAction(u.a.LOG_MAJOR,"Ably.Crypto.generateRandom()","Warning: the browser you are using does not support secure cryptographically secure randomness generation; falling back to insecure Math.random()");for(var n=e/4,a=new Array(n),o=0;o<n;o++)a[o]=Math.floor(4294967296*Math.random())-2147483648;t(null,i.a.create(a))};function n(e){if("aes"===e.algorithm&&"cbc"===e.mode){if(128===e.keyLength||256===e.keyLength)return;throw new Error("Unsupported key length "+e.keyLength+" for aes-cbc encryption. Encryption key must be 128 or 256 bits (16 or 32 ASCII characters)")}}function a(e){return e.replace("_","/").replace("-","+")}i.a.create([0,0,0,0]);var r=[i.a.create([269488144,269488144,269488144,269488144],16),i.a.create([16777216],1),i.a.create([33685504],2),i.a.create([50529024],3),i.a.create([67372036],4),i.a.create([84215045,83886080],5),i.a.create([101058054,101056512],6),i.a.create([117901063,117901056],7),i.a.create([134744072,134744072],8),i.a.create([151587081,151587081,150994944],9),i.a.create([168430090,168430090,168427520],10),i.a.create([185273099,185273099,185273088],11),i.a.create([202116108,202116108,202116108],12),i.a.create([218959117,218959117,218959117,218103808],13),i.a.create([235802126,235802126,235802126,235798528],14),i.a.create([252645135,252645135,252645135,252645135],15),i.a.create([269488144,269488144,269488144,269488144],16)];function h(){}function d(){this.algorithm=null,this.keyLength=null,this.mode=null,this.key=null}function m(e,t,n){this.algorithm=e.algorithm+"-"+String(e.keyLength)+"-"+e.mode,this.cjsAlgorithm=e.algorithm.toUpperCase().replace(/-\d+$/,""),this.key=l.a.toWordArray(e.key),n&&(this.iv=l.a.toWordArray(n).clone()),this.blockLengthWords=t}return h.CipherParams=d,h.getDefaultParams=function(e){var t;if("function"!=typeof e&&"string"!=typeof e){if(!e.key)throw new Error("Crypto.getDefaultParams: a key is required");t="string"==typeof e.key?Object(o.parse)(a(e.key)):l.a.toWordArray(e.key);var i=new d;if(i.key=t,i.algorithm=e.algorithm||"aes",i.keyLength=32*t.words.length,i.mode=e.mode||"cbc",e.keyLength&&e.keyLength!==i.keyLength)throw new Error("Crypto.getDefaultParams: a keyLength of "+e.keyLength+" was specified, but the key actually has length "+i.keyLength);return n(i),i}if(u.a.deprecated("Crypto.getDefaultParams(key, callback)","Crypto.getDefaultParams({key: key})"),"function"==typeof e)h.generateRandomKey((function(t){e(null,h.getDefaultParams({key:t}))}));else{if("function"!=typeof arguments[1])throw new Error("Invalid arguments for Crypto.getDefaultParams");arguments[1](null,h.getDefaultParams({key:e}))}},h.generateRandomKey=function(t,n){1==arguments.length&&"function"==typeof t&&(n=t,t=void 0),e((t||256)/8,n)},h.getCipher=function(e){var t=e instanceof d?e:h.getDefaultParams(e);return{cipherParams:t,cipher:new m(t,4,e.iv)}},m.prototype.encrypt=function(t,n){u.a.logAction(u.a.LOG_MICRO,"CBCCipher.encrypt()","");var a=(t=l.a.toWordArray(t)).sigBytes,i=function(e){return e+16&-16}(a),o=this,c=function(){o.getIv((function(e,s){if(e)n(e);else{var c=o.encryptCipher.process(t.concat(r[i-a])),u=s.concat(c);n(null,u)}}))};this.encryptCipher?c():this.iv?(this.encryptCipher=s.a.algo[this.cjsAlgorithm].createEncryptor(this.key,{iv:this.iv}),c()):e(16,(function(e,t){e?n(e):(o.encryptCipher=s.a.algo[o.cjsAlgorithm].createEncryptor(o.key,{iv:t}),o.iv=t,c())}))},m.prototype.decrypt=function(e){u.a.logAction(u.a.LOG_MICRO,"CBCCipher.decrypt()",""),e=l.a.toWordArray(e);var t=this.blockLengthWords,n=e.words,a=i.a.create(n.slice(0,t)),o=i.a.create(n.slice(t)),r=s.a.algo[this.cjsAlgorithm].createDecryptor(this.key,{iv:a}),c=r.process(o),h=r.finalize();return r.reset(),h&&h.sigBytes&&c.concat(h),c},m.prototype.getIv=function(t){if(this.iv){var n=this.iv;return this.iv=null,void t(null,n)}var a=this;e(16,(function(e,n){e?t(e):t(null,a.encryptCipher.process(n))}))},h}();t.a=h},function(e,t,n){"use strict";var a=n(8),i=n(1),o=n(7),r=n(0),s=n(13),c=n(2),u=function(){var e=a.a.Action,t=a.a.fromValues({action:e.CLOSE}),n=a.a.fromValues({action:e.DISCONNECT});function u(e,t,n){o.a.call(this),this.connectionManager=e,e.registerProposedTransport(this),this.auth=t,this.params=n,this.timeouts=n.options.timeouts,this.format=n.format,this.isConnected=!1,this.isFinished=!1,this.isDisposed=!1,this.maxIdleInterval=null,this.idleTimer=null,this.lastActivity=null}return i.a.inherits(u,o.a),u.prototype.connect=function(){},u.prototype.close=function(){this.isConnected&&this.requestClose(),this.finish("closed",s.a.closed)},u.prototype.disconnect=function(e){this.isConnected&&this.requestDisconnect(),this.finish("disconnected",e||s.a.disconnected)},u.prototype.fail=function(e){this.isConnected&&this.requestDisconnect(),this.finish("failed",e||s.a.failed)},u.prototype.finish=function(e,t){this.isFinished||(this.isFinished=!0,this.isConnected=!1,this.maxIdleInterval=null,clearTimeout(this.idleTimer),this.idleTimer=null,this.emit(e,t),this.dispose())},u.prototype.onProtocolMessage=function(t){switch(r.a.shouldLog(r.a.LOG_MICRO)&&r.a.logAction(r.a.LOG_MICRO,"Transport.onProtocolMessage()","received on "+this.shortName+": "+a.a.stringify(t)+"; connectionId = "+this.connectionManager.connectionId),this.onActivity(),t.action){case e.HEARTBEAT:r.a.logAction(r.a.LOG_MICRO,"Transport.onProtocolMessage()",this.shortName+" heartbeat; connectionId = "+this.connectionManager.connectionId),this.emit("heartbeat",t.id);break;case e.CONNECTED:this.onConnect(t),this.emit("connected",t.error,t.connectionId,t.connectionDetails,t);break;case e.CLOSED:this.onClose(t);break;case e.DISCONNECTED:this.onDisconnect(t);break;case e.ACK:this.emit("ack",t.msgSerial,t.count);break;case e.NACK:this.emit("nack",t.msgSerial,t.count,t.error);break;case e.SYNC:if(void 0!==t.connectionId){this.emit("sync",t.connectionId,t);break}this.connectionManager.onChannelMessage(t,this);break;case e.AUTH:this.auth.authorize((function(e){e&&r.a.logAction(r.a.LOG_ERROR,"Transport.onProtocolMessage()","Ably requested re-authentication, but unable to obtain a new token: "+i.a.inspectError(e))}));break;case e.ERROR:if(r.a.logAction(r.a.LOG_MINOR,"Transport.onProtocolMessage()","received error action; connectionId = "+this.connectionManager.connectionId+"; err = "+i.a.inspect(t.error)+(t.channel?", channel: "+t.channel:"")),void 0===t.channel){this.onFatalError(t);break}this.connectionManager.onChannelMessage(t,this);break;default:this.connectionManager.onChannelMessage(t,this)}},u.prototype.onConnect=function(e){this.isConnected=!0;var t=e.connectionDetails.maxIdleInterval;t&&(this.maxIdleInterval=t+this.timeouts.realtimeRequestTimeout,this.onActivity())},u.prototype.onDisconnect=function(e){var t=e&&e.error;r.a.logAction(r.a.LOG_MINOR,"Transport.onDisconnect()","err = "+i.a.inspectError(t)),this.finish("disconnected",t)},u.prototype.onFatalError=function(e){var t=e&&e.error;r.a.logAction(r.a.LOG_MINOR,"Transport.onFatalError()","err = "+i.a.inspectError(t)),this.finish("failed",t)},u.prototype.onClose=function(e){var t=e&&e.error;r.a.logAction(r.a.LOG_MINOR,"Transport.onClose()","err = "+i.a.inspectError(t)),this.finish("closed",t)},u.prototype.requestClose=function(){r.a.logAction(r.a.LOG_MINOR,"Transport.requestClose()",""),this.send(t)},u.prototype.requestDisconnect=function(){r.a.logAction(r.a.LOG_MINOR,"Transport.requestDisconnect()",""),this.send(n)},u.prototype.ping=function(e){var t={action:a.a.Action.HEARTBEAT};e&&(t.id=e),this.send(a.a.fromValues(t))},u.prototype.dispose=function(){r.a.logAction(r.a.LOG_MINOR,"Transport.dispose()",""),this.isDisposed=!0,this.off()},u.prototype.onActivity=function(){this.maxIdleInterval&&(this.lastActivity=this.connectionManager.lastActivity=i.a.now(),this.setIdleTimer(this.maxIdleInterval+100))},u.prototype.setIdleTimer=function(e){var t=this;this.idleTimer||(this.idleTimer=setTimeout((function(){t.onIdleTimerExpire()}),e))},u.prototype.onIdleTimerExpire=function(){this.idleTimer=null;var e=i.a.now()-this.lastActivity,t=this.maxIdleInterval-e;if(t<=0){var n="No activity seen from realtime in "+e+"ms; assuming connection has dropped";r.a.logAction(r.a.LOG_ERROR,"Transport.onIdleTimerExpire()",n),this.disconnect(new c.a(n,80003,408))}else this.setIdleTimer(t+100)},u.prototype.onAuthUpdated=function(){},u}();t.a=u},function(e,t,n){"use strict";t.a=function(e,t,n,a){this.previous=e,this.current=t,n&&(this.retryIn=n),a&&(this.reason=a)}},function(e,t,n){"use strict";var a=n(0);t.a=function(e){e=e||[];var t=function(){for(var t=0;t<e.length;t++){var n=e[t];if(n)try{n.apply(null,arguments)}catch(e){a.a.logAction(a.a.LOG_ERROR,"Multicaster multiple callback handler","Unexpected exception: "+e+"; stack = "+e.stack)}}};return t.push=function(){Array.prototype.push.apply(e,arguments)},t}},function(e,t,n){"use strict";var a=n(1),i=n(3),o=n(5),r=n(0),s=n(6),c=function(){function e(){}return e.levels=["fatal","error","warning","info","debug"],e.report=function(e,t,n,c){var u={event_id:a.a.randomHexString(16),tags:a.a.mixin({lib:i.a.libver},c),platform:"javascript",level:e,release:o.a.version,fingerprint:n&&[n],message:t,request:{headers:{"User-Agent":i.a.userAgent},url:i.a.currentUrl}};r.a.logAction(r.a.LOG_MICRO,"ErrorReporter","POSTing to error reporter: "+t),s.a.postUri(null,o.a.errorReportingUrl,o.a.errorReportingHeaders,JSON.stringify(u),{},(function(e,t){r.a.logAction(r.a.LOG_MICRO,"ErrorReporter","POSTing to error reporter resulted in: "+(e?a.a.inspectError(e):a.a.inspectBody(t)))}))},e}();t.a=c},function(e,t,n){"use strict";var a=function(){var e={};function t(e,t,n){e.byteLength;for(var a=0,i=n.length;a<i;a++){var o=n.charCodeAt(a);if(o<128)e.setUint8(t++,o>>>0&127|0);else if(o<2048)e.setUint8(t++,o>>>6&31|192),e.setUint8(t++,o>>>0&63|128);else if(o<65536)e.setUint8(t++,o>>>12&15|224),e.setUint8(t++,o>>>6&63|128),e.setUint8(t++,o>>>0&63|128);else{if(!(o<1114112))throw new Error("bad codepoint "+o);e.setUint8(t++,o>>>18&7|240),e.setUint8(t++,o>>>12&63|128),e.setUint8(t++,o>>>6&63|128),e.setUint8(t++,o>>>0&63|128)}}}function n(e,t,n){for(var a="",i=t,o=t+n;i<o;i++){var r=e.getUint8(i);if(0!=(128&r))if(192!=(224&r))if(224!=(240&r)){if(240!=(248&r))throw new Error("Invalid byte "+r.toString(16));a+=String.fromCharCode((7&r)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0)}else a+=String.fromCharCode((15&r)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else a+=String.fromCharCode((15&r)<<6|63&e.getUint8(++i));else a+=String.fromCharCode(r)}return a}function a(e){for(var t=0,n=0,a=e.length;n<a;n++){var i=e.charCodeAt(n);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<65536)t+=3;else{if(!(i<1114112))throw new Error("bad codepoint "+i);t+=4}}return t}e.inspect=function(e){if(void 0===e)return"undefined";var t,n;if(e instanceof ArrayBuffer?(n="ArrayBuffer",t=new DataView(e)):e instanceof DataView&&(n="DataView",t=e),!t)return JSON.stringify(e);for(var a=[],i=0;i<e.byteLength;i++){if(i>20){a.push("...");break}var o=t.getUint8(i).toString(16);1===o.length&&(o="0"+o),a.push(o)}return"<"+n+" "+a.join(" ")+">"},e.utf8Write=t,e.utf8Read=n,e.utf8ByteCount=a,e.encode=function(e,t){var n=u(e,t);if(0!=n){var a=new ArrayBuffer(n);return c(e,new DataView(a),0,t),a}},e.decode=function(e){var t=new r(new DataView(e)),n=t.parse();if(t.offset!==e.byteLength)throw new Error(e.byteLength-t.offset+" trailing bytes");return n};var i=4294967296,o=1/i;function r(e,t){this.offset=t||0,this.view=e}function s(e,t){var n=[];for(var a in e)e.hasOwnProperty(a)&&n.push(a);return n.filter((function(n){var a=e[n];return!(t&&null==a||"function"==typeof a&&!a.toJSON)}))}function c(e,n,i,r){var u=typeof e;if("string"===u){if((l=a(e))<32)return n.setUint8(i,160|l),t(n,i+1,e),1+l;if(l<256)return n.setUint8(i,217),n.setUint8(i+1,l),t(n,i+2,e),2+l;if(l<65536)return n.setUint8(i,218),n.setUint16(i+1,l),t(n,i+3,e),3+l;if(l<4294967296)return n.setUint8(i,219),n.setUint32(i+1,l),t(n,i+5,e),5+l}if(ArrayBuffer.isView&&ArrayBuffer.isView(e)&&(e=e.buffer),e instanceof ArrayBuffer){if((l=e.byteLength)<256)return n.setUint8(i,196),n.setUint8(i+1,l),new Uint8Array(n.buffer).set(new Uint8Array(e),i+2),2+l;if(l<65536)return n.setUint8(i,197),n.setUint16(i+1,l),new Uint8Array(n.buffer).set(new Uint8Array(e),i+3),3+l;if(l<4294967296)return n.setUint8(i,198),n.setUint32(i+1,l),new Uint8Array(n.buffer).set(new Uint8Array(e),i+5),5+l}if("number"===u){if(Math.floor(e)!==e)return n.setUint8(i,203),n.setFloat64(i+1,e),9;if(e>=0){if(e<128)return n.setUint8(i,e),1;if(e<256)return n.setUint8(i,204),n.setUint8(i+1,e),2;if(e<65536)return n.setUint8(i,205),n.setUint16(i+1,e),3;if(e<4294967296)return n.setUint8(i,206),n.setUint32(i+1,e),5;if(e<0x10000000000000000)return n.setUint8(i,207),function(e,t,n){n<0x10000000000000000?(e.setUint32(t,Math.floor(n*o)),e.setInt32(t+4,-1&n)):(e.setUint32(t,4294967295),e.setUint32(t+4,4294967295))}(n,i+1,e),9;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return n.setInt8(i,e),1;if(e>=-128)return n.setUint8(i,208),n.setInt8(i+1,e),2;if(e>=-32768)return n.setUint8(i,209),n.setInt16(i+1,e),3;if(e>=-2147483648)return n.setUint8(i,210),n.setInt32(i+1,e),5;if(e>=-0x8000000000000000)return n.setUint8(i,211),function(e,t,n){n<0x8000000000000000?(e.setInt32(t,Math.floor(n*o)),e.setInt32(t+4,-1&n)):(e.setUint32(t,2147483647),e.setUint32(t+4,2147483647))}(n,i+1,e),9;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if("undefined"===u)return r?0:(n.setUint8(i,212),n.setUint8(i+1,0),n.setUint8(i+2,0),3);if(null===e)return r?0:(n.setUint8(i,192),1);if("boolean"===u)return n.setUint8(i,e?195:194),1;if("function"==typeof e.toJSON)return c(e.toJSON(),n,i,r);if("object"===u){var l,h=0,d=Array.isArray(e);if(d)l=e.length;else{var m=s(e,r);l=m.length}if(l<16?(n.setUint8(i,l|(d?144:128)),h=1):l<65536?(n.setUint8(i,d?220:222),n.setUint16(i+1,l),h=3):l<4294967296&&(n.setUint8(i,d?221:223),n.setUint32(i+1,l),h=5),d)for(var p=0;p<l;p++)h+=c(e[p],n,i+h,r);else for(p=0;p<l;p++){var f=m[p];h+=c(f,n,i+h),h+=c(e[f],n,i+h,r)}return h}if("function"===u)return 0;throw new Error("Unknown type "+u)}function u(e,t){var n=typeof e;if("string"===n){if((i=a(e))<32)return 1+i;if(i<256)return 2+i;if(i<65536)return 3+i;if(i<4294967296)return 5+i}if(ArrayBuffer.isView&&ArrayBuffer.isView(e)&&(e=e.buffer),e instanceof ArrayBuffer){if((i=e.byteLength)<256)return 2+i;if(i<65536)return 3+i;if(i<4294967296)return 5+i}if("number"===n){if(Math.floor(e)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;if(e<0x10000000000000000)return 9;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;if(e>=-0x8000000000000000)return 9;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===n)return 1;if(null===e)return t?0:1;if(void 0===e)return t?0:3;if("function"==typeof e.toJSON)return u(e.toJSON(),t);if("object"===n){var i,o=0;if(Array.isArray(e)){i=e.length;for(var r=0;r<i;r++)o+=u(e[r],t)}else{var c=s(e,t);for(i=c.length,r=0;r<i;r++){var l=c[r];o+=u(l)+u(e[l],t)}}if(i<16)return 1+o;if(i<65536)return 3+o;if(i<4294967296)return 5+o;throw new Error("Array or object too long 0x"+i.toString(16))}if("function"===n)return 0;throw new Error("Unknown type "+n)}return r.prototype.map=function(e){for(var t={},n=0;n<e;n++)t[this.parse()]=this.parse();return t},r.prototype.bin=r.prototype.buf=function(e){var t=new ArrayBuffer(e);return new Uint8Array(t).set(new Uint8Array(this.view.buffer,this.offset,e),0),this.offset+=e,t},r.prototype.str=function(e){var t=n(this.view,this.offset,e);return this.offset+=e,t},r.prototype.array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.parse();return t},r.prototype.ext=function(e){var t={};return t.type=this.view.getInt8(this.offset),this.offset++,t.data=this.buf(e),this.offset+=e,t},r.prototype.parse=function(){var e,t,n,a,o=this.view.getUint8(this.offset);if(0==(128&o))return this.offset++,o;if(128==(240&o))return t=15&o,this.offset++,this.map(t);if(144==(240&o))return t=15&o,this.offset++,this.array(t);if(160==(224&o))return t=31&o,this.offset++,this.str(t);if(224==(224&o))return e=this.view.getInt8(this.offset),this.offset++,e;switch(o){case 192:return this.offset++,null;case 193:return void this.offset++;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 196:return t=this.view.getUint8(this.offset+1),this.offset+=2,this.bin(t);case 197:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.bin(t);case 198:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.bin(t);case 199:return t=this.view.getUint8(this.offset+1),this.offset+=2,this.ext(t);case 200:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.ext(t);case 201:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.ext(t);case 202:return e=this.view.getFloat32(this.offset+1),this.offset+=5,e;case 203:return e=this.view.getFloat64(this.offset+1),this.offset+=9,e;case 204:return e=this.view.getUint8(this.offset+1),this.offset+=2,e;case 205:return e=this.view.getUint16(this.offset+1),this.offset+=3,e;case 206:return e=this.view.getUint32(this.offset+1),this.offset+=5,e;case 207:return n=this.view,a=(a=this.offset+1)||0,e=n.getUint32(a)*i+n.getUint32(a+4),this.offset+=9,e;case 208:return e=this.view.getInt8(this.offset+1),this.offset+=2,e;case 209:return e=this.view.getInt16(this.offset+1),this.offset+=3,e;case 210:return e=this.view.getInt32(this.offset+1),this.offset+=5,e;case 211:return e=function(e,t){return t=t||0,e.getInt32(t)*i+e.getUint32(t+4)}(this.view,this.offset+1),this.offset+=9,e;case 212:return t=1,this.offset++,this.ext(t);case 213:return t=2,this.offset++,this.ext(t);case 214:return t=4,this.offset++,this.ext(t);case 215:return t=8,this.offset++,this.ext(t);case 216:return t=16,this.offset++,this.ext(t);case 217:return t=this.view.getUint8(this.offset+1),this.offset+=2,this.str(t);case 218:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.str(t);case 219:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.str(t);case 220:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.array(t);case 221:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.array(t);case 222:return t=this.view.getUint16(this.offset+1),this.offset+=3,this.map(t);case 223:return t=this.view.getUint32(this.offset+1),this.offset+=5,this.map(t)}throw new Error("Unknown type 0x"+o.toString(16))},e}();t.a=a},function(e,t,n){"use strict";(function(e){var a=n(8),i=n(1),o=n(34),r=n(5),s=n(3),c=n(7),u=n(26),l=n(0),h=n(21),d=n(13),m=n(2),p=n(14),f=n(6),g=n(9),y=n(22),v=n(23),k=n(16),b=n(41),w=n(40),j=function(){var t=!(void 0===k.a||!k.a.get),n=!(void 0===k.a||!k.a.getSession),j=a.a.Action,_=o.a.PendingMessage,S=function(){},C=r.a.transportPreferenceOrder,T=C[C.length-1],R="ably-transport-preference",O="ably-connection-recovery";function E(e,t,n,a){this.options=e,this.host=t,this.mode=n,this.connectionKey=a,this.format=e.useBinaryProtocol?"msgpack":"json",this.connectionSerial=void 0,this.timeSerial=void 0}function I(e,t){c.a.call(this),this.realtime=e,this.options=t;var a=t.timeouts,o=this,h=a.preferenceConnectTimeout+a.realtimeRequestTimeout;if(this.states={initialized:{state:"initialized",terminal:!1,queueEvents:!0,sendEvents:!1,failState:"disconnected"},connecting:{state:"connecting",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:h,failState:"disconnected"},connected:{state:"connected",terminal:!1,queueEvents:!1,sendEvents:!0,failState:"disconnected"},synchronizing:{state:"connected",terminal:!1,queueEvents:!0,sendEvents:!1,forceQueueEvents:!0,failState:"disconnected"},disconnected:{state:"disconnected",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:a.disconnectedRetryTimeout,failState:"disconnected"},suspended:{state:"suspended",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:a.suspendedRetryTimeout,failState:"suspended"},closing:{state:"closing",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:a.realtimeRequestTimeout,failState:"closed"},closed:{state:"closed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"closed"},failed:{state:"failed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"failed"}},this.state=this.states.initialized,this.errorReason=null,this.queuedMessages=new u.a,this.msgSerial=0,this.connectionDetails=void 0,this.connectionId=void 0,this.connectionKey=void 0,this.timeSerial=void 0,this.connectionSerial=void 0,this.connectionStateTtl=a.connectionStateTtl,this.maxIdleInterval=null,this.transports=i.a.intersect(t.transports||r.a.defaultTransports,I.supportedTransports),this.baseTransport=i.a.intersect(r.a.baseTransportOrder,this.transports)[0],this.upgradeTransports=i.a.intersect(this.transports,r.a.upgradeTransports),this.transportPreference=null,this.httpHosts=r.a.getHosts(t),this.activeProtocol=null,this.proposedTransports=[],this.pendingTransports=[],this.host=null,this.lastAutoReconnectAttempt=null,this.lastActivity=null,this.mostRecentMsg=null,this.forceFallbackHost=!1,this.connectCounter=0,l.a.logAction(l.a.LOG_MINOR,"Realtime.ConnectionManager()","started"),l.a.logAction(l.a.LOG_MICRO,"Realtime.ConnectionManager()","requested transports = ["+(t.transports||r.a.defaultTransports)+"]"),l.a.logAction(l.a.LOG_MICRO,"Realtime.ConnectionManager()","available transports = ["+this.transports+"]"),l.a.logAction(l.a.LOG_MICRO,"Realtime.ConnectionManager()","http hosts = ["+this.httpHosts+"]"),!this.transports.length){var d="no requested transports available";throw l.a.logAction(l.a.LOG_ERROR,"realtime.ConnectionManager()",d),new Error(d)}var m=s.a.addEventListener;m&&(n&&"function"==typeof t.recover&&m("beforeunload",this.persistConnection.bind(this)),!0===t.closeOnUnload&&m("beforeunload",(function(){l.a.logAction(l.a.LOG_MAJOR,"Realtime.ConnectionManager()","beforeunload event has triggered the connection to close as closeOnUnload is true"),o.requestState({state:"closing"})})),m("online",(function(){o.state!=o.states.disconnected&&o.state!=o.states.suspended||(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager caught browser ‘online’ event","reattempting connection"),o.requestState({state:"connecting"}))})),m("offline",(function(){o.state==o.states.connected&&(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager caught browser ‘offline’ event","disconnecting active transport"),o.disconnectAllTransports())})))}return E.prototype.getConnectParams=function(e){var t=e?i.a.copy(e):{},n=this.options;switch(this.mode){case"upgrade":t.upgrade=this.connectionKey;break;case"resume":t.resume=this.connectionKey,void 0!==this.timeSerial?t.timeSerial=this.timeSerial:void 0!==this.connectionSerial&&(t.connectionSerial=this.connectionSerial);break;case"recover":var a=n.recover.split(":");if(a){t.recover=a[0];var o=a[1];isNaN(o)?t.timeSerial=o:t.connectionSerial=o}}return void 0!==n.clientId&&(t.clientId=n.clientId),!1===n.echoMessages&&(t.echo="false"),void 0!==this.format&&(t.format=this.format),void 0!==this.stream&&(t.stream=this.stream),void 0!==this.heartbeats&&(t.heartbeats=this.heartbeats),t.v=r.a.apiVersion,t.lib=r.a.libstring,void 0!==n.transportParams&&i.a.mixin(t,n.transportParams),t},E.prototype.toString=function(){var e="[mode="+this.mode;return this.host&&(e+=",host="+this.host),this.connectionKey&&(e+=",connectionKey="+this.connectionKey),void 0!==this.connectionSerial&&(e+=",connectionSerial="+this.connectionSerial),this.timeSerial&&(e+=",timeSerial="+this.timeSerial),this.format&&(e+=",format="+this.format),e+"]"},i.a.inherits(I,c.a),I.supportedTransports={},Object(w.a)(I),i.a.arrForEach(b.a,(function(e){e(I)})),I.prototype.createTransportParams=function(e,t){var n=new E(this.options,e,t,this.connectionKey);return this.timeSerial?n.timeSerial=this.timeSerial:void 0!==this.connectionSerial&&(n.connectionSerial=this.connectionSerial),n},I.prototype.getTransportParams=function(e){var t=this;!function(e){if(t.connectionKey)e("resume");else if("string"!=typeof t.options.recover){var a=t.options.recover,i=n&&k.a.getSession(O);if(i&&"function"==typeof a)return l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.getTransportParams()","Calling clientOptions-provided recover function with last session data"),void a(i,(function(n){n?(t.options.recover=i.recoveryKey,e("recover")):e("clean")}));e("clean")}else e("recover")}((function(n){var a=t.createTransportParams(null,n);if("recover"===n){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport recovery mode = recover; recoveryKey = "+t.options.recover);var i=t.options.recover.split(":");i&&i[2]&&(t.msgSerial=i[2])}else l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport params = "+a.toString());e(a)}))},I.prototype.tryATransport=function(e,t,n){var a=this;e.host,l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.tryATransport()","trying "+t),I.supportedTransports[t].tryConnect(this,this.realtime.auth,e,(function(i,o){var r=a.state;return r==a.states.closing||r==a.states.closed||r==a.states.failed?(o&&(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.tryATransport()","connection "+r.state+" while we were attempting the transport; closing "+o),o.close()),void n(!0)):i?(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.tryATransport()","transport "+t+" "+i.event+", err: "+i.error.toString()),void(!p.a.isTokenErr(i.error)||a.errorReason&&p.a.isTokenErr(a.errorReason)?"failed"===i.event?(a.notifyState({state:"failed",error:i.error}),n(!0)):"disconnected"===i.event&&(d.a.isRetriable(i.error)?n(!1):(a.notifyState({state:a.states.connecting.failState,error:i.error}),n(!0))):(a.errorReason=i.error,a.realtime.auth._forceNewToken(null,null,(function(i){i?a.actOnErrorFromAuthorize(i):a.tryATransport(e,t,n)}))))):(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.tryATransport()","viable transport "+t+"; setting pending"),a.setTransportPending(o,e),void n(null,o))}))},I.prototype.setTransportPending=function(e,t){var n=t.mode;l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.setTransportPending()","transport = "+e+"; mode = "+n),i.a.arrDeleteValue(this.proposedTransports,e),this.pendingTransports.push(e);var a=this;e.once("connected",(function(o,r,s,c){"upgrade"==n&&a.activeProtocol?e.shortName!==T&&i.a.arrIn(a.getUpgradePossibilities(),T)?setTimeout((function(){a.scheduleTransportActivation(o,e,r,s,c)}),a.options.timeouts.parallelUpgradeDelay):a.scheduleTransportActivation(o,e,r,s,c):(a.activateTransport(o,e,r,s,c),i.a.nextTick((function(){a.connectImpl(t)}))),"recover"===n&&a.options.recover&&(a.options.recover=null,a.unpersistConnection())})),e.on(["disconnected","closed","failed"],(function(t){a.deactivateTransport(e,this.event,t)})),this.emit("transport.pending",e)},I.prototype.scheduleTransportActivation=function(e,t,n,a,o){var r,s,c=this,u=this.activeProtocol&&this.activeProtocol.getTransport(),h=function(){t.disconnect(),i.a.arrDeleteValue(c.pendingTransports,t)};return this.state!==this.states.connected&&this.state!==this.states.connecting?(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Current connection state ("+this.state.state+(this.state===this.states.synchronizing?", but with an upgrade already in progress":"")+") is not valid to upgrade in; abandoning upgrade to "+t.shortName),void h()):!u||(r=t,s=u,i.a.arrIndexOf(C,r.shortName)>i.a.arrIndexOf(C,s.shortName))?(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Scheduling transport upgrade; transport = "+t),void this.realtime.channels.onceNopending((function(i){var r;if(i)l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.scheduleTransportActivation()","Unable to activate transport; transport = "+t+"; err = "+i);else{if(!t.isConnected)return l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Proposed transport "+t.shortName+"is no longer connected; abandoning upgrade"),void h();if(c.state===c.states.connected)l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.scheduleTransportActivation()","Currently connected, so temporarily pausing events until the upgrade is complete"),c.state=c.states.synchronizing,r=c.activeProtocol;else if(c.state!==c.states.connecting)return l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Current connection state ("+c.state.state+(c.state===c.states.synchronizing?", but with an upgrade already in progress":"")+") is not valid to upgrade in; abandoning upgrade to "+t.shortName),void h();var s=n!==c.connectionId,u=s?o:c;s&&l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.scheduleTransportActivation()","Upgrade resulted in new connectionId; resetting library connection position from "+(c.timeSerial||c.connectionSerial)+" to "+(u.timeSerial||u.connectionSerial)+"; upgrade error was "+e),l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Syncing transport; transport = "+t),c.sync(t,u,(function(n,i,o){if(n)c.state===c.states.synchronizing&&(l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.scheduleTransportActivation()","Unexpected error attempting to sync transport; transport = "+t+"; err = "+n),c.disconnectAllTransports());else{var s=function(){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Activating transport; transport = "+t),c.activateTransport(e,t,i,a,o),c.state===c.states.synchronizing?(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.scheduleTransportActivation()","Pre-upgrade protocol idle, sending queued messages on upgraded transport; transport = "+t),c.state=c.states.connected):l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Pre-upgrade protocol idle, but state is now "+c.state.state+", so leaving unchanged"),c.state.sendEvents&&c.sendQueuedMessages()};r?r.onceIdle(s):s()}}))}}))):(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Proposed transport "+t.shortName+" is no better than current active transport "+u.shortName+" - abandoning upgrade"),void h())},I.prototype.activateTransport=function(e,t,n,a,r){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.activateTransport()","transport = "+t),e&&l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.activateTransport()","error = "+e),n&&l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.activateTransport()","connectionId =  "+n),a&&l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.activateTransport()","connectionDetails =  "+JSON.stringify(a)),r&&l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.activateTransport()","serial =  "+(r.timeSerial||r.connectionSerial)),this.persistTransportPreference(t);var s=this.state,c=this.states.connected.state;if(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.activateTransport()","current state = "+s.state),s.state==this.states.closing.state||s.state==this.states.closed.state||s.state==this.states.failed.state)return l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.activateTransport()","Disconnecting transport and abandoning"),t.disconnect(),!1;if(i.a.arrDeleteValue(this.pendingTransports,t),!t.isConnected)return l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.activateTransport()","Declining to activate transport "+t+" since it appears to no longer be connected"),!1;var u=this.activeProtocol;this.activeProtocol=new o.a(t),this.host=t.params.host;var d=a.connectionKey;d&&this.connectionKey!=d&&this.setConnection(n,a,r,!!e),this.onConnectionDetailsUpdate(a,t);var m=this;if(i.a.nextTick((function(){t.on("connected",(function(e,n,a){m.onConnectionDetailsUpdate(a,t),m.emit("update",new h.a(c,c,null,e))}))})),s.state===this.states.connected.state?e&&(this.errorReason=this.realtime.connection.errorReason=e,this.emit("update",new h.a(c,c,null,e))):(this.notifyState({state:"connected",error:e}),this.errorReason=this.realtime.connection.errorReason=e||null),this.emit("transport.active",t),u)if(u.messageQueue.count()>0&&l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.activateTransport()","Previous active protocol (for transport "+u.transport.shortName+", new one is "+t.shortName+") finishing with "+u.messageQueue.count()+" messages still pending"),u.transport===t){var p="Assumption violated: activating a transport that was also the transport for the previous active protocol; transport = "+t.shortName+"; stack = "+(new Error).stack;l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.activateTransport()",p),v.a.report("error",p,"transport-previously-active")}else u.finish();return i.a.safeArrForEach(this.pendingTransports,(function(e){if(e===t){var n="Assumption violated: activating a transport that is still marked as a pending transport; transport = "+t.shortName+"; stack = "+(new Error).stack;l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.activateTransport()",n),v.a.report("error",n,"transport-activating-pending"),i.a.arrDeleteValue(m.pendingTransports,t)}else e.disconnect()})),i.a.safeArrForEach(this.proposedTransports,(function(e){if(e===t){var n="Assumption violated: activating a transport that is still marked as a proposed transport; transport = "+t.shortName+"; stack = "+(new Error).stack;l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.activateTransport()",n),v.a.report("error",n,"transport-activating-proposed"),i.a.arrDeleteValue(m.proposedTransports,t)}else e.dispose()})),!0},I.prototype.deactivateTransport=function(e,t,n){var a=this.activeProtocol,o=a&&a.getTransport()===e,r=i.a.arrDeleteValue(this.pendingTransports,e),s=i.a.arrDeleteValue(this.proposedTransports,e),c=this.noTransportsScheduledForActivation();if(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.deactivateTransport()","transport = "+e),l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.deactivateTransport()","state = "+t+(o?"; was active":r?"; was pending":s?"; was proposed":"")+(c?"":"; another transport is scheduled for activation")),n&&n.message&&l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.deactivateTransport()","reason =  "+n.message),o&&(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.deactivateTransport()","Getting, clearing, and requeuing "+this.activeProtocol.messageQueue.count()+" pending messages"),this.queuePendingMessages(a.getPendingMessages()),i.a.nextTick((function(){a.clearPendingMessages()})),this.activeProtocol=this.host=null,clearTimeout(this.channelResumeCheckTimer)),this.emit("transport.inactive",e),o&&c||o&&"failed"===t||"closed"===t||null===a&&r&&0===this.pendingTransports.length){if("disconnected"===t&&n&&n.statusCode>500&&this.httpHosts.length>1)return this.unpersistTransportPreference(),this.forceFallbackHost=!0,void this.notifyState({state:t,error:n,retryImmediately:!0});var u="failed"===t&&p.a.isTokenErr(n)?"disconnected":t;this.notifyState({state:u,error:n})}else o&&"disconnected"===t&&this.state!==this.states.synchronizing&&(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.deactivateTransport()","wasActive but another transport is connected and scheduled for activation, so going into the connecting state until it activates"),this.startSuspendTimer(),this.startTransitionTimer(this.states.connecting),this.notifyState({state:"connecting",error:n}))},I.prototype.noTransportsScheduledForActivation=function(){return i.a.isEmpty(this.pendingTransports)||this.pendingTransports.every((function(e){return!e.isConnected}))},I.prototype.sync=function(e,t,n){var i=setTimeout((function(){e.off("sync"),n(new m.a("Timeout waiting for sync response",5e4,500))}),this.options.timeouts.realtimeRequestTimeout),o=a.a.fromValues({action:j.SYNC,connectionKey:this.connectionKey});t.timeSerial?o.timeSerial=t.timeSerial:void 0!==t.connectionSerial&&(o.connectionSerial=t.connectionSerial),e.send(o),e.once("sync",(function(e,t){clearTimeout(i),n(null,e,t)}))},I.prototype.setConnection=function(e,t,n,a){var o=this,r=this.connectionid,s=r&&r!==e;(s||!r&&a)&&(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.setConnection()","Resetting msgSerial"),this.msgSerial=0),this.connectionId!==e?(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.setConnection()","New connectionId; reattaching any attached channels"),i.a.nextTick((function(){o.realtime.channels.reattach()}))):this.options.checkChannelsOnResume&&(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.setConnection()","Same connectionId; checkChannelsOnResume is enabled"),clearTimeout(this.channelResumeCheckTimer),this.realtime.channels.resetAttachedMsgIndicators(),this.channelResumeCheckTimer=setTimeout((function(){o.realtime.channels.checkAttachedMsgIndicators(e)}),3e4)),this.realtime.connection.id=this.connectionId=e,this.realtime.connection.key=this.connectionKey=t.connectionKey;var c=s||!r;this.setConnectionSerial(n,c)},I.prototype.clearConnection=function(){this.realtime.connection.id=this.connectionId=void 0,this.realtime.connection.key=this.connectionKey=void 0,this.clearConnectionSerial(),this.msgSerial=0,this.unpersistConnection()},I.prototype.setConnectionSerial=function(e,t){var n=e.timeSerial,a=e.connectionSerial;if(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.setConnectionSerial()","Updating connection serial; serial = "+a+"; timeSerial = "+n+"; force = "+t+"; previous = "+this.connectionSerial),void 0!==n)return n<=this.timeSerial&&!t?(l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.setConnectionSerial()","received message with timeSerial "+n+", but current timeSerial is "+this.timeSerial+"; assuming message is a duplicate and discarding it"),!0):(this.realtime.connection.timeSerial=this.timeSerial=n,void this.setRecoveryKey());if(void 0!==a){if(a<=this.connectionSerial&&!t)return l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.setConnectionSerial()","received message with connectionSerial "+a+", but current connectionSerial is "+this.connectionSerial+"; assuming message is a duplicate and discarding it"),!0;this.realtime.connection.serial=this.connectionSerial=a,this.setRecoveryKey()}},I.prototype.clearConnectionSerial=function(){this.realtime.connection.serial=this.connectionSerial=void 0,this.realtime.connection.timeSerial=this.timeSerial=void 0,this.clearRecoveryKey()},I.prototype.setRecoveryKey=function(){this.realtime.connection.recoveryKey=this.connectionKey+":"+(this.timeSerial||this.connectionSerial)+":"+this.msgSerial},I.prototype.clearRecoveryKey=function(){this.realtime.connection.recoveryKey=null},I.prototype.checkConnectionStateFreshness=function(){if(this.lastActivity&&this.connectionId){var e=i.a.now()-this.lastActivity;e>this.connectionStateTtl+this.maxIdleInterval&&(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.checkConnectionStateFreshness()","Last known activity from realtime was "+e+"ms ago; discarding connection state"),this.clearConnection(),this.states.connecting.failState="suspended",this.states.connecting.queueEvents=!1)}},I.prototype.persistConnection=function(){if(n){var t=this.realtime.connection.recoveryKey;t&&(a={recoveryKey:t,disconnectedAt:i.a.now(),location:e.location,clientId:this.realtime.auth.clientId},this.connectionStateTtl,n&&k.a.setSession(O,a))}var a},I.prototype.unpersistConnection=function(){n&&k.a.removeSession(O)},I.prototype.getError=function(){return this.errorReason||this.getStateError()},I.prototype.getStateError=function(){return d.a[this.state.state]},I.prototype.activeState=function(){return this.state.queueEvents||this.state.sendEvents},I.prototype.enactStateChange=function(e){var t="failed"===e.current?l.a.LOG_ERROR:l.a.LOG_MAJOR;l.a.logAction(t,"Connection state",e.current+(e.reason?"; reason: "+e.reason:"")),l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.enactStateChange","setting new state: "+e.current+"; reason = "+(e.reason&&e.reason.message));var n=this.state=this.states[e.current];e.reason&&(this.errorReason=e.reason,this.realtime.connection.errorReason=e.reason),(n.terminal||"suspended"===n.state)&&this.clearConnection(),this.emit("connectionstate",e)},I.prototype.startTransitionTimer=function(e){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.startTransitionTimer()","transitionState: "+e.state),this.transitionTimer&&(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.startTransitionTimer()","clearing already-running timer"),clearTimeout(this.transitionTimer));var t=this;this.transitionTimer=setTimeout((function(){t.transitionTimer&&(t.transitionTimer=null,l.a.logAction(l.a.LOG_MINOR,"ConnectionManager "+e.state+" timer expired","requesting new state: "+e.failState),t.notifyState({state:e.failState}))}),e.retryDelay)},I.prototype.cancelTransitionTimer=function(){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.cancelTransitionTimer()",""),this.transitionTimer&&(clearTimeout(this.transitionTimer),this.transitionTimer=null)},I.prototype.startSuspendTimer=function(){var e=this;this.suspendTimer||(this.suspendTimer=setTimeout((function(){e.suspendTimer&&(e.suspendTimer=null,l.a.logAction(l.a.LOG_MINOR,"ConnectionManager suspend timer expired","requesting new state: suspended"),e.states.connecting.failState="suspended",e.states.connecting.queueEvents=!1,e.notifyState({state:"suspended"}))}),this.connectionStateTtl))},I.prototype.checkSuspendTimer=function(e){"disconnected"!==e&&"suspended"!==e&&"connecting"!==e&&this.cancelSuspendTimer()},I.prototype.cancelSuspendTimer=function(){this.states.connecting.failState="disconnected",this.states.connecting.queueEvents=!0,this.suspendTimer&&(clearTimeout(this.suspendTimer),this.suspendTimer=null)},I.prototype.startRetryTimer=function(e){var t=this;this.retryTimer=setTimeout((function(){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager retry timer expired","retrying"),t.retryTimer=null,t.requestState({state:"connecting"})}),e)},I.prototype.cancelRetryTimer=function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)},I.prototype.notifyState=function(e){var t=e.state,n=this,a="disconnected"===t&&(this.state===this.states.connected||this.state===this.states.synchronizing||e.retryImmediately||this.state===this.states.connecting&&e.error&&p.a.isTokenErr(e.error)&&!(this.errorReason&&p.a.isTokenErr(this.errorReason)));if(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.notifyState()","new state: "+t+(a?"; will retry connection immediately":"")),t!=this.state.state&&(this.cancelTransitionTimer(),this.cancelRetryTimer(),this.checkSuspendTimer(e.state),!this.state.terminal)){var o=this.states[e.state],r=new h.a(this.state.state,o.state,o.retryDelay,e.error||d.a[o.state]);if(a){var s=function(){n.state===n.states.disconnected&&(n.lastAutoReconnectAttempt=i.a.now(),n.requestState({state:"connecting"}))},c=this.lastAutoReconnectAttempt&&i.a.now()-this.lastAutoReconnectAttempt+1;c&&c<1e3?(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.notifyState()","Last reconnect attempt was only "+c+"ms ago, waiting another "+(1e3-c)+"ms before trying again"),setTimeout(s,1e3-c)):i.a.nextTick(s)}else"disconnected"!==t&&"suspended"!==t||this.startRetryTimer(o.retryDelay);("disconnected"===t&&!a||"suspended"===t||o.terminal)&&i.a.nextTick((function(){n.disconnectAllTransports()})),"connected"!=t||this.activeProtocol||l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.notifyState()","Broken invariant: attempted to go into connected state, but there is no active protocol"),this.enactStateChange(r),this.state.sendEvents?this.sendQueuedMessages():this.state.queueEvents||(this.realtime.channels.propogateConnectionInterruption(t,r.reason),this.failQueuedMessages(r.reason))}},I.prototype.requestState=function(e){var t=e.state,n=this;if(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.requestState()","requested state: "+t+"; current state: "+this.state.state),t!=this.state.state&&(this.cancelTransitionTimer(),this.cancelRetryTimer(),this.checkSuspendTimer(t),!("connecting"==t&&"connected"==this.state.state||"closing"==t&&"closed"==this.state.state))){var a=this.states[t],o=new h.a(this.state.state,a.state,null,e.error||d.a[a.state]);this.enactStateChange(o),"connecting"==t&&i.a.nextTick((function(){n.startConnect()})),"closing"==t&&this.closeImpl()}},I.prototype.startConnect=function(){if(this.state===this.states.connecting){var e=this.realtime.auth,t=this,n=++this.connectCounter,a=function(){t.checkConnectionStateFreshness(),t.getTransportParams((function(e){n===t.connectCounter&&t.connectImpl(e,n)}))};if(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.startConnect()","starting connection"),this.startSuspendTimer(),this.startTransitionTimer(this.states.connecting),"basic"===e.method)a();else{var i=function(e){n===t.connectCounter&&(e?t.actOnErrorFromAuthorize(e):a())};this.errorReason&&p.a.isTokenErr(this.errorReason)?e._forceNewToken(null,null,i):e._ensureValidAuthCredentials(!1,i)}}else l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.startConnect()","Must be in connecting state to connect, but was "+this.state.state)},I.prototype.connectImpl=function(e,t){var n=this.state.state;n!==this.states.connecting.state&&n!==this.states.connected.state?l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.connectImpl()","Must be in connecting state to connect (or connected to upgrade), but was "+n):this.pendingTransports.length?l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.connectImpl()","Transports "+this.pendingTransports[0].toString()+" currently pending; taking no action"):n==this.states.connected.state?this.upgradeIfNeeded(e):this.transports.length>1&&this.getTransportPreference()?this.connectPreference(e):this.connectBase(e,t)},I.prototype.connectPreference=function(e){var t=this.getTransportPreference(),n=this,a=!1;i.a.arrIn(this.transports,t)||(this.unpersistTransportPreference(),this.connectImpl(e)),l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.connectPreference()","Trying to connect with stored transport preference "+t);var o=setTimeout((function(){a=!0,n.state.state!==n.states.connected.state&&(l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.connectPreference()","Shortcircuit connection attempt with "+t+" failed; clearing preference and trying from scratch"),n.disconnectAllTransports(),n.unpersistTransportPreference()),n.connectImpl(e)}),this.options.timeouts.preferenceConnectTimeout);e.host=n.httpHosts[0],n.tryATransport(e,t,(function(t,r){clearTimeout(o),a&&r?(r.off(),r.disconnect(),i.a.arrDeleteValue(this.pendingTransports,r)):r||t||(n.unpersistTransportPreference(),n.connectImpl(e))}))},I.prototype.connectBase=function(e,t){var n=this,a=function(e){n.notifyState({state:n.states.connecting.failState,error:e})},o=this.httpHosts.slice(),r=function(e,a){t===n.connectCounter&&(a||e||c())};l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.connectBase()","Trying to connect with base transport "+this.baseTransport);var s=o.shift();if(s){if(e.host=s,this.forceFallbackHost&&o.length)return this.forceFallbackHost=!1,void c();this.tryATransport(e,this.baseTransport,r)}else a(new m.a("Unable to connect (no available host)",80003,404));function c(){o.length?f.a.checkConnectivity((function(s,c){t===n.connectCounter&&(s?a(s):c?(e.host=i.a.arrPopRandomElement(o),n.tryATransport(e,n.baseTransport,r)):a(new m.a("Unable to connect (network unreachable)",80003,404)))})):a(new m.a("Unable to connect (and no more fallback hosts to try)",80003,404))}},I.prototype.getUpgradePossibilities=function(){var e=this.activeProtocol.getTransport().shortName,t=i.a.arrIndexOf(this.upgradeTransports,e);return this.upgradeTransports.slice(t+1)},I.prototype.upgradeIfNeeded=function(e){var t=this.getUpgradePossibilities(),n=this;l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.upgradeIfNeeded()","upgrade possibilities: "+i.a.inspect(t)),t.length&&i.a.arrForEach(t,(function(t){var a=n.createTransportParams(e.host,"upgrade");n.tryATransport(a,t,S)}))},I.prototype.closeImpl=function(){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.closeImpl()","closing connection"),this.cancelSuspendTimer(),this.startTransitionTimer(this.states.closing),i.a.safeArrForEach(this.pendingTransports,(function(e){l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.closeImpl()","Closing pending transport: "+e),e&&e.close()})),i.a.safeArrForEach(this.proposedTransports,(function(e){l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.closeImpl()","Disposing of proposed transport: "+e),e&&e.dispose()})),this.activeProtocol&&(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.closeImpl()","Closing active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().close()),this.notifyState({state:"closed"})},I.prototype.onAuthUpdated=function(e,t){var n=this;switch(this.state.state){case"connected":if(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Sending AUTH message on active transport"),(this.pendingTransports.length||this.proposedTransports.length)&&n.state!==n.states.synchronizing){this.disconnectAllTransports(!0);var o=this.activeProtocol.getTransport().params;i.a.nextTick((function(){"connected"===n.state.state&&n.upgradeIfNeeded(o)}))}this.activeProtocol.getTransport().onAuthUpdated(e);var r=a.a.fromValues({action:j.AUTH,auth:{accessToken:e.token}});this.send(r);var s=function(){n.off(c),t(null,e)},c=function(e){"failed"===e.current&&(n.off(s),n.off(c),t(e.reason||n.getStateError()))};this.once("connectiondetails",s),this.on("connectionstate",c);break;case"connecting":l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Aborting current connection attempts in order to start again with the new auth details"),this.disconnectAllTransports();default:l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Connection state is "+this.state.state+"; waiting until either connected or failed");var u=function(a){switch(a.current){case"connected":n.off(u),t(null,e);break;case"failed":case"closed":case"suspended":n.off(u),t(a.reason||n.getStateError())}};n.on("connectionstate",u),"connecting"===this.state.state?n.startConnect():n.requestState({state:"connecting"})}},I.prototype.disconnectAllTransports=function(e){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.disconnectAllTransports()","Disconnecting all transports"+(e?" except the active transport":"")),this.connectCounter++,i.a.safeArrForEach(this.pendingTransports,(function(e){l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting pending transport: "+e),e&&e.disconnect()})),this.pendingTransports=[],i.a.safeArrForEach(this.proposedTransports,(function(e){l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disposing of proposed transport: "+e),e&&e.dispose()})),this.proposedTransports=[],this.activeProtocol&&!e&&(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().disconnect())},I.prototype.send=function(e,t,n){n=n||S;var i=this.state;if(i.sendEvents)return l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.send()","sending event"),void this.sendImpl(new _(e,n));if(!(t&&i.queueEvents||i.forceQueueEvents)){var o="rejecting event, queueEvent was "+t+", state was "+i.state;return l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.send()",o),void n(this.errorReason||new m.a(o,9e4,400))}l.a.shouldLog(l.a.LOG_MICRO)&&l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.send()","queueing msg; "+a.a.stringify(e)),this.queue(e,n)},I.prototype.sendImpl=function(e){var t=e.message;e.ackRequired&&!e.sendAttempted&&(t.msgSerial=this.msgSerial++,this.setRecoveryKey());try{this.activeProtocol.send(e)}catch(e){l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.sendImpl()","Unexpected exception in transport.send(): "+e.stack)}},I.prototype.queue=function(e,t){l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.queue()","queueing event");var n=this.queuedMessages.last(),a=this.options.maxMessageSize;n&&!n.sendAttempted&&function(e,t,n){var a;if(e.channel!==t.channel)return!1;if((a=e.action)!==j.PRESENCE&&a!==j.MESSAGE)return!1;if(a!==t.action)return!1;var o=a===j.PRESENCE?"presence":"messages",r=e[o].concat(t[o]);return!(g.a.getMessagesSize(r)>n||!i.a.allSame(r,"clientId")||!i.a.arrEvery(r,(function(e){return!e.id}))||(e[o]=r,0))}(n.message,e,a)?(n.merged||(n.callback=Object(y.a)([n.callback]),n.merged=!0),n.callback.push(t)):this.queuedMessages.push(new _(e,t))},I.prototype.sendQueuedMessages=function(){var e;for(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.sendQueuedMessages()","sending "+this.queuedMessages.count()+" queued messages");e=this.queuedMessages.shift();)this.sendImpl(e)},I.prototype.queuePendingMessages=function(e){e&&e.length&&(l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.queuePendingMessages()","queueing "+e.length+" pending messages"),this.queuedMessages.prepend(e))},I.prototype.failQueuedMessages=function(e){var t=this.queuedMessages.count();t>0&&(l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.failQueuedMessages()","failing "+t+" queued messages, err = "+i.a.inspectError(e)),this.queuedMessages.completeAllMessages(e))},I.prototype.onChannelMessage=function(e,t){var n=this.activeProtocol&&t===this.activeProtocol.getTransport(),o=i.a.arrIn(this.pendingTransports,t)&&this.state==this.states.synchronizing,r=e.action===j.MESSAGE||e.action===j.PRESENCE;if(n||o){if(r){if(this.setConnectionSerial(e))return;if(a.a.isDuplicate(e,this.mostRecentMsg))return void l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.onChannelMessage()","received message with different connectionSerial, but same message id as a previous; discarding; id = "+e.id);this.mostRecentMsg=e}this.realtime.channels.onChannelMessage(e)}else i.a.arrIndexOf([j.ACK,j.NACK,j.ERROR],e.action)>-1?this.realtime.channels.onChannelMessage(e):l.a.logAction(l.a.LOG_MICRO,"ConnectionManager.onChannelMessage()","received message "+JSON.stringify(e)+"on defunct transport; discarding")},I.prototype.ping=function(e,t){if(e){l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.ping()","transport = "+e);var n=i.a.now(),a=i.a.cheapRandStr(),o=function(s){if(s===a){e.off("heartbeat",o),clearTimeout(r);var c=i.a.now()-n;t(null,c)}},r=setTimeout((function(){e.off("heartbeat",o),t(new m.a("Timeout waiting for heartbeat response",5e4,500))}),this.options.timeouts.realtimeRequestTimeout);return e.on("heartbeat",o),void e.ping(a)}if("connected"===this.state.state){var s=!1,c=this,u=function(){s||(s=!0,i.a.nextTick((function(){c.ping(null,t)})))};this.on("transport.active",u),this.ping(this.activeProtocol.getTransport(),(function(e,n){c.off("transport.active",u),s||(s=!0,t(e,n))}))}else t(new m.a("Unable to ping service; not connected",4e4,400))},I.prototype.abort=function(e){this.activeProtocol.getTransport().fail(e)},I.prototype.registerProposedTransport=function(e){this.proposedTransports.push(e)},I.prototype.getTransportPreference=function(){return this.transportPreference||t&&k.a.get(R)},I.prototype.persistTransportPreference=function(e){i.a.arrIn(r.a.upgradeTransports,e.shortName)&&(this.transportPreference=e.shortName,t&&k.a.set(R,e.shortName))},I.prototype.unpersistTransportPreference=function(){this.transportPreference=null,t&&k.a.remove(R)},I.prototype.actOnErrorFromAuthorize=function(e){if(40171===e.code)this.notifyState({state:"failed",error:e});else if(403===e.statusCode){var t="Client configured authentication provider returned 403; failing the connection";l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.actOnErrorFromAuthorize()",t),this.notifyState({state:"failed",error:new m.a(t,80019,403,e)})}else t="Client configured authentication provider request failed",l.a.logAction(l.a.LOG_MINOR,"ConnectionManager.actOnErrorFromAuthorize",t),this.notifyState({state:this.state.failState,error:new m.a(t,80019,401,e)})},I.prototype.onConnectionDetailsUpdate=function(e,t){if(e){this.connectionDetails=e,e.maxMessageSize&&(this.options.maxMessageSize=e.maxMessageSize);var n=e.clientId;if(n){var a=this.realtime.auth._uncheckedSetClientId(n);if(a)return l.a.logAction(l.a.LOG_ERROR,"ConnectionManager.onConnectionDetailsUpdate()",a.message),void t.fail(a)}var i=e.connectionStateTtl;i&&(this.connectionStateTtl=i),this.maxIdleInterval=e.maxIdleInterval,this.emit("connectiondetails",e)}},I}();t.a=j}).call(this,n(17))},function(e,t,n){"use strict";var a=n(1),i=n(7),o=n(0),r=function(){function e(){i.a.call(this),this.messages=[]}return a.a.inherits(e,i.a),e.prototype.count=function(){return this.messages.length},e.prototype.push=function(e){this.messages.push(e)},e.prototype.shift=function(){return this.messages.shift()},e.prototype.last=function(){return this.messages[this.messages.length-1]},e.prototype.copyAll=function(){return this.messages.slice()},e.prototype.append=function(e){this.messages.push.apply(this.messages,e)},e.prototype.prepend=function(e){this.messages.unshift.apply(this.messages,e)},e.prototype.completeMessages=function(e,t,n){o.a.logAction(o.a.LOG_MICRO,"MessageQueue.completeMessages()","serial = "+e+"; count = "+t),n=n||null;var a=this.messages,i=a[0];if(i){var r=i.message.msgSerial,s=e+t;if(s>r)for(var c=a.splice(0,s-r),u=0;u<c.length;u++)c[u].callback(n);0==a.length&&this.emit("idle")}},e.prototype.completeAllMessages=function(e){this.completeMessages(0,Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,e)},e.prototype.clear=function(){o.a.logAction(o.a.LOG_MICRO,"MessageQueue.clear()","clearing "+this.messages.length+" messages"),this.messages=[],this.emit("idle")},e}();t.a=r},function(e,t,n){"use strict";(function(e){var a=n(1),i=n(7),o=n(3),r=n(2),s=n(6),c=n(0),u=n(5),l=n(4),h=n(35),d=function(){var t=function(){},n=0,d={},m=void 0!==e&&e.XDomainRequest;function p(e,t,o,r,s,c,u){var l,h;i.a.call(this),(o=o||{}).rnd=a.a.cheapRandStr(),m&&(l=(h=navigator.userAgent.toString().match(/MSIE\s([\d.]+)/))&&Number(h[1]))&&10===l&&!o.envelope&&(o.envelope="json"),this.uri=e+a.a.toQueryString(o),this.headers=t||{},this.body=r,this.method=u?u.toUpperCase():a.a.isEmptyArg(r)?"GET":"POST",this.requestMode=s,this.timeouts=c,this.timedOut=!1,this.requestComplete=!1,d[this.id=String(++n)]=this}a.a.inherits(p,i.a);var f=p.createRequest=function(e,t,n,i,o,r,s){return r=r||u.a.TIMEOUTS,new p(e,t,a.a.copy(n),i,o,r,s)};return p.prototype.complete=function(e,t,n,a,i){this.requestComplete||(this.requestComplete=!0,!e&&t&&this.emit("data",t),this.emit("complete",e,t,n,a,i),this.dispose())},p.prototype.abort=function(){this.dispose()},p.prototype.exec=function(){var e=0==this.requestMode?this.timeouts.httpRequestTimeout:this.timeouts.recvTimeout,t=this,n=this.timer=setTimeout((function(){t.timedOut=!0,u.abort()}),e),i=this.body,o=this.method,s=this.headers,u=this.xhr=new XMLHttpRequest,h=s.accept,d="text";for(var m in h?0===h.indexOf("application/x-msgpack")&&(d="arraybuffer"):s.accept="application/json",i&&(s["content-type"]||(s["content-type"]="application/json")).indexOf("application/json")>-1&&"string"!=typeof i&&(i=JSON.stringify(i)),u.open(o,this.uri,!0),u.responseType=d,"authorization"in s&&(u.withCredentials=!0),s)u.setRequestHeader(m,s[m]);var p=function(e,n,a,i){var o=n+" (event type: "+e.type+")"+(t.xhr.statusText?", current statusText is "+t.xhr.statusText:"");c.a.logAction(c.a.LOG_ERROR,"Request.on"+e.type+"()",o),t.complete(new r.a(o,a,i))};u.onerror=function(e){p(e,"XHR error occurred",null,400)},u.onabort=function(e){t.timedOut?p(e,"Request aborted due to request timeout expiring",null,408):p(e,"Request cancelled",null,400)},u.ontimeout=function(e){p(e,"Request timed out",null,408)};var f,g,y,v,k=0,b=!1;function w(){for(var e,t,n=(y=u.responseText).length-1;k<n&&(e=y.indexOf("\n",k))>-1;)t=y.slice(k,e),k=e+1,j(t)}function j(e){try{e=JSON.parse(e)}catch(e){return void t.complete(new r.a("Malformed response body from server: "+e.message,null,400))}t.emit("data",e)}u.onreadystatechange=function(){var e=u.readyState;e<3||0!==u.status&&(void 0===g&&(1223===(g=u.status)&&(g=204),clearTimeout(n),v=g<400,204!=g?f=3==t.requestMode&&v&&function(e){return e.getResponseHeader&&(e.getResponseHeader("transfer-encoding")||!e.getResponseHeader("content-length"))}(u):t.complete(null,null,null,null,g)),3==e&&f?w():4==e&&(f?(w(),t.streamComplete=!0,a.a.nextTick((function(){t.complete()}))):function(){try{var e,n,i=function(e,t){return e.getResponseHeader&&e.getResponseHeader("content-type")}(u);(i?i.indexOf("application/json")>=0:"text"==u.responseType)?((n="arraybuffer"===u.responseType?l.a.utf8Decode(u.response):String(u.responseText)).length&&(n=JSON.parse(n)),b=!0):n=u.response,void 0!==n.response?(g=n.statusCode,v=g<400,e=n.headers,n=n.response):e=function(e){for(var t=a.a.trim(e.getAllResponseHeaders()).split("\r\n"),n={},i=0;i<t.length;i++){var o=a.a.arrMap(t[i].split(":"),a.a.trim);n[o[0].toLowerCase()]=o[1]}return n}(u)}catch(e){return void t.complete(new r.a("Malformed response body from server: "+e.message,null,400))}if(v||a.a.isArray(n))t.complete(null,n,e,b,g);else{var o=n.error&&r.a.fromValues(n.error);o||(o=new r.a("Error response received from server: "+g+" body was: "+a.a.inspect(n),null,g)),t.complete(o,n,e,b,g)}}()))},u.send(i)},p.prototype.dispose=function(){var e=this.xhr;if(e){e.onreadystatechange=e.onerror=e.onabort=e.ontimeout=t,this.xhr=null;var n=this.timer;n&&(clearTimeout(n),this.timer=null),this.requestComplete||e.abort()}delete d[this.id]},o.a.xhrSupported&&("object"==typeof h.a&&h.a.addUnloadListener((function(){for(var e in d)d[e].dispose()})),void 0!==s.a&&(s.a.supportsAuthHeaders=!0,s.a.Request=function(e,t,n,a,i,o,r){var s=f(n,a,i,o,0,t&&t.options.timeouts,e);return s.once("complete",r),s.exec(),s},s.a.checkConnectivity=function(e){var t=u.a.internetUpUrl;c.a.logAction(c.a.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Sending; "+t),s.a.getUri(null,t,null,null,(function(t,n){var a=!t&&"yes"==n.replace(/\n/,"");c.a.logAction(c.a.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Result: "+a),e(null,a)}))})),p}();t.a=d}).call(this,n(17))},function(e,t,n){var a;e.exports=(a=n(12),n(10),n(46),n(18),n(37),n(36),n(29),n(30),n(31),n(47),n(48),a)},function(e,t,n){var a,i,o;e.exports=(i=(a=n(12)).lib.Base,o=a.enc.Utf8,void(a.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,a=4*n;t.sigBytes>a&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),r=this._iKey=t.clone(),s=i.words,c=r.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=r.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},function(e,t,n){var a,i,o,r,s,c,u,l;e.exports=(l=n(12),n(37),n(29),o=(i=(a=l).lib).Base,r=i.WordArray,c=(s=a.algo).MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,a=this.cfg,i=a.hasher.create(),o=r.create(),s=o.words,c=a.keySize,u=a.iterations;s.length<c;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*c,o}}),a.EvpKDF=function(e,t,n){return u.create(n).compute(e,t)},l.EvpKDF)},function(e,t,n){var a,i,o,r,s,c,u,l,h,d,m,p,f,g,y,v,k,b,w;e.exports=(a=n(12),n(30),void(a.lib.Cipher||(i=a,o=i.lib,r=o.Base,s=o.WordArray,c=o.BufferedBlockAlgorithm,u=i.enc,u.Utf8,l=u.Base64,h=i.algo.EvpKDF,d=o.Cipher=c.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:k}return function(t){return{encrypt:function(n,a,i){return e(a).encrypt(t,n,a,i)},decrypt:function(n,a,i){return e(a).decrypt(t,n,a,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),m=i.mode={},p=o.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=m.CBC=function(){var e=p.extend();function t(e,t,n){var a,i=this._iv;i?(a=i,this._iv=void 0):a=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=a[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var a=this._cipher,i=a.blockSize;t.call(this,e,n,i),a.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var a=this._cipher,i=a.blockSize,o=e.slice(n,n+i);a.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,a=n-e.sigBytes%n,i=a<<24|a<<16|a<<8|a,o=[],r=0;r<a;r+=4)o.push(i);var c=s.create(o,a);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:f,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,a=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=a.createEncryptor:(e=a.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(a,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=o.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),a=n.words;return 1398893684==a[0]&&1701076831==a[1]&&(t=s.create(a.slice(2,4)),a.splice(0,4),n.sigBytes-=16),y.create({ciphertext:n,salt:t})}},k=o.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(e,t,n,a){a=this.cfg.extend(a);var i=e.createEncryptor(n,a),o=i.finalize(t),r=i.cfg;return y.create({ciphertext:o,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:a.format})},decrypt:function(e,t,n,a){return a=this.cfg.extend(a),t=this._parse(t,a.format),e.createDecryptor(n,a).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(i.kdf={}).OpenSSL={execute:function(e,t,n,a){a||(a=s.random(8));var i=h.create({keySize:t+n}).compute(e,a),o=s.create(i.words.slice(t),4*n);return i.sigBytes=4*t,y.create({key:i,iv:o,salt:a})}},w=o.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:b}),encrypt:function(e,t,n,a){var i=(a=this.cfg.extend(a)).kdf.execute(n,e.keySize,e.ivSize);a.iv=i.iv;var o=k.encrypt.call(this,e,t,i.key,a);return o.mixIn(i),o},decrypt:function(e,t,n,a){a=this.cfg.extend(a),t=this._parse(t,a.format);var i=a.kdf.execute(n,e.keySize,e.ivSize,t.salt);return a.iv=i.iv,k.decrypt.call(this,e,t,i.key,a)}}))))},function(e,t,n){e.exports=n(12).enc.Hex},function(e,t,n){e.exports=n(12).enc.Utf8},function(e,t,n){"use strict";var a=n(8),i=n(1),o=n(7),r=n(0),s=n(26),c=n(2),u=function(){var e=a.a.Action;function t(e){o.a.call(this),this.transport=e,this.messageQueue=new s.a;var t=this;e.on("ack",(function(e,n){t.onAck(e,n)})),e.on("nack",(function(e,n,a){t.onNack(e,n,a)}))}return i.a.inherits(t,o.a),t.prototype.onAck=function(e,t){r.a.logAction(r.a.LOG_MICRO,"Protocol.onAck()","serial = "+e+"; count = "+t),this.messageQueue.completeMessages(e,t)},t.prototype.onNack=function(e,t,n){r.a.logAction(r.a.LOG_ERROR,"Protocol.onNack()","serial = "+e+"; count = "+t+"; err = "+i.a.inspectError(n)),n||(n=new c.a("Unable to send message; channel not responding",50001,500)),this.messageQueue.completeMessages(e,t,n)},t.prototype.onceIdle=function(e){var t=this.messageQueue;0!==t.count()?t.once("idle",e):e()},t.prototype.send=function(e){e.ackRequired&&this.messageQueue.push(e),r.a.shouldLog(r.a.LOG_MICRO)&&r.a.logAction(r.a.LOG_MICRO,"Protocol.send()","sending msg; "+a.a.stringify(e.message)),e.sendAttempted=!0,this.transport.send(e.message)},t.prototype.getTransport=function(){return this.transport},t.prototype.getPendingMessages=function(){return this.messageQueue.copyAll()},t.prototype.clearPendingMessages=function(){return this.messageQueue.clear()},t.prototype.finish=function(){var e=this.transport;this.onceIdle((function(){e.disconnect()}))},t.PendingMessage=function(t,n){this.message=t,this.callback=n,this.merged=!1;var a=t.action;this.sendAttempted=!1,this.ackRequired=a==e.MESSAGE||a==e.PRESENCE},t}();t.a=u},function(e,t,n){"use strict";(function(e){var n=function(){function t(){}return t.addListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,(function(){n.apply(e,arguments)}))},t.removeListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,(function(){n.apply(e,arguments)}))},t.addMessageListener=function(e,n){t.addListener(e,"message",n)},t.removeMessageListener=function(e,n){t.removeListener(e,"message",n)},t.addUnloadListener=function(n){t.addListener(e,"unload",n)},t}();t.a=n}).call(this,n(17))},function(e,t,n){var a;e.exports=(a=n(12),function(e){var t=a,n=t.lib,i=n.WordArray,o=n.Hasher,r=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),a=2;a<=n;a++)if(!(t%a))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var a=2,i=0;i<64;)t(a)&&(i<8&&(s[i]=n(e.pow(a,.5))),c[i]=n(e.pow(a,1/3)),i++),a++}();var u=[],l=r.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,a=n[0],i=n[1],o=n[2],r=n[3],s=n[4],l=n[5],h=n[6],d=n[7],m=0;m<64;m++){if(m<16)u[m]=0|e[t+m];else{var p=u[m-15],f=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[m-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[m]=f+u[m-7]+y+u[m-16]}var v=a&i^a&o^i&o,k=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&h)+c[m]+u[m];d=h,h=l,l=s,s=r+b|0,r=o,o=i,i=a,a=b+(k+v)|0}n[0]=n[0]+a|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+r|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,a=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(a/4294967296),n[15+(i+64>>>9<<4)]=a,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),a.SHA256)},function(e,t,n){var a,i,o,r,s,c,u,l;e.exports=(i=(a=l=n(12)).lib,o=i.WordArray,r=i.Hasher,s=a.algo,c=[],u=s.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,a=n[0],i=n[1],o=n[2],r=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var h=(a<<5|a>>>27)+s+c[u];h+=u<20?1518500249+(i&o|~i&r):u<40?1859775393+(i^o^r):u<60?(i&o|i&r|o&r)-1894007588:(i^o^r)-899497514,s=r,r=o,o=i<<30|i>>>2,i=a,a=h}n[0]=n[0]+a|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+r|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(a+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(a+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),a.SHA1=r._createHelper(u),a.HmacSHA1=r._createHmacHelper(u),l.SHA1)},function(e,t,n){var a;e.exports=(a=n(12),n(36),n(29),a.HmacSHA256)},function(e,t,n){"use strict";(function(e){var a=n(1),i=n(15),o=n(3),r=n(7),s=n(6),c=n(2),u=n(5),l=n(0);t.a=function(t){var n=function(){},h=e._ablyjs_jsonp={};h._=function(e){return h["_"+e]||n};var d=1,m=null;function p(e,t,n){n.stream=!1,i.a.call(this,e,t,n),this.shortName="jsonp"}a.a.inherits(p,i.a),p.isAvailable=function(){return o.a.jsonpSupported&&o.a.allowComet},p.isAvailable()&&(t.supportedTransports.jsonp=p),o.a.jsonpSupported&&(m=document.getElementsByTagName("head")[0]);var f=null;e.JSONPTransport=p,p.tryConnect=function(e,t,n,a){var i=new p(e,t,n),o=function(e){a({event:this.event,error:e})};i.on(["failed","disconnected"],o),i.on("preconnect",(function(){l.a.logAction(l.a.LOG_MINOR,"JSONPTransport.tryConnect()","viable transport "+i),i.off(["failed","disconnected"],o),a(null,i)})),i.connect()},p.prototype.toString=function(){return"JSONPTransport; uri="+this.baseUri+"; isConnected="+this.isConnected};var g=p.prototype.createRequest=function(e,t,n,i,o,r,s){return r=this&&this.timeouts||r||u.a.TIMEOUTS,new y(void 0,e,t,a.a.copy(n),i,o,r,s)};function y(e,t,n,i,o,s,c,u){r.a.call(this),void 0===e&&(e=d++),this.id=e,this.uri=t,this.params=i||{},this.params.rnd=a.a.cheapRandStr(),n&&(n["X-Ably-Version"]&&(this.params.v=n["X-Ably-Version"]),n["X-Ably-Lib"]&&(this.params.lib=n["X-Ably-Lib"])),this.body=o,this.method=u,this.requestMode=s,this.timeouts=c,this.requestComplete=!1}return a.a.inherits(y,r.a),y.prototype.exec=function(){var e=this.id,t=this.body,n=this.method,o=this.uri,r=this.params,s=this;r.callback="_ablyjs_jsonp._("+e+")",r.envelope="jsonp",t&&(r.body=t),n&&"get"!==n&&(r.method=n);var u=this.script=document.createElement("script"),d=o+a.a.toQueryString(r);u.src=d,u.src.split("/").slice(-1)[0]!==d.split("/").slice(-1)[0]&&l.a.logAction(l.a.LOG_ERROR,"JSONP Request.exec()","Warning: the browser appears to have truncated the script URI. This will likely result in the request failing due to an unparseable body param"),u.async=!0,u.type="text/javascript",u.charset="UTF-8",u.onerror=function(e){s.complete(new c.a("JSONP script error (event: "+a.a.inspect(e)+")",null,400))},h["_"+e]=function(e){if(e.statusCode){var t=e.response;if(204==e.statusCode)s.complete(null,null,null,e.statusCode);else if(t)if(e.statusCode<400||a.a.isArray(t))s.complete(null,t,e.headers,e.statusCode);else{var n=t.error||new c.a("Error response received from server",null,e.statusCode);s.complete(n)}else s.complete(new c.a("Invalid server response: no envelope detected",null,500))}else s.complete(null,e)};var p=this.requestMode==i.a.REQ_SEND?this.timeouts.httpRequestTimeout:this.timeouts.recvTimeout;this.timer=setTimeout((function(){s.abort()}),p),m.insertBefore(u,m.firstChild)},y.prototype.complete=function(e,t,n,a){var i;n=n||{},this.requestComplete||(this.requestComplete=!0,t&&(i="string"==typeof t?"text/plain":"application/json",n["content-type"]=i,this.emit("data",t)),this.emit("complete",e,t,n,!0,a),this.dispose())},y.prototype.abort=function(){this.dispose()},y.prototype.dispose=function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null);var t=this.script;t.parentNode&&t.parentNode.removeChild(t),delete h[this.id],this.emit("disposed")},o.a.jsonpSupported&&!s.a.Request&&(s.a.Request=function(e,t,n,o,r,s,c){var u=g(n,o,r,s,i.a.REQ_SEND,t&&t.options.timeouts,e);return u.once("complete",c),a.a.nextTick((function(){u.exec()})),u},s.a.checkConnectivity=function(e){var t=u.a.jsonpInternetUpUrl;if(f)f.push(e);else{f=[e],l.a.logAction(l.a.LOG_MICRO,"(JSONP)Http.checkConnectivity()","Sending; "+t);var n=new y("isTheInternetUp",t,null,null,null,i.a.REQ_SEND,u.a.TIMEOUTS);n.once("complete",(function(e,t){var n=!e&&t;l.a.logAction(l.a.LOG_MICRO,"(JSONP)Http.checkConnectivity()","Result: "+n);for(var a=0;a<f.length;a++)f[a](null,n);f=null})),a.a.nextTick((function(){n.exec()}))}}),p}}).call(this,n(17))},function(e,t,n){"use strict";var a=n(3),i=n(1),o=n(20),r=n(5),s=n(0),c=n(8),u=n(2);t.a=function(e){var t=a.a.WebSocket;function n(e,t,n){this.shortName="web_socket",n.heartbeats=a.a.useProtocolHeartbeats,o.a.call(this,e,t,n),this.wsHost=r.a.getHost(n.options,n.host,!0)}return i.a.inherits(n,o.a),n.isAvailable=function(){return!!t},n.isAvailable()&&(e.supportedTransports.web_socket=n),n.tryConnect=function(e,t,a,i){var o=new n(e,t,a),r=function(e){i({event:this.event,error:e})};o.on(["failed","disconnected"],r),o.on("wsopen",(function(){s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.tryConnect()","viable transport "+o),o.off(["failed","disconnected"],r),i(null,o)})),o.connect()},n.prototype.createWebSocket=function(e,n){var a=0;if(n)for(var i in n)e+=(a++?"&":"?")+i+"="+n[i];return this.uri=e,new t(e)},n.prototype.toString=function(){return"WebSocketTransport; uri="+this.uri},n.prototype.connect=function(){s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.connect()","starting"),o.a.prototype.connect.call(this);var e=this,t=this.params,n=t.options,i=(n.tls?"wss://":"ws://")+this.wsHost+":"+r.a.getPort(n)+"/";s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.connect()","uri: "+i),this.auth.getAuthParams((function(n,o){if(!e.isDisposed){var r="";for(var c in o)r+=" "+c+": "+o[c]+";";if(s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.connect()","authParams:"+r+" err: "+n),n)e.disconnect(n);else{var u=t.getConnectParams(o);try{var l=e.wsConnection=e.createWebSocket(i,u);l.binaryType=a.a.binaryType,l.onopen=function(){e.onWsOpen()},l.onclose=function(t){e.onWsClose(t)},l.onmessage=function(t){e.onWsData(t.data)},l.onerror=function(t){e.onWsError(t)},l.on&&l.on("ping",(function(){e.onActivity()}))}catch(t){s.a.logAction(s.a.LOG_ERROR,"WebSocketTransport.connect()","Unexpected exception creating websocket: err = "+(t.stack||t.message)),e.disconnect(t)}}}}))},n.prototype.send=function(e){var t=this.wsConnection;if(t)try{t.send(c.a.serialize(e,this.params.format))}catch(e){var n="Exception from ws connection when trying to send: "+i.a.inspectError(e);s.a.logAction(s.a.LOG_ERROR,"WebSocketTransport.send()",n),this.finish("disconnected",new u.a(n,5e4,500))}else s.a.logAction(s.a.LOG_ERROR,"WebSocketTransport.send()","No socket connection")},n.prototype.onWsData=function(e){s.a.logAction(s.a.LOG_MICRO,"WebSocketTransport.onWsData()","data received; length = "+e.length+"; type = "+typeof e);try{this.onProtocolMessage(c.a.deserialize(e,this.format))}catch(e){s.a.logAction(s.a.LOG_ERROR,"WebSocketTransport.onWsData()","Unexpected exception handing channel message: "+e.stack)}},n.prototype.onWsOpen=function(){s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.onWsOpen()","opened WebSocket"),this.emit("wsopen")},n.prototype.onWsClose=function(e){var t,n;if("object"==typeof e?(t=e.wasClean,n=e.code):t=1e3==(n=e),delete this.wsConnection,t){s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.onWsClose()","Cleanly closed WebSocket");var a=new u.a("Websocket closed",80003,400);this.finish("disconnected",a)}else{var i="Unclean disconnection of WebSocket ; code = "+n;a=new u.a(i,80003,400),s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.onWsClose()",i),this.finish("disconnected",a)}this.emit("disposed")},n.prototype.onWsError=function(e){s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.onError()","Error from WebSocket: "+e.message);var t=this;i.a.nextTick((function(){t.disconnect(e)}))},n.prototype.dispose=function(){s.a.logAction(s.a.LOG_MINOR,"WebSocketTransport.dispose()",""),this.isDisposed=!0;var e=this.wsConnection;e&&(e.onmessage=function(){},delete this.wsConnection,i.a.nextTick((function(){s.a.logAction(s.a.LOG_MICRO,"WebSocketTransport.dispose()","closing websocket"),e.close()})))},n}},function(e,t,n){"use strict";var a=n(39),i=n(1),o=n(0),r=n(3),s=n(15),c=n(27);t.a=[a.a,function(e){var t="xhr_polling";function n(e,n,a){a.stream=!1,s.a.call(this,e,n,a),this.shortName=t}return i.a.inherits(n,s.a),n.isAvailable=function(){return r.a.xhrSupported&&r.a.allowComet},n.tryConnect=function(e,t,a,i){var r=new n(e,t,a),s=function(e){i({event:this.event,error:e})};r.on(["failed","disconnected"],s),r.on("preconnect",(function(){o.a.logAction(o.a.LOG_MINOR,"XHRPollingTransport.tryConnect()","viable transport "+r),r.off(["failed","disconnected"],s),i(null,r)})),r.connect()},n.prototype.toString=function(){return"XHRPollingTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},n.prototype.createRequest=function(e,t,n,a,i){return c.a.createRequest(e,t,n,a,i,this.timeouts)},void 0!==e&&n.isAvailable()&&(e.supportedTransports[t]=n),n},function(e){var t="xhr_streaming";function n(e,n,a){s.a.call(this,e,n,a),this.shortName=t}return i.a.inherits(n,s.a),n.isAvailable=function(){return r.a.xhrSupported&&r.a.streamingSupported&&r.a.allowComet},n.tryConnect=function(e,t,a,i){var r=new n(e,t,a),s=function(e){i({event:this.event,error:e})};r.on(["failed","disconnected"],s),r.on("preconnect",(function(){o.a.logAction(o.a.LOG_MINOR,"XHRStreamingTransport.tryConnect()","viable transport "+r),r.off(["failed","disconnected"],s),i(null,r)})),r.connect()},n.prototype.toString=function(){return"XHRStreamingTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},n.prototype.createRequest=function(e,t,n,a,i){return c.a.createRequest(e,t,n,a,i,this.timeouts)},void 0!==e&&n.isAvailable()&&(e.supportedTransports[t]=n),n}]},function(e,t,n){(function(e){var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(43),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(17))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var a,i,o,r,s,c=1,u={},l=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(r="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),a=function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},a=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,a=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):a=function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,a(c),c++},d.clearImmediate=m}function m(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{m(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(17),n(44))},function(e,t){var n,a,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{a="function"==typeof clearTimeout?clearTimeout:r}catch(e){a=r}}();var c,u=[],l=!1,h=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&m())}function m(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===r||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){},function(e,t,n){var a;e.exports=(a=n(12),function(){var e=a,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;a.push(String.fromCharCode(o))}return a.join("")},parse:function(e){for(var n=e.length,a=[],i=0;i<n;i++)a[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(a,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],o=0;o<n;o+=2){var r=i(t[o>>>2]>>>16-o%4*8&65535);a.push(String.fromCharCode(r))}return a.join("")},parse:function(e){for(var n=e.length,a=[],o=0;o<n;o++)a[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(a,2*n)}}}(),a.enc.Utf16)},function(e,t,n){var a,i,o,r;e.exports=(r=n(12),n(31),i=(a=r).lib.CipherParams,o=a.enc.Hex,a.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},r.format.Hex)},function(e,t,n){var a;e.exports=(a=n(12),n(18),n(49),n(30),n(31),function(){var e=a,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],r=[],s=[],c=[],u=[],l=[],h=[],d=[],m=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,a=0;for(t=0;t<256;t++){var p=a^a<<1^a<<2^a<<3^a<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var f=e[n],g=e[f],y=e[g],v=257*e[p]^16843008*p;r[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,u[n]=v,v=16843009*y^65537*g^257*f^16843008*n,l[p]=v<<24|v>>>8,h[p]=v<<16|v>>>16,d[p]=v<<8|v>>>24,m[p]=v,n?(n=f^e[e[e[y^f]]],a^=e[e[a]]):n=a=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],f=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,a=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],r=0;r<a;r++)r<n?o[r]=t[r]:(u=o[r-1],r%n?n>6&&r%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[r/n|0]<<24),o[r]=o[r-n]^u);for(var s=this._invKeySchedule=[],c=0;c<a;c++){if(r=a-c,c%4)var u=o[r];else u=o[r-4];s[c]=c<4||r<=4?u:l[i[u>>>24]]^h[i[u>>>16&255]]^d[i[u>>>8&255]]^m[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,s,c,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,h,d,m,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,a,i,o,r,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],m=4,p=1;p<c;p++){var f=a[u>>>24]^i[l>>>16&255]^o[h>>>8&255]^r[255&d]^n[m++],g=a[l>>>24]^i[h>>>16&255]^o[d>>>8&255]^r[255&u]^n[m++],y=a[h>>>24]^i[d>>>16&255]^o[u>>>8&255]^r[255&l]^n[m++],v=a[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^r[255&h]^n[m++];u=f,l=g,h=y,d=v}f=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^n[m++],g=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[m++],y=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[m++],v=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^n[m++],e[t]=f,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});e.AES=t._createHelper(f)}(),a.AES)},function(e,t,n){var a;e.exports=(a=n(12),function(e){var t=a,n=t.lib,i=n.WordArray,o=n.Hasher,r=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=r.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var a=t+n,i=e[a];e[a]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,r=e[t+0],c=e[t+1],m=e[t+2],p=e[t+3],f=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],k=e[t+8],b=e[t+9],w=e[t+10],j=e[t+11],_=e[t+12],S=e[t+13],C=e[t+14],T=e[t+15],R=o[0],O=o[1],E=o[2],I=o[3];R=u(R,O,E,I,r,7,s[0]),I=u(I,R,O,E,c,12,s[1]),E=u(E,I,R,O,m,17,s[2]),O=u(O,E,I,R,p,22,s[3]),R=u(R,O,E,I,f,7,s[4]),I=u(I,R,O,E,g,12,s[5]),E=u(E,I,R,O,y,17,s[6]),O=u(O,E,I,R,v,22,s[7]),R=u(R,O,E,I,k,7,s[8]),I=u(I,R,O,E,b,12,s[9]),E=u(E,I,R,O,w,17,s[10]),O=u(O,E,I,R,j,22,s[11]),R=u(R,O,E,I,_,7,s[12]),I=u(I,R,O,E,S,12,s[13]),E=u(E,I,R,O,C,17,s[14]),R=l(R,O=u(O,E,I,R,T,22,s[15]),E,I,c,5,s[16]),I=l(I,R,O,E,y,9,s[17]),E=l(E,I,R,O,j,14,s[18]),O=l(O,E,I,R,r,20,s[19]),R=l(R,O,E,I,g,5,s[20]),I=l(I,R,O,E,w,9,s[21]),E=l(E,I,R,O,T,14,s[22]),O=l(O,E,I,R,f,20,s[23]),R=l(R,O,E,I,b,5,s[24]),I=l(I,R,O,E,C,9,s[25]),E=l(E,I,R,O,p,14,s[26]),O=l(O,E,I,R,k,20,s[27]),R=l(R,O,E,I,S,5,s[28]),I=l(I,R,O,E,m,9,s[29]),E=l(E,I,R,O,v,14,s[30]),R=h(R,O=l(O,E,I,R,_,20,s[31]),E,I,g,4,s[32]),I=h(I,R,O,E,k,11,s[33]),E=h(E,I,R,O,j,16,s[34]),O=h(O,E,I,R,C,23,s[35]),R=h(R,O,E,I,c,4,s[36]),I=h(I,R,O,E,f,11,s[37]),E=h(E,I,R,O,v,16,s[38]),O=h(O,E,I,R,w,23,s[39]),R=h(R,O,E,I,S,4,s[40]),I=h(I,R,O,E,r,11,s[41]),E=h(E,I,R,O,p,16,s[42]),O=h(O,E,I,R,y,23,s[43]),R=h(R,O,E,I,b,4,s[44]),I=h(I,R,O,E,_,11,s[45]),E=h(E,I,R,O,T,16,s[46]),R=d(R,O=h(O,E,I,R,m,23,s[47]),E,I,r,6,s[48]),I=d(I,R,O,E,v,10,s[49]),E=d(E,I,R,O,C,15,s[50]),O=d(O,E,I,R,g,21,s[51]),R=d(R,O,E,I,_,6,s[52]),I=d(I,R,O,E,p,10,s[53]),E=d(E,I,R,O,w,15,s[54]),O=d(O,E,I,R,c,21,s[55]),R=d(R,O,E,I,k,6,s[56]),I=d(I,R,O,E,T,10,s[57]),E=d(E,I,R,O,y,15,s[58]),O=d(O,E,I,R,S,21,s[59]),R=d(R,O,E,I,f,6,s[60]),I=d(I,R,O,E,j,10,s[61]),E=d(E,I,R,O,m,15,s[62]),O=d(O,E,I,R,b,21,s[63]),o[0]=o[0]+R|0,o[1]=o[1]+O|0,o[2]=o[2]+E|0,o[3]=o[3]+I|0},_doFinalize:function(){var t=this._data,n=t.words,a=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(a/4294967296),r=a;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,a,i,o,r){var s=e+(t&n|~t&a)+i+r;return(s<<o|s>>>32-o)+t}function l(e,t,n,a,i,o,r){var s=e+(t&a|n&~a)+i+r;return(s<<o|s>>>32-o)+t}function h(e,t,n,a,i,o,r){var s=e+(t^n^a)+i+r;return(s<<o|s>>>32-o)+t}function d(e,t,n,a,i,o,r){var s=e+(n^(t|~a))+i+r;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),a.MD5)},function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(1),o=n(0),r=n(5),s=n(14),c=function(){function e(){this.id=void 0,this.deviceSecret=void 0,this.platform=void 0,this.formFactor=void 0,this.clientId=void 0,this.metadata=void 0,this.deviceIdentityToken=void 0,this.push={recipient:void 0,state:void 0,error:void 0}}return e.prototype.toJSON=function(){return{id:this.id,deviceSecret:this.deviceSecret,platform:this.platform,formFactor:this.formFactor,clientId:this.clientId,metadata:this.metadata,deviceIdentityToken:this.deviceIdentityToken,push:{recipient:this.push.recipient,state:this.push.state,error:this.push.error}}},e.prototype.toString=function(){var e="[DeviceDetails";return this.id&&(e+="; id="+this.id),this.platform&&(e+="; platform="+this.platform),this.formFactor&&(e+="; formFactor="+this.formFactor),this.clientId&&(e+="; clientId="+this.clientId),this.metadata&&(e+="; metadata="+this.metadata),this.deviceIdentityToken&&(e+="; deviceIdentityToken="+JSON.stringify(this.deviceIdentityToken)),this.push.recipient&&(e+="; push.recipient="+JSON.stringify(this.push.recipient)),this.push.state&&(e+="; push.state="+this.push.state),this.push.error&&(e+="; push.error="+JSON.stringify(this.push.error)),this.push.metadata&&(e+="; push.metadata="+this.push.metadata),e+"]"},e.toRequestBody=i.a.encodeBody,e.fromResponseBody=function(t,n){return n&&(t=i.a.decodeBody(t,n)),i.a.isArray(t)?e.fromValuesArray(t):e.fromValues(t)},e.fromValues=function(t){return t.error=t.error&&ErrorInfo.fromValues(t.error),i.a.mixin(new e,t)},e.fromValuesArray=function(t){for(var n=t.length,a=new Array(n),i=0;i<n;i++)a[i]=e.fromValues(t[i]);return a},e}(),u=n(6),l=n(4),h=function(){var e=a.a.msgpack;function t(){}function n(e,t,n,a,o){u.a.supportsAuthHeaders?e.auth.getAuthHeaders((function(e,r){e?a(e):o(i.a.mixin(r,t),n)})):e.auth.getAuthParams((function(e,r){e?a(e):o(t,i.a.mixin(r,n))}))}function r(e){var t=[];if(e)for(var n in e)t.push(n+"="+e[n]);return t.join("&")}function c(e,t){return e+(t?"?":"")+r(t)}return i.a.arrForEach(u.a.methodsWithoutBody,(function(e){t[e]=function(n,a,i,o,r,s){t.do(e,n,a,null,i,o,r,s)}})),i.a.arrForEach(u.a.methodsWithBody,(function(e){t[e]=function(n,a,i,o,r,s,c){t.do(e,n,a,i,o,r,s,c)}})),t.do=function(t,a,h,d,m,p,f,g){o.a.shouldLog(o.a.LOG_MICRO)&&(g=function(e,t,n,a){return function(s,u,h,d,m){s?o.a.logAction(o.a.LOG_MICRO,"Resource."+t+"()","Received Error; "+c(n,a)+"; Error: "+i.a.inspectError(s)):o.a.logAction(o.a.LOG_MICRO,"Resource."+t+"()","Received; "+c(n,a)+"; Headers: "+r(h)+"; StatusCode: "+m+"; Body: "+(l.a.isBuffer(u)?u.toString():u)),e&&e(s,u,h,d,m)}}(g,t,h,p)),f&&(g=g&&function(e,t){return function(n,a,o,r,s){if(!n||a){if(!r)try{a=i.a.decodeBody(a,t)}catch(t){return void e(t)}if(void 0!==a.statusCode){var c=a.statusCode,u=a.response,l=a.headers;if(c<200||c>=300){var h=u&&u.error||n;return h||((h=new Error("Error in unenveloping "+a)).statusCode=c),void e(h,u,l,!0,c)}e(n,u,l,!0,c)}else e(n,a,o,!0,s)}else e(n)}}(g,f),(p=p||{}).envelope=f),n(a,m,p,g,(function r(l,f){o.a.shouldLog(o.a.LOG_MICRO)&&o.a.logAction(o.a.LOG_MICRO,"Resource."+t+"()","Sending; "+c(h,f));var y=[a,h,l,d,f,function(e,t,i,o,c){e&&s.a.isTokenErr(e)?a.auth.authorize(null,null,(function(e){e?g(e):n(a,m,p,g,r)})):g(e,t,i,o,c)}];if(d||y.splice(3,1),o.a.shouldLog(o.a.LOG_MICRO)){var v=d;if((l["content-type"]||"").indexOf("msgpack")>0)try{v=e.decode(d)}catch(e){o.a.logAction(o.a.LOG_MICRO,"Resource."+t+"()","Sending MsgPack Decoding Error: "+i.a.inspectError(e))}o.a.logAction(o.a.LOG_MICRO,"Resource."+t+"()","Sending; "+c(h,f)+"; Body: "+v)}u.a[t].apply(this,y)}))},t}(),d=function(){function e(e,t,n,a,i,o){this.rest=e,this.path=t,this.headers=n,this.envelope=a,this.bodyHandler=i,this.useHttpPaginatedResponse=o||!1}function t(e,t,n){if(this.resource=e,this.items=t,n){var a=this;"first"in n&&(this.first=function(e){if(!e&&a.resource.rest.options.promises)return i.a.promisify(a,"first",[]);a.get(n.first,e)}),"current"in n&&(this.current=function(e){if(!e&&a.resource.rest.options.promises)return i.a.promisify(a,"current",[]);a.get(n.current,e)}),this.next=function(e){if(!e&&a.resource.rest.options.promises)return i.a.promisify(a,"next",[]);"next"in n?a.get(n.next,e):e(null,null)},this.hasNext=function(){return"next"in n},this.isLast=function(){return!this.hasNext()}}}function n(e,n,a,i,o,r){t.call(this,e,n,o),this.statusCode=i,this.success=i<300&&i>=200,this.headers=a,this.errorCode=r&&r.code,this.errorMessage=r&&r.message}return i.a.arrForEach(u.a.methodsWithoutBody,(function(t){e.prototype[t]=function(e,n){var a=this;h[t](a.rest,a.path,a.headers,e,a.envelope,(function(e,t,i,o,r){a.handlePage(e,t,i,o,r,n)}))}})),i.a.arrForEach(u.a.methodsWithBody,(function(t){e.prototype[t]=function(e,n,a){var i=this;h[t](i.rest,i.path,n,i.headers,e,i.envelope,(function(e,t,n,o,r){a&&i.handlePage(e,t,n,o,r,a)}))}})),e.prototype.handlePage=function(e,a,r,s,c,u){if(e&&function(e,t,n){return!(n&&(t||"number"==typeof e.code))}(e,a,this.useHttpPaginatedResponse))return o.a.logAction(o.a.LOG_ERROR,"PaginatedResource.handlePage()","Unexpected error getting resource: err = "+i.a.inspectError(e)),void u(e);var l,h,d;try{l=this.bodyHandler(a,r,s)}catch(t){return void u(e||t)}r&&(h=r.Link||r.link)&&(d=function(e){"string"==typeof e&&(e=e.split(","));for(var t,n={},a=0;a<e.length;a++){var o=e[a].match(/^\s*<(.+)>;\s*rel="(\w+)"$/);if(o){var r=(void 0,(t=o[1].match(/^\.\/(\w+)\?(.*)$/))&&i.a.parseQueryString(t[2]));r&&(n[o[2]]=r)}}return n}(h)),this.useHttpPaginatedResponse?u(null,new n(this,l,r,c,d,e)):u(null,new t(this,l,d))},t.prototype.get=function(e,t){var n=this.resource;h.get(n.rest,n.path,n.headers,e,n.envelope,(function(e,a,i,o,r){n.handlePage(e,a,i,o,r,t)}))},i.a.inherits(n,t),e}(),m=n(2),p=function(){function e(){this.channel=void 0,this.deviceId=void 0,this.clientId=void 0}return e.prototype.toJSON=function(){return{channel:this.channel,deviceId:this.deviceId,clientId:this.clientId}},e.prototype.toString=function(){var e="[PushChannelSubscription";return this.channel&&(e+="; channel="+this.channel),this.deviceId&&(e+="; deviceId="+this.deviceId),this.clientId&&(e+="; clientId="+this.clientId),e+"]"},e.toRequestBody=i.a.encodeBody,e.fromResponseBody=function(t,n){return n&&(t=i.a.decodeBody(t,n)),i.a.isArray(t)?e.fromValuesArray(t):e.fromValues(t)},e.fromValues=function(t){return i.a.mixin(new e,t)},e.fromValuesArray=function(t){for(var n=t.length,a=new Array(n),i=0;i<n;i++)a[i]=e.fromValues(t[i]);return a},e}(),f=function(){var e=function(){};function t(e){this.rest=e,this.deviceRegistrations=new n(e),this.channelSubscriptions=new a(e)}function n(e){this.rest=e}function a(e){this.rest=e}return t.prototype.publish=function(t,n,a){var o=this.rest,r=o.options.useBinaryProtocol?"msgpack":"json",s=i.a.mixin({recipient:t},n),c=i.a.defaultPostHeaders(r),u={};if("function"!=typeof a){if(this.rest.options.promises)return i.a.promisify(this,"publish",arguments);a=e}o.options.headers&&i.a.mixin(c,o.options.headers),o.options.pushFullWait&&i.a.mixin(u,{fullWait:"true"}),s=i.a.encodeBody(s,r),h.post(o,"/push/publish",s,c,u,!1,(function(e){a(e)}))},n.prototype.save=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=c.fromValues(t),s=i.a.defaultPostHeaders(o),u={};if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"save",arguments);n=e}a.options.headers&&i.a.mixin(s,a.options.headers),a.options.pushFullWait&&i.a.mixin(u,{fullWait:"true"}),r=i.a.encodeBody(r,o),h.put(a,"/push/deviceRegistrations/"+encodeURIComponent(t.id),r,s,u,!1,(function(e,t,a,i){n(e,!e&&c.fromResponseBody(t,!i&&o))}))},n.prototype.get=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=i.a.defaultGetHeaders(o),s=t.id||t;if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"get",arguments);n=e}"string"==typeof s&&s.length?(a.options.headers&&i.a.mixin(r,a.options.headers),h.get(a,"/push/deviceRegistrations/"+encodeURIComponent(s),r,{},!1,(function(e,t,a,i){n(e,!e&&c.fromResponseBody(t,!i&&o))}))):n(new m.a("First argument to DeviceRegistrations#get must be a deviceId string or DeviceDetails",4e4,400))},n.prototype.list=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=u.a.supportsLinkHeaders?void 0:o,s=i.a.defaultGetHeaders(o);if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"list",arguments);n=e}a.options.headers&&i.a.mixin(s,a.options.headers),new d(a,"/push/deviceRegistrations",s,r,(function(e,t,n){return c.fromResponseBody(e,!n&&o)})).get(t,n)},n.prototype.remove=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=i.a.defaultGetHeaders(o),s={},c=t.id||t;if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"remove",arguments);n=e}"string"==typeof c&&c.length?(a.options.headers&&i.a.mixin(r,a.options.headers),a.options.pushFullWait&&i.a.mixin(s,{fullWait:"true"}),h.delete(a,"/push/deviceRegistrations/"+encodeURIComponent(c),r,s,!1,(function(e){n(e)}))):n(new m.a("First argument to DeviceRegistrations#remove must be a deviceId string or DeviceDetails",4e4,400))},n.prototype.removeWhere=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=i.a.defaultGetHeaders(o);if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"removeWhere",arguments);n=e}a.options.headers&&i.a.mixin(r,a.options.headers),a.options.pushFullWait&&i.a.mixin(t,{fullWait:"true"}),h.delete(a,"/push/deviceRegistrations",r,t,!1,(function(e){n(e)}))},a.prototype.save=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=p.fromValues(t),s=i.a.defaultPostHeaders(o),c={};if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"save",arguments);n=e}a.options.headers&&i.a.mixin(s,a.options.headers),a.options.pushFullWait&&i.a.mixin(c,{fullWait:"true"}),r=i.a.encodeBody(r,o),h.post(a,"/push/channelSubscriptions",r,s,c,!1,(function(e,t,a,i){n(e,!e&&p.fromResponseBody(t,!i&&o))}))},a.prototype.list=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=u.a.supportsLinkHeaders?void 0:o,s=i.a.defaultGetHeaders(o);if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"list",arguments);n=e}a.options.headers&&i.a.mixin(s,a.options.headers),new d(a,"/push/channelSubscriptions",s,r,(function(e,t,n){return p.fromResponseBody(e,!n&&o)})).get(t,n)},a.prototype.removeWhere=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=i.a.defaultGetHeaders(o);if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"removeWhere",arguments);n=e}a.options.headers&&i.a.mixin(r,a.options.headers),a.options.pushFullWait&&i.a.mixin(t,{fullWait:"true"}),h.delete(a,"/push/channelSubscriptions",r,t,!1,(function(e){n(e)}))},a.prototype.remove=a.prototype.removeWhere,a.prototype.listChannels=function(t,n){var a=this.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=u.a.supportsLinkHeaders?void 0:o,s=i.a.defaultGetHeaders(o);if("function"!=typeof n){if(this.rest.options.promises)return i.a.promisify(this,"listChannels",arguments);n=e}a.options.headers&&i.a.mixin(s,a.options.headers),a.options.pushFullWait&&i.a.mixin(t,{fullWait:"true"}),new d(a,"/push/channels",s,r,(function(e,t,n){!n&&o&&(e=i.a.decodeBody(e,o));for(var a=0;a<e.length;a++)e[a]=String(e[a]);return e})).get(t,n)},function(e){this.rest=e,this.admin=new t(e)}}(),g=f,y=n(7),v=n(11),k=function(){function e(){}function t(e){this.channel=e,this.basePath=e.basePath+"/presence"}return i.a.inherits(t,y.a),t.prototype.get=function(t,n){if(o.a.logAction(o.a.LOG_MICRO,"Presence.get()","channel = "+this.channel.name),void 0===n)if("function"==typeof t)n=t,t=null;else{if(this.channel.rest.options.promises)return i.a.promisify(this,"get",arguments);n=e}var a=this.channel.rest,r=a.options.useBinaryProtocol?"msgpack":"json",s=u.a.supportsLinkHeaders?void 0:r,c=i.a.defaultGetHeaders(r);a.options.headers&&i.a.mixin(c,a.options.headers);var l=this.channel.channelOptions;new d(a,this.basePath,c,s,(function(e,t,n){return v.a.fromResponseBody(e,l,!n&&r)})).get(t,n)},t.prototype.history=function(e,t){o.a.logAction(o.a.LOG_MICRO,"Presence.history()","channel = "+this.channel.name),this._history(e,t)},t.prototype._history=function(t,n){if(void 0===n)if("function"==typeof t)n=t,t=null;else{if(this.channel.rest.options.promises)return i.a.promisify(this,"_history",arguments);n=e}var a=this.channel.rest,o=a.options.useBinaryProtocol?"msgpack":"json",r=u.a.supportsLinkHeaders?void 0:o,s=i.a.defaultGetHeaders(o);this.channel,a.options.headers&&i.a.mixin(s,a.options.headers);var c=this.channel.channelOptions;new d(a,this.basePath+"/history",s,r,(function(e,t,n){return v.a.fromResponseBody(e,c,!n&&o)})).get(t,n)},t}(),b=k,w=n(19),j=n(9),_=function(){function e(){}function t(e,t,n){o.a.logAction(o.a.LOG_MINOR,"Channel()","started; name = "+t),y.a.call(this),this.rest=e,this.name=t,this.basePath="/channels/"+encodeURIComponent(t),this.presence=new b(this),this.setOptions(n)}function n(e){return i.a.arrEvery(e,(function(e){return!e.id}))}return i.a.inherits(t,y.a),t.prototype.setOptions=function(e){if(this.channelOptions=e=e||{},e.cipher){if(!w.a)throw new Error("Encryption not enabled; use ably.encryption.js instead");var t=w.a.getCipher(e.cipher);e.cipher=t.cipherParams,e.channelCipher=t.cipher}else"cipher"in e&&(e.cipher=null,e.channelCipher=null)},t.prototype.history=function(t,n){if(o.a.logAction(o.a.LOG_MICRO,"Channel.history()","channel = "+this.name),void 0===n)if("function"==typeof t)n=t,t=null;else{if(this.rest.options.promises)return i.a.promisify(this,"history",arguments);n=e}this._history(t,n)},t.prototype._history=function(e,t){var n=this.rest,a=n.options.useBinaryProtocol?"msgpack":"json",o=u.a.supportsLinkHeaders?void 0:a,r=i.a.defaultGetHeaders(a);n.options.headers&&i.a.mixin(r,n.options.headers);var s=this.channelOptions;new d(n,this.basePath+"/messages",r,o,(function(e,t,n){return j.a.fromResponseBody(e,s,!n&&a)})).get(e,t)},t.prototype.publish=function(){var t,a,o=arguments.length,r=arguments[0],s=arguments[1],c=arguments[o-1],u=this;if("function"!=typeof c){if(this.rest.options.promises)return i.a.promisify(this,"publish",arguments);c=e}if("string"==typeof r||null===r)t=[j.a.fromValues({name:r,data:s})],a=arguments[2];else if(i.a.isObject(r))t=[j.a.fromValues(r)],a=arguments[1];else{if(!i.a.isArray(r))throw new m.a("The single-argument form of publish() expects a message object or an array of message objects",40013,400);t=j.a.fromValuesArray(r),a=arguments[1]}"object"==typeof a&&a||(a={});var l=this.rest,h=l.options,d=h.useBinaryProtocol?"msgpack":"json",p=l.options.idempotentRestPublishing,f=i.a.defaultPostHeaders(d);if(h.headers&&i.a.mixin(f,h.headers),p&&n(t)){var g=i.a.randomString(9);i.a.arrForEach(t,(function(e,t){e.id=g+":"+t.toString()}))}j.a.encodeArray(t,this.channelOptions,(function(e){if(e)c(e);else{var n=j.a.getMessagesSize(t),i=h.maxMessageSize;n>i?c(new m.a("Maximum size of messages that can be published at once exceeded ( was "+n+" bytes; limit is "+i+" bytes)",40009,400)):u._publish(j.a.serialize(t,d),f,a,c)}}))},t.prototype._publish=function(e,t,n,a){h.post(this.rest,this.basePath+"/messages",e,t,n,!1,a)},t}(),S=_,C=function(){function e(e){this.count=e&&e.count||0,this.data=e&&e.data||0,this.uncompressedData=e&&e.uncompressedData||0,this.failed=e&&e.failed||0,this.refused=e&&e.refused||0}function t(t){var n=this;e.call(this,t),this.category=void 0,t&&t.category&&(this.category={},i.a.forInOwnNonNullProps(t.category,(function(a){n.category[a]=new e(t.category[a])})))}function n(e){this.peak=e&&e.peak||0,this.min=e&&e.min||0,this.mean=e&&e.mean||0,this.opened=e&&e.opened||0,this.refused=e&&e.refused||0}function a(e){this.succeeded=e&&e.succeeded||0,this.failed=e&&e.failed||0,this.refused=e&&e.refused||0}function o(e){this.plain=new n(e&&e.plain),this.tls=new n(e&&e.tls),this.all=new n(e&&e.all)}function r(e){this.messages=new t(e&&e.messages),this.presence=new t(e&&e.presence),this.all=new t(e&&e.all)}function s(e){this.realtime=new r(e&&e.realtime),this.rest=new r(e&&e.rest),this.webhook=new r(e&&e.webhook),this.sharedQueue=new r(e&&e.sharedQueue),this.externalQueue=new r(e&&e.externalQueue),this.httpEvent=new r(e&&e.httpEvent),this.push=new r(e&&e.push),this.all=new r(e&&e.all)}function c(e){this.all=new r(e&&e.all),this.inbound=new s(e&&e.inbound),this.outbound=new s(e&&e.outbound)}function u(e){this.all=new r(e&&e.all),this.producerPaid=new c(e&&e.producerPaid),this.consumerPaid=new c(e&&e.consumerPaid)}function l(e){this.messages=e&&e.messages||0;var t=e&&e.notifications;this.notifications={invalid:t&&t.invalid||0,attempted:t&&t.attempted||0,successful:t&&t.successful||0,failed:t&&t.failed||0},this.directPublishes=e&&e.directPublishes||0}function h(e){this.succeeded=e&&e.succeeded||0,this.skipped=e&&e.skipped||0,this.failed=e&&e.failed||0}function d(e){var t=this;this.delta=void 0,e&&e.delta&&(this.delta={},i.a.forInOwnNonNullProps(e.delta,(function(n){t.delta[n]=new h(e.delta[n])})))}function m(e){c.call(this,e),this.persisted=new r(e&&e.persisted),this.connections=new o(e&&e.connections),this.channels=new n(e&&e.channels),this.apiRequests=new a(e&&e.apiRequests),this.tokenRequests=new a(e&&e.tokenRequests),this.xchgProducer=new u(e&&e.xchgProducer),this.xchgConsumer=new u(e&&e.xchgConsumer),this.push=new l(e&&e.pushStats),this.processed=new d(e&&e.processed),this.inProgress=e&&e.inProgress||void 0,this.unit=e&&e.unit||void 0,this.intervalId=e&&e.intervalId||void 0}return m.fromValues=function(e){return new m(e)},m}(),T=function(){var e=function(){},t=a.a.msgpack;function n(e){if(!(this instanceof n))return new n(e);if(!e){var t="no options provided";throw o.a.logAction(o.a.LOG_ERROR,"Rest()",t),new Error(t)}if((e=r.a.objectifyOptions(e)).log&&o.a.setLog(e.log.level,e.log.handler),o.a.logAction(o.a.LOG_MICRO,"Rest()","initialized with clientOptions "+i.a.inspect(e)),this.options=r.a.normaliseOptions(e),e.key){var a=e.key.match(/^([^:\s]+):([^:.\s]+)$/);if(!a)throw t="invalid key parameter",o.a.logAction(o.a.LOG_ERROR,"Rest()",t),new Error(t);e.keyName=a[1],e.keySecret=a[2]}if("clientId"in e){if("string"!=typeof e.clientId&&null!==e.clientId)throw new m.a("clientId must be either a string or null",40012,400);if("*"===e.clientId)throw new m.a('Can’t use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, use {defaultTokenParams: {clientId: "*"}})',40012,400)}o.a.logAction(o.a.LOG_MINOR,"Rest()","started; version = "+r.a.libstring),this.baseUri=this.authority=function(t){return r.a.getHttpScheme(e)+t+":"+r.a.getPort(e,!1)},this._currentFallback=null,this.serverTimeOffset=null,this.auth=new s.a(this,e),this.channels=new c(this),this.push=new g(this)}function c(e){this.rest=e,this.all={}}return n.prototype.stats=function(t,n){if(void 0===n)if("function"==typeof t)n=t,t=null;else{if(this.options.promises)return i.a.promisify(this,"stats",arguments);n=e}var a=i.a.defaultGetHeaders(),o=this.options.useBinaryProtocol?"msgpack":"json",r=u.a.supportsLinkHeaders?void 0:o;this.options.headers&&i.a.mixin(a,this.options.headers),new d(this,"/stats",a,r,(function(e,t,n){for(var a=n?e:JSON.parse(e),i=0;i<a.length;i++)a[i]=C.fromValues(a[i]);return a})).get(t,n)},n.prototype.time=function(t,n){if(void 0===n)if("function"==typeof t)n=t,t=null;else{if(this.options.promises)return i.a.promisify(this,"time",arguments);n=e}var a=i.a.defaultGetHeaders();this.options.headers&&i.a.mixin(a,this.options.headers);var o=this,r=function(e){return o.authority(e)+"/time"};u.a.get(this,r,a,t,(function(e,t,a,r){if(e)n(e);else{r||(t=JSON.parse(t));var s=t[0];if(!s)return(e=new Error("Internal error (unexpected result type from GET /time)")).statusCode=500,void n(e);o.serverTimeOffset=s-i.a.now(),n(null,s)}}))},n.prototype.request=function(n,a,o,r,s,c){var l=this.options.useBinaryProtocol,h=l?t.encode:JSON.stringify,p=l?t.decode:JSON.parse,f=l?"msgpack":"json",g=u.a.supportsLinkHeaders?void 0:f;o=o||{};var y="get"==(n=n.toLowerCase())?i.a.defaultGetHeaders(f):i.a.defaultPostHeaders(f);if(void 0===c){if(this.options.promises)return i.a.promisify(this,"request",[n,a,o,r,s]);c=e}"string"!=typeof r&&(r=h(r)),this.options.headers&&i.a.mixin(y,this.options.headers),s&&i.a.mixin(y,s);var v=new d(this,a,y,g,(function(e,t,n){return i.a.ensureArray(n?e:p(e))}),!0);if(!i.a.arrIn(u.a.methods,n))throw new m.a("Unsupported method "+n,40500,405);i.a.arrIn(u.a.methodsWithBody,n)?v[n](o,r,c):v[n](o,c)},n.prototype.setLog=function(e){o.a.setLog(e.level,e.handler)},c.prototype.get=function(e,t){e=String(e);var n=this.all[e];return n?t&&n.setOptions(t):this.all[e]=n=new S(this.rest,e,t),n},c.prototype.release=function(e){delete this.all[String(e)]},n}();T.Promise=function(e){return(e=r.a.objectifyOptions(e)).promises=!0,new T(e)},T.Callbacks=T;var R=T,O=n(25),E=n(21),I=function(){function e(){}function t(e,t){y.a.call(this),this.ably=e,this.connectionManager=new O.a(e,t),this.state=this.connectionManager.state.state,this.key=void 0,this.id=void 0,this.serial=void 0,this.timeSerial=void 0,this.recoveryKey=void 0,this.errorReason=null;var n=this;this.connectionManager.on("connectionstate",(function(e){var t=n.state=e.current;i.a.nextTick((function(){n.emit(t,e)}))})),this.connectionManager.on("update",(function(e){i.a.nextTick((function(){n.emit("update",e)}))}))}return i.a.inherits(t,y.a),t.prototype.whenState=function(e,t){return y.a.prototype.whenState.call(this,e,this.state,t,new E.a(void 0,e))},t.prototype.connect=function(){o.a.logAction(o.a.LOG_MINOR,"Connection.connect()",""),this.connectionManager.requestState({state:"connecting"})},t.prototype.ping=function(t){if(o.a.logAction(o.a.LOG_MINOR,"Connection.ping()",""),!t){if(this.ably.options.promises)return i.a.promisify(this,"ping",arguments);t=e}this.connectionManager.ping(null,t)},t.prototype.close=function(){o.a.logAction(o.a.LOG_MINOR,"Connection.close()","connectionKey = "+this.key),this.connectionManager.requestState({state:"closing"})},t}(),M=I,x=n(8),A=n(13),P=n(22),z=function(e,t,n,a){this.previous=e,this.current=t,"attached"===t&&(this.resumed=n),a&&(this.reason=a)},L=function(){var e=function(){};function t(e){return e.clientId+":"+e.connectionId}function n(e){var t=e.channel.realtime,n=t.auth.clientId;return(!n||"*"===n)&&"connected"===t.connection.state}function a(e,t,n){switch(e.state){case"attached":case"suspended":n();break;case"initialized":case"detached":case"detaching":case"attaching":e.attach((function(e){e?t(e):n()}));break;default:t(m.a.fromValues(U.invalidStateError(e.state)))}}function r(e,t){b.call(this,e),this.syncComplete=!1,this.members=new s(this),this._myMembers=new s(this),this.subscriptions=new y.a,this.pendingPresence=[]}function s(e){y.a.call(this),this.presence=e,this.map={},this.syncInProgress=!1,this.residualMembers=null}function c(e,t){if(e.isSynthesized()||t.isSynthesized())return e.timestamp>t.timestamp;var n=e.parseId(),a=t.parseId();return n.msgSerial===a.msgSerial?n.index>a.index:n.msgSerial>a.msgSerial}return i.a.inherits(r,b),r.prototype.enter=function(e,t){if(n(this))throw new m.a("clientId must be specified to enter a presence channel",40012,400);return this._enterOrUpdateClient(void 0,e,"enter",t)},r.prototype.update=function(e,t){if(n(this))throw new m.a("clientId must be specified to update presence data",40012,400);return this._enterOrUpdateClient(void 0,e,"update",t)},r.prototype.enterClient=function(e,t,n){return this._enterOrUpdateClient(e,t,"enter",n)},r.prototype.updateClient=function(e,t,n){return this._enterOrUpdateClient(e,t,"update",n)},r.prototype._enterOrUpdateClient=function(t,n,a,r){if(!r)if("function"==typeof n)r=n,n=null;else{if(this.channel.realtime.options.promises)return i.a.promisify(this,"_enterOrUpdateClient",[t,n,a]);r=e}var s=this.channel;if(s.connectionManager.activeState()){o.a.logAction(o.a.LOG_MICRO,"RealtimePresence."+a+"Client()","channel = "+s.name+", client = "+(t||"(implicit) "+this.channel.realtime.auth.clientId));var c=v.a.fromValues({action:a,data:n});t&&(c.clientId=t);var u=this;v.a.encode(c,s.channelOptions,(function(e){if(e)r(e);else switch(s.state){case"attached":s.sendPresence(c,r);break;case"initialized":case"detached":s.attach();case"attaching":u.pendingPresence.push({presence:c,callback:r});break;default:(e=new m.a("Unable to "+a+" presence channel while in "+s.state+" state",90001)).code=90001,r(e)}}))}else r(s.connectionManager.getError())},r.prototype.leave=function(e,t){if(n(this))throw new m.a("clientId must have been specified to enter or leave a presence channel",40012,400);return this.leaveClient(void 0,e,t)},r.prototype.leaveClient=function(t,n,a){if(!a)if("function"==typeof n)a=n,n=null;else{if(this.channel.realtime.options.promises)return i.a.promisify(this,"leaveClient",[t,n]);a=e}var r=this.channel;if(r.connectionManager.activeState()){o.a.logAction(o.a.LOG_MICRO,"RealtimePresence.leaveClient()","leaving; channel = "+this.channel.name+", client = "+t);var s=v.a.fromValues({action:"leave",data:n});switch(t&&(s.clientId=t),r.state){case"attached":r.sendPresence(s,a);break;case"attaching":this.pendingPresence.push({presence:s,callback:a});break;case"initialized":case"failed":a(new m.a("Unable to leave presence channel (incompatible state)",90001));break;default:a(A.a.failed)}}else a(r.connectionManager.getError())},r.prototype.get=function(){var t=Array.prototype.slice.call(arguments);1==t.length&&"function"==typeof t[0]&&t.unshift(null);var n=t[0],o=t[1],r=!n||!("waitForSync"in n)||n.waitForSync;if(!o){if(this.channel.realtime.options.promises)return i.a.promisify(this,"get",t);o=e}function s(e){o(null,n?e.list(n):e.values())}if("suspended"!==this.channel.state){var c=this;a(this.channel,o,(function(){var e=c.members;r?e.waitSync((function(){s(e)})):s(e)}))}else r?o(m.a.fromValues({statusCode:400,code:91005,message:"Presence state is out of sync due to channel being in the SUSPENDED state"})):s(this.members)},r.prototype.history=function(t,n){if(o.a.logAction(o.a.LOG_MICRO,"RealtimePresence.history()","channel = "+this.name),void 0===n)if("function"==typeof t)n=t,t=null;else{if(this.channel.realtime.options.promises)return i.a.promisify(this,"history",arguments);n=e}t&&t.untilAttach&&("attached"===this.channel.state?(delete t.untilAttach,t.from_serial=this.channel.properties.attachSerial):n(new m.a("option untilAttach requires the channel to be attached, was: "+this.channel.state,4e4,400))),b.prototype._history.call(this,t,n)},r.prototype.setPresence=function(e,t,n){o.a.logAction(o.a.LOG_MICRO,"RealtimePresence.setPresence()","received presence for "+e.length+" participants; syncChannelSerial = "+n);var a,i,r=this.members,s=this._myMembers,c=[],u=this.channel.connectionManager.connectionId;t&&(this.members.startSync(),n&&(i=n.match(/^[\w\-]+:(.*)$/))&&(a=i[1]));for(var l=0;l<e.length;l++)switch((h=v.a.fromValues(e[l])).action){case"leave":r.remove(h)&&c.push(h),h.connectionId!==u||h.isSynthesized()||s.remove(h);break;case"enter":case"present":case"update":r.put(h)&&c.push(h),h.connectionId===u&&s.put(h)}for(t&&!a&&(r.endSync(),this._ensureMyMembersPresent(),this.channel.setInProgress(U.progressOps.sync,!1),this.channel.syncChannelSerial=null),l=0;l<c.length;l++){var h=c[l];this.subscriptions.emit(h.action,h)}},r.prototype.onAttached=function(e){o.a.logAction(o.a.LOG_MINOR,"RealtimePresence.onAttached()","channel = "+this.channel.name+", hasPresence = "+e),e?this.members.startSync():(this._synthesizeLeaves(this.members.values()),this.members.clear(),this._ensureMyMembersPresent());var t=this.pendingPresence,n=t.length;if(n){this.pendingPresence=[];var a=[],i=Object(P.a)();o.a.logAction(o.a.LOG_MICRO,"RealtimePresence.onAttached","sending "+n+" queued presence messages");for(var r=0;r<n;r++){var s=t[r];a.push(s.presence),i.push(s.callback)}this.channel.sendPresence(a,i)}},r.prototype.actOnChannelState=function(e,t,n){switch(e){case"attached":this.onAttached(t);break;case"detached":case"failed":this._clearMyMembers(),this.members.clear();case"suspended":this.failPendingPresence(n)}},r.prototype.failPendingPresence=function(e){if(this.pendingPresence.length){o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel.failPendingPresence","channel; name = "+this.channel.name+", err = "+i.a.inspectError(e));for(var t=0;t<this.pendingPresence.length;t++)try{this.pendingPresence[t].callback(e)}catch(e){}this.pendingPresence=[]}},r.prototype._clearMyMembers=function(){this._myMembers.clear()},r.prototype._ensureMyMembersPresent=function(){var e=this,t=this.members,n=this._myMembers,a=function(t){if(t){var n="Presence auto-re-enter failed: "+t.toString(),a=new m.a(n,91004,400);o.a.logAction(o.a.LOG_ERROR,"RealtimePresence._ensureMyMembersPresent()",n);var i=new z(e.channel.state,e.channel.state,!0,a);e.channel.emit("update",i)}};for(var i in n.map)if(!(i in t.map)){var r=n.map[i];o.a.logAction(o.a.LOG_MICRO,"RealtimePresence._ensureMyMembersPresent()",'Auto-reentering clientId "'+r.clientId+'" into the presence set'),this._enterOrUpdateClient(r.clientId,r.data,"enter",a),delete n.map[i]}},r.prototype._synthesizeLeaves=function(e){var t=this.subscriptions;i.a.arrForEach(e,(function(e){var n=v.a.fromValues({action:"leave",connectionId:e.connectionId,clientId:e.clientId,data:e.data,encoding:e.encoding,timestamp:i.a.now()});t.emit("leave",n)}))},r.prototype.on=function(){o.a.deprecated("presence.on","presence.subscribe"),this.subscribe.apply(this,arguments)},r.prototype.off=function(){o.a.deprecated("presence.off","presence.unsubscribe"),this.unsubscribe.apply(this,arguments)},r.prototype.subscribe=function(){var t=U.processListenerArgs(arguments),n=t[0],a=t[1],o=t[2],r=this.channel;if(!o){if(this.channel.realtime.options.promises)return i.a.promisify(this,"subscribe",[n,a]);o=e}"failed"!==r.state?(this.subscriptions.on(n,a),r.attach(o)):o(m.a.fromValues(U.invalidStateError("failed")))},r.prototype.unsubscribe=function(){var e=U.processListenerArgs(arguments),t=e[0],n=e[1];this.subscriptions.off(t,n)},i.a.inherits(s,y.a),s.prototype.get=function(e){return this.map[e]},s.prototype.getClient=function(e){var t=this.map,n=[];for(var a in t){var i=t[a];i.clientId==e&&"absent"!=i.action&&n.push(i)}return n},s.prototype.list=function(e){var t=this.map,n=e&&e.clientId,a=e&&e.connectionId,i=[];for(var o in t){var r=t[o];"absent"!==r.action&&(n&&n!=r.clientId||a&&a!=r.connectionId||i.push(r))}return i},s.prototype.put=function(e){"enter"!==e.action&&"update"!==e.action||((e=v.a.fromValues(e)).action="present");var n=this.map,a=t(e);this.residualMembers&&delete this.residualMembers[a];var i=n[a];return!(i&&!c(e,i)||(n[a]=e,0))},s.prototype.values=function(){var e=this.map,t=[];for(var n in e){var a=e[n];"absent"!=a.action&&t.push(a)}return t},s.prototype.remove=function(e){var n=this.map,a=t(e),i=n[a];return!(i&&!c(e,i)||(this.syncInProgress?((e=v.a.fromValues(e)).action="absent",n[a]=e):delete n[a],0))},s.prototype.startSync=function(){var e=this.map,t=this.syncInProgress;o.a.logAction(o.a.LOG_MINOR,"PresenceMap.startSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+t),this.syncInProgress||(this.residualMembers=i.a.copy(e),this.setInProgress(!0))},s.prototype.endSync=function(){var e=this.map,t=this.syncInProgress;if(o.a.logAction(o.a.LOG_MINOR,"PresenceMap.endSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+t),t){for(var n in e)"absent"===e[n].action&&delete e[n];for(var n in this.presence._synthesizeLeaves(i.a.valuesArray(this.residualMembers)),this.residualMembers)delete e[n];this.residualMembers=null,this.setInProgress(!1)}this.emit("sync")},s.prototype.waitSync=function(e){var t=this.syncInProgress;o.a.logAction(o.a.LOG_MINOR,"PresenceMap.waitSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+t),t?this.once("sync",e):e()},s.prototype.clear=function(e){this.map={},this.setInProgress(!1),this.residualMembers=null},s.prototype.setInProgress=function(e){o.a.logAction(o.a.LOG_MICRO,"PresenceMap.setInProgress()","inProgress = "+e),this.syncInProgress=e,this.presence.syncComplete=!e},r}(),D=L,N=function(){var e=x.a.Action,t=function(){},n="statechange",a="sync";function r(e,t,n){o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel()","started; name = "+t),S.call(this,e,t,n),this.realtime=e,this.presence=new D(this,e.options),this.connectionManager=e.connection.connectionManager,this.state="initialized",this.subscriptions=new y.a,this.syncChannelSerial=void 0,this.properties={attachSerial:void 0},this.setOptions(n),this.errorReason=null,this._requestedFlags=null,this._mode=null,this._attachedMsgIndicator=!1,this._attachResume=!1,this._decodingContext={channelOptions:this.channelOptions,plugins:e.options.plugins||{},baseEncodedPreviousPayload:void 0},this._lastPayload={messageId:null,protocolMessageChannelSerial:null,decodeFailureRecoveryInProgress:null},this._allChannelChanges=new y.a}function s(e){if(e&&"params"in e&&!i.a.isObject(e.params))return new m.a("options.params must be an object",4e4,400);if(e&&"modes"in e){if(!i.a.isArray(e.modes))return new m.a("options.modes must be an array",4e4,400);for(var t=0;t<e.modes.length;t++){var n=e.modes[t];if(!n||"string"!=typeof n||!i.a.arrIn(x.a.channelModes,String.prototype.toUpperCase.call(n)))return new m.a("Invalid channel mode: "+n,4e4,400)}}}return i.a.inherits(r,S),r.invalidStateError=function(e){return{statusCode:400,code:90001,message:"Channel operation failed as channel state is "+e}},r.progressOps={statechange:n,sync:a},r.processListenerArgs=function(e){return"function"==typeof(e=Array.prototype.slice.call(e))[0]&&e.unshift(null),null==e[e.length-1]&&e.pop(),e},r.prototype.setOptions=function(e,t){if(!t){if(this.rest.options.promises)return i.a.promisify(this,"setOptions",arguments);t=function(e){e&&o.a.logAction(o.a.LOG_ERROR,"RealtimeChannel.setOptions()","Set options failed: "+e.toString())}}var n=s(e);n?t(n):(S.prototype.setOptions.call(this,e),this._decodingContext&&(this._decodingContext.channelOptions=this.channelOptions),this._shouldReattachToSetOptions(e)?(this.attachImpl(),this._allChannelChanges.once((function(e){switch(this.event){case"update":case"attached":return void t(null);default:return void t(e.reason)}}))):t())},r.prototype._shouldReattachToSetOptions=function(e){return("attached"===this.state||"attaching"===this.state)&&(e.params||e.modes)},r.prototype.publish=function(){var e=arguments.length,n=arguments[0],a=arguments[e-1];if("function"!=typeof a){if(this.realtime.options.promises)return i.a.promisify(this,"publish",arguments);a=t,++e}if(this.connectionManager.activeState()){if(2==e)if(i.a.isObject(n))n=[j.a.fromValues(n)];else{if(!i.a.isArray(n))throw new m.a("The single-argument form of publish() expects a message object or an array of message objects",40013,400);n=j.a.fromValuesArray(n)}else n=[j.a.fromValues({name:arguments[0],data:arguments[1]})];var o=this,r=this.realtime.options.maxMessageSize;j.a.encodeArray(n,this.channelOptions,(function(e){if(e)a(e);else{var t=j.a.getMessagesSize(n);t>r?a(new m.a("Maximum size of messages that can be published at once exceeded ( was "+t+" bytes; limit is "+r+" bytes)",40009,400)):o._publish(n,a)}}))}else a(this.connectionManager.getError())},r.prototype._publish=function(t,n){o.a.logAction(o.a.LOG_MICRO,"RealtimeChannel.publish()","message count = "+t.length);var a=this.state;switch(a){case"failed":case"suspended":n(m.a.fromValues(r.invalidStateError(a)));break;default:o.a.logAction(o.a.LOG_MICRO,"RealtimeChannel.publish()","sending message; channel state is "+a);var i=new x.a;i.action=e.MESSAGE,i.channel=this.name,i.messages=t,this.sendMessage(i,n)}},r.prototype.onEvent=function(e){o.a.logAction(o.a.LOG_MICRO,"RealtimeChannel.onEvent()","received message");for(var t=this.subscriptions,n=0;n<e.length;n++){var a=e[n];t.emit(a.name,a)}},r.prototype.attach=function(e,t){if("function"==typeof e&&(t=e,e=null),!t){if(this.realtime.options.promises)return i.a.promisify(this,"attach",arguments);t=function(e){e&&o.a.logAction(o.a.LOG_MAJOR,"RealtimeChannel.attach()","Channel attach failed: "+e.toString())}}if(e)o.a.deprecated("channel.attach() with flags","channel.setOptions() with channelOptions.params"),this._requestedFlags=e;else if("attached"===this.state)return void t();this._attach(!1,null,t)},r.prototype._attach=function(e,t,n){n||(n=function(e){e&&o.a.logAction(o.a.LOG_ERROR,"RealtimeChannel._attach()","Channel attach failed: "+e.toString())});var a=this.connectionManager;a.activeState()?(("attaching"!==this.state||e)&&this.requestState("attaching",t),this.once((function(e){switch(this.event){case"attached":n();break;case"detached":case"suspended":case"failed":n(e.reason||a.getError()||new m.a("Unable to attach; reason unknown; state = "+this.event,9e4,500));break;case"detaching":n(new m.a("Attach request superseded by a subsequent detach request",9e4,409))}}))):n(a.getError())},r.prototype.attachImpl=function(){o.a.logAction(o.a.LOG_MICRO,"RealtimeChannel.attachImpl()","sending ATTACH message"),this.setInProgress(n,!0);var a=x.a.fromValues({action:e.ATTACH,channel:this.name,params:this.channelOptions.params});this._requestedFlags?a.encodeModesToFlags(this._requestedFlags):this.channelOptions.modes&&a.encodeModesToFlags(i.a.allToUpperCase(this.channelOptions.modes)),this._attachResume&&a.setFlag("ATTACH_RESUME"),this._lastPayload.decodeFailureRecoveryInProgress&&(a.channelSerial=this._lastPayload.protocolMessageChannelSerial),this.sendMessage(a,t)},r.prototype.detach=function(e){if(!e){if(this.realtime.options.promises)return i.a.promisify(this,"detach",arguments);e=t}var n=this.connectionManager;if(n.activeState())switch(this.state){case"detached":case"failed":e();break;default:this.requestState("detaching");case"detaching":this.once((function(t){switch(this.event){case"detached":e();break;case"attached":case"suspended":case"failed":e(t.reason||n.getError()||new m.a("Unable to detach; reason unknown; state = "+this.event,9e4,500));break;case"attaching":e(new m.a("Detach request superseded by a subsequent attach request",9e4,409))}}))}else e(n.getError())},r.prototype.detachImpl=function(a){o.a.logAction(o.a.LOG_MICRO,"RealtimeChannel.detach()","sending DETACH message"),this.setInProgress(n,!0);var i=x.a.fromValues({action:e.DETACH,channel:this.name});this.sendMessage(i,a||t)},r.prototype.subscribe=function(){var e=r.processListenerArgs(arguments),n=e[0],a=e[1],o=e[2];if(!o){if(this.realtime.options.promises)return i.a.promisify(this,"subscribe",[n,a]);o=t}if("failed"!==this.state)return this.subscriptions.on(n,a),this.attach(o);o(m.a.fromValues(r.invalidStateError("failed")))},r.prototype.unsubscribe=function(){var e=r.processListenerArgs(arguments),t=e[0],n=e[1];this.subscriptions.off(t,n)},r.prototype.sync=function(){switch(this.state){case"initialized":case"detaching":case"detached":throw new m.a("Unable to sync to channel; not attached",4e4)}var t=this.connectionManager;if(!t.activeState())throw t.getError();var n=x.a.fromValues({action:e.SYNC,channel:this.name});this.syncChannelSerial&&(n.channelSerial=this.syncChannelSerial),t.send(n)},r.prototype.sendMessage=function(e,t){this.connectionManager.send(e,this.realtime.options.queueMessages,t)},r.prototype.sendPresence=function(t,n){var a=x.a.fromValues({action:e.PRESENCE,channel:this.name,presence:i.a.isArray(t)?v.a.fromValuesArray(t):[v.a.fromValues(t)]});this.sendMessage(a,n)},r.prototype.onMessage=function(t){var a,r=!1;switch(t.action){case e.ATTACHED:this._attachedMsgIndicator=!0,this.properties.attachSerial=t.channelSerial,this._mode=t.getMode(),this.params=t.params||{};var s=t.decodeModesFromFlags();this.modes=s&&i.a.allToLowerCase(s)||void 0;var c=t.hasFlag("RESUMED"),u=t.hasFlag("HAS_PRESENCE");if("attached"===this.state){this.setInProgress(n,!1),c||this.presence.onAttached(u);var l=new z(this.state,this.state,c,t.error);this._allChannelChanges.emit("update",l),c&&!this.channelOptions.updateOnAttached||this.emit("update",l)}else"detaching"===this.state?this.checkPendingState():this.notifyState("attached",t.error,c,u);break;case e.DETACHED:var h=t.error?m.a.fromValues(t.error):new m.a("Channel detached",90001,404);"detaching"===this.state?this.notifyState("detached",h):"attaching"===this.state?this.notifyState("suspended",h):this.requestState("attaching",h);break;case e.SYNC:if(r=!0,a=this.syncChannelSerial=t.channelSerial,!t.presence)break;case e.PRESENCE:for(var d=t.presence,p=t.id,f=t.connectionId,g=t.timestamp,y=this.channelOptions,k=0;k<d.length;k++){try{var b=d[k];v.a.decode(b,y)}catch(e){o.a.logAction(o.a.LOG_ERROR,"RealtimeChannel.onMessage()",e.toString())}b.connectionId||(b.connectionId=f),b.timestamp||(b.timestamp=g),b.id||(b.id=p+":"+k)}this.presence.setPresence(d,r,a);break;case e.MESSAGE:if("attached"!==this.state)return void o.a.logAction(o.a.LOG_MAJOR,"RealtimeChannel.onMessage()",'Message "'+t.id+'" skipped as this channel "'+this.name+'" state is not "attached" (state is "'+this.state+'").');var w=t.messages,_=w[0],S=w[w.length-1];if(p=t.id,f=t.connectionId,g=t.timestamp,_.extras&&_.extras.delta&&_.extras.delta.from!==this._lastPayload.messageId){var C='Delta message decode failure - previous message not available for message "'+t.id+'" on this channel "'+this.name+'".';o.a.logAction(o.a.LOG_ERROR,"RealtimeChannel.onMessage()",C),this._startDecodeFailureRecovery(new m.a(C,40018,400));break}for(k=0;k<w.length;k++){C=w[k];try{j.a.decode(C,this._decodingContext)}catch(e){switch(o.a.logAction(o.a.LOG_ERROR,"RealtimeChannel.onMessage()",e.toString()),e.code){case 40018:return void this._startDecodeFailureRecovery(e);case 40019:case 40021:return void this.notifyState("failed",e)}}C.connectionId||(C.connectionId=f),C.timestamp||(C.timestamp=g),C.id||(C.id=p+":"+k)}this._lastPayload.messageId=S.id,this._lastPayload.protocolMessageChannelSerial=t.channelSerial,this.onEvent(w);break;case e.ERROR:(h=t.error)&&80016==h.code?this.checkPendingState():this.notifyState("failed",m.a.fromValues(h));break;default:o.a.logAction(o.a.LOG_ERROR,"RealtimeChannel.onMessage()","Fatal protocol error: unrecognised action ("+t.action+")"),this.connectionManager.abort(A.a.unknownChannelErr)}},r.prototype._startDecodeFailureRecovery=function(e){var t=this;this._lastPayload.decodeFailureRecoveryInProgress||(o.a.logAction(o.a.LOG_MAJOR,"RealtimeChannel.onMessage()","Starting decode failure recovery process."),this._lastPayload.decodeFailureRecoveryInProgress=!0,this._attach(!0,e,(function(){t._lastPayload.decodeFailureRecoveryInProgress=!1})))},r.prototype.onAttached=function(){o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel.onAttached","activating channel; name = "+this.name)},r.prototype.notifyState=function(e,t,i,r){if(o.a.logAction(o.a.LOG_MICRO,"RealtimeChannel.notifyState","name = "+this.name+", current state = "+this.state+", notifying state "+e),this.clearStateTimer(),e!==this.state){this.presence.actOnChannelState(e,r,t),"suspended"===e&&this.connectionManager.state.sendEvents?this.startRetryTimer():this.cancelRetryTimer(),t&&(this.errorReason=t);var s=new z(this.state,e,i,t),c="failed"===e?o.a.LOG_ERROR:o.a.LOG_MAJOR;o.a.logAction(c,'Channel state for channel "'+this.name+'"',e+(t?"; reason: "+t:"")),"attached"===e?(this.onAttached(),this.setInProgress(a,r),this.setInProgress(n,!1)):"detached"!==e&&"failed"!==e&&"suspended"!==e||(this.setInProgress(n,!1),this.setInProgress(a,!1)),"attached"===e?this._attachResume=!0:"detaching"!==e&&"failed"!==e||(this._attachResume=!1),this.state=e,this._allChannelChanges.emit(e,s),this.emit(e,s)}},r.prototype.requestState=function(e,t){o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel.requestState","name = "+this.name+", state = "+e),this.notifyState(e,t),this.checkPendingState()},r.prototype.checkPendingState=function(){var e=this.connectionManager.state;if(e.sendEvents||e.forceQueueEvents)switch(o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel.checkPendingState","name = "+this.name+", state = "+this.state),this.state){case"attaching":this.startStateTimerIfNotRunning(),this.attachImpl();break;case"detaching":this.startStateTimerIfNotRunning(),this.detachImpl();break;case"attached":this.sync()}else o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel.checkPendingState","sendEvents is false; state is "+this.connectionManager.state.state)},r.prototype.timeoutPendingState=function(){switch(this.state){case"attaching":var e=new m.a("Channel attach timed out",90007,408);this.notifyState("suspended",e);break;case"detaching":e=new m.a("Channel detach timed out",90007,408),this.notifyState("attached",e);break;default:this.checkPendingState()}},r.prototype.startStateTimerIfNotRunning=function(){var e=this;this.stateTimer||(this.stateTimer=setTimeout((function(){o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel.startStateTimerIfNotRunning","timer expired"),e.stateTimer=null,e.timeoutPendingState()}),this.realtime.options.timeouts.realtimeRequestTimeout))},r.prototype.clearStateTimer=function(){var e=this.stateTimer;e&&(clearTimeout(e),this.stateTimer=null)},r.prototype.startRetryTimer=function(){var e=this;this.retryTimer||(this.retryTimer=setTimeout((function(){"suspended"===e.state&&e.connectionManager.state.sendEvents&&(e.retryTimer=null,o.a.logAction(o.a.LOG_MINOR,"RealtimeChannel retry timer expired","attempting a new attach"),e.requestState("attaching"))}),this.realtime.options.timeouts.channelRetryTimeout))},r.prototype.cancelRetryTimer=function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.suspendTimer=null)},r.prototype.setInProgress=function(e,t){this.rest.channels.setInProgress(this,e,t)},r.prototype.history=function(e,n){if(o.a.logAction(o.a.LOG_MICRO,"RealtimeChannel.history()","channel = "+this.name),void 0===n)if("function"==typeof e)n=e,e=null;else{if(this.rest.options.promises)return i.a.promisify(this,"history",arguments);n=t}if(e&&e.untilAttach){if("attached"!==this.state)return void n(new m.a("option untilAttach requires the channel to be attached",4e4,400));if(!this.properties.attachSerial)return void n(new m.a("untilAttach was specified and channel is attached, but attachSerial is not defined",4e4,400));delete e.untilAttach,e.from_serial=this.properties.attachSerial}S.prototype._history.call(this,e,n)},r.prototype.whenState=function(e,t){return y.a.prototype.whenState.call(this,e,this.state,t)},r.prototype.getReleaseErr=function(){var e=this.state;return"initialized"===e||"detached"===e||"failed"===e?null:new m.a("Can only release a channel in a state where there is no possibility of further updates from the server being received (initialized, detached, or failed); was "+e,90001,400)},r}(),U=N,q=n(23),G=function(){function e(n){if(!(this instanceof e))return new e(n);o.a.logAction(o.a.LOG_MINOR,"Realtime()",""),R.call(this,n),this.connection=new M(this,this.options),this.channels=new t(this),!1!==n.autoConnect&&this.connect()}function t(e){y.a.call(this),this.realtime=e,this.all={},this.inProgress={};var t=this;e.connection.connectionManager.on("transport.active",(function(){t.onTransportActive()}))}return i.a.inherits(e,R),e.prototype.connect=function(){o.a.logAction(o.a.LOG_MINOR,"Realtime.connect()",""),this.connection.connect()},e.prototype.close=function(){o.a.logAction(o.a.LOG_MINOR,"Realtime.close()",""),this.connection.close()},i.a.inherits(t,y.a),t.prototype.onChannelMessage=function(e){var t=e.channel;if(void 0!==t){var n=this.all[t];n?n.onMessage(e):o.a.logAction(o.a.LOG_ERROR,"Channels.onChannelMessage()","received event for non-existent channel: "+t)}else o.a.logAction(o.a.LOG_ERROR,"Channels.onChannelMessage()","received event unspecified channel, action = "+e.action)},t.prototype.onTransportActive=function(){for(var e in this.all){var t=this.all[e];"attaching"===t.state||"detaching"===t.state?t.checkPendingState():"suspended"===t.state&&t.attach()}},t.prototype.reattach=function(e){for(var t in this.all){var n=this.all[t];"attached"===n.state&&n.requestState("attaching",e)}},t.prototype.resetAttachedMsgIndicators=function(){for(var e in this.all){var t=this.all[e];"attached"===t.state&&(t._attachedMsgIndicator=!1)}},t.prototype.checkAttachedMsgIndicators=function(e){for(var t in this.all){var n=this.all[t];if("attached"===n.state&&!1===n._attachedMsgIndicator){var a="30s after a resume, found channel which has not received an attached; channelId = "+t+"; connectionId = "+e;o.a.logAction(o.a.LOG_ERROR,"Channels.checkAttachedMsgIndicators()",a),q.a.report("error",a,"channel-no-attached-after-resume"),n.requestState("attaching")}}},t.prototype.propogateConnectionInterruption=function(e,t){var n=["attaching","attached","detaching","suspended"],a={closing:"detached",closed:"detached",failed:"failed",suspended:"suspended"}[e];for(var o in this.all){var r=this.all[o];i.a.arrIn(n,r.state)&&r.notifyState(a,t)}},t.prototype.get=function(e,t){e=String(e);var n=this.all[e];if(n){if(t){if(n._shouldReattachToSetOptions(t))throw new m.a("Channels.get() cannot be used to set channel options that would cause the channel to reattach. Please, use RealtimeChannel.setOptions() instead.",4e4,400);n.setOptions(t)}}else n=this.all[e]=new U(this.realtime,e,t);return n},t.prototype.release=function(e){e=String(e);var t=this.all[e];if(t){var n=t.getReleaseErr();if(n)throw n;delete this.all[e],delete this.inProgress[e]}},t.prototype.setInProgress=function(e,t,n){this.inProgress[e.name]=this.inProgress[e.name]||{},this.inProgress[e.name][t]=n,!n&&this.hasNopending()&&this.emit("nopending")},t.prototype.onceNopending=function(e){this.hasNopending()?e():this.once("nopending",e)},t.prototype.hasNopending=function(){return i.a.arrEvery(i.a.valuesArray(this.inProgress,!0),(function(e){return!i.a.containsValue(e,!0)}))},e}();G.Promise=function(e){return(e=r.a.objectifyOptions(e)).promises=!0,new G(e)},G.Callbacks=G;var F=G,V=n(24);R.Utils=i.a,R.BufferUtils=l.a,R.Crypto=w.a,R.Defaults=r.a,R.Http=u.a,R.Resource=h,R.Message=j.a,R.PresenceMessage=v.a,F.Utils=i.a,F.BufferUtils=l.a,F.Crypto=w.a,F.Defaults=r.a,F.Http=u.a,F.Message=j.a,F.PresenceMessage=v.a,F.ProtocolMessage=x.a,F.ConnectionManager=O.a,t.default={Rest:R,Realtime:F,msgpack:V.a}}]).default},e.exports=t()},"./node_modules/ably/promises.js":(e,t,n)=>{"use strict";function a(e){return"string"==typeof e&&(e=-1==e.indexOf(":")?{token:e}:{key:e}),e.promises=!0,e}var i=n("./node_modules/ably/browser/static/ably-commonjs.js"),o=function(e){return new i.Rest(a(e))};Object.assign(o,i.Rest);var r=function(e){return new i.Realtime(a(e))};Object.assign(r,i.Realtime),e.exports={Rest:o,Realtime:r}},"./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js":(e,t,n)=>{"use strict";var a=n("./node_modules/sdp/sdp.js");function i(e,t,n,i,o){var r=a.writeRtpDescription(e.kind,t);if(r+=a.writeIceParameters(e.iceGatherer.getLocalParameters()),r+=a.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),r+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?r+="a=sendrecv\r\n":e.rtpSender?r+="a=sendonly\r\n":e.rtpReceiver?r+="a=recvonly\r\n":r+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";r+="a="+c,r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,r+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+a.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+a.localCName+"\r\n"),r}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},a=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=a(e.parameters.apt,n),r=a(t.parameters.apt,i);return o&&r&&o.name.toLowerCase()===r.name.toLowerCase()};return e.codecs.forEach((function(a){for(var o=0;o<t.codecs.length;o++){var r=t.codecs[o];if(a.name.toLowerCase()===r.name.toLowerCase()&&a.clockRate===r.clockRate){if("rtx"===a.name.toLowerCase()&&a.parameters&&r.parameters.apt&&!i(a,r,e.codecs,t.codecs))continue;(r=JSON.parse(JSON.stringify(r))).numChannels=Math.min(a.numChannels,r.numChannels),n.codecs.push(r),r.rtcpFeedback=r.rtcpFeedback.filter((function(e){for(var t=0;t<a.rtcpFeedback.length;t++)if(a.rtcpFeedback[t].type===e.type&&a.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var a=0;a<t.headerExtensions.length;a++){var i=t.headerExtensions[a];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function r(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,a,i){var o=new Event("track");o.track=n,o.receiver=a,o.transceiver={receiver:a},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var l=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var a=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof a;return i&&(a=[a]),a=a.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?a[0]:a,!!a.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var r=n.iceCandidatePoolSize;r>0;r--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=a.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,a={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)a.iceTransport=this.transceivers[0].iceTransport,a.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();a.iceTransport=i.iceTransport,a.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(a),a},l.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var a;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(a=this.transceivers[i]);return a||(a=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),a.track=t,a.stream=n,a.rtpSender=new e.RTCRtpSender(t,a.dtlsTransport),a.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var a=e.clone();e.getTracks().forEach((function(e,t){var n=a.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),a.getTracks().forEach((function(e){n.addTrack(e,a)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var a=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(a)&&this.localStreams.indexOf(a)>-1&&this.localStreams.splice(this.localStreams.indexOf(a),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var a=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==a.transceivers[t].bufferedCandidateEvents&&a.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var r=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var r=new Event("icecandidate");r.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=a.writeCandidate(s);r.candidate=Object.assign(r.candidate,a.parseCandidate(u)),r.candidate.candidate=u,r.candidate.toJSON=function(){return{candidate:r.candidate.candidate,sdpMid:r.candidate.sdpMid,sdpMLineIndex:r.candidate.sdpMLineIndex,usernameFragment:r.candidate.usernameFragment}}}var l=a.getMediaSections(i._localDescription.sdp);l[r.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+r.candidate.candidate+"\r\n",i._localDescription.sdp=a.getDescription(i._localDescription.sdp)+l.join("");var h=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",r),h&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){r.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var a=new e.RTCDtlsTransport(n);return a.ondtlsstatechange=function(){t._updateConnectionState()},a.onerror=function(){Object.defineProperty(a,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:a}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var a=this.transceivers[e].dtlsTransport;a&&(delete a.ondtlsstatechange,delete a.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,i){var r=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(r.encodings=e.sendEncodingParameters,r.rtcp={cname:a.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(r.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(r)),i&&e.rtpReceiver&&r.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?r.encodings=e.recvEncodingParameters:r.encodings=[{}],r.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(r.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(r.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(r))},l.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!r("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=a.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=a.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=a.splitSections(i._remoteDescription.sdp),n=t.shift();var s=a.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var r=i.transceivers[t],c=r.iceGatherer,u=r.iceTransport,l=r.dtlsTransport,h=r.localCapabilities,d=r.remoteCapabilities;if(!(a.isRejected(e)&&0===a.matchPrefix(e,"a=bundle-only").length||r.rejected)){var m=a.getIceParameters(e,n),p=a.getDtlsParameters(e,n);s&&(p.role="server"),i.usingBundle&&0!==t||(i._gather(r.mid,t),"new"===u.state&&u.start(c,m,s?"controlling":"controlled"),"new"===l.state&&l.start(p));var f=o(h,d);i._transceive(r,f.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!r("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var h={};l.remoteStreams.forEach((function(e){h[e.id]=e}));var d=[],m=a.splitSections(i.sdp),p=m.shift(),f=a.matchPrefix(p,"a=ice-lite").length>0,g=a.matchPrefix(p,"a=group:BUNDLE ").length>0;l.usingBundle=g;var y=a.matchPrefix(p,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!y&&y.substr(14).split(" ").indexOf("trickle")>=0,m.forEach((function(r,c){var u=a.splitLines(r),m=a.getKind(r),y=a.isRejected(r)&&0===a.matchPrefix(r,"a=bundle-only").length,v=u[0].substr(2).split(" ")[2],k=a.getDirection(r,p),b=a.parseMsid(r),w=a.getMid(r)||a.generateIdentifier();if(y||"application"===m&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))l.transceivers[c]={mid:w,kind:m,protocol:v,rejected:!0};else{var j,_,S,C,T,R,O,E,I;!y&&l.transceivers[c]&&l.transceivers[c].rejected&&(l.transceivers[c]=l._createTransceiver(m,!0));var M,x,A=a.parseRtpParameters(r);y||(M=a.getIceParameters(r,p),(x=a.getDtlsParameters(r,p)).role="client"),O=a.parseRtpEncodingParameters(r);var P=a.parseRtcpParameters(r),z=a.matchPrefix(r,"a=end-of-candidates",p).length>0,L=a.matchPrefix(r,"a=candidate:").map((function(e){return a.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!y&&g&&c>0&&l.transceivers[c]&&(l._disposeIceAndDtlsTransports(c),l.transceivers[c].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[c].iceTransport=l.transceivers[0].iceTransport,l.transceivers[c].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[c].rtpSender&&l.transceivers[c].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[c].rtpReceiver&&l.transceivers[c].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||y)"answer"!==i.type||y||(_=(j=l.transceivers[c]).iceGatherer,S=j.iceTransport,C=j.dtlsTransport,T=j.rtpReceiver,R=j.sendEncodingParameters,E=j.localCapabilities,l.transceivers[c].recvEncodingParameters=O,l.transceivers[c].remoteCapabilities=A,l.transceivers[c].rtcpParameters=P,L.length&&"new"===S.state&&(!f&&!z||g&&0!==c?L.forEach((function(e){s(j.iceTransport,e)})):S.setRemoteCandidates(L)),g&&0!==c||("new"===S.state&&S.start(_,M,"controlling"),"new"===C.state&&C.start(x)),!o(j.localCapabilities,j.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&j.sendEncodingParameters[0].rtx&&delete j.sendEncodingParameters[0].rtx,l._transceive(j,"sendrecv"===k||"recvonly"===k,"sendrecv"===k||"sendonly"===k),!T||"sendrecv"!==k&&"sendonly"!==k?delete j.rtpReceiver:(I=T.track,b?(h[b.stream]||(h[b.stream]=new e.MediaStream),n(I,h[b.stream]),d.push([I,T,h[b.stream]])):(h.default||(h.default=new e.MediaStream),n(I,h.default),d.push([I,T,h.default]))));else{(j=l.transceivers[c]||l._createTransceiver(m)).mid=w,j.iceGatherer||(j.iceGatherer=l._createIceGatherer(c,g)),L.length&&"new"===j.iceTransport.state&&(!z||g&&0!==c?L.forEach((function(e){s(j.iceTransport,e)})):j.iceTransport.setRemoteCandidates(L)),E=e.RTCRtpReceiver.getCapabilities(m),t<15019&&(E.codecs=E.codecs.filter((function(e){return"rtx"!==e.name}))),R=j.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var D,N=!1;"sendrecv"===k||"sendonly"===k?(N=!j.rtpReceiver,T=j.rtpReceiver||new e.RTCRtpReceiver(j.dtlsTransport,m),N&&(I=T.track,b&&"-"===b.stream||(b?(h[b.stream]||(h[b.stream]=new e.MediaStream,Object.defineProperty(h[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(I,"id",{get:function(){return b.track}}),D=h[b.stream]):(h.default||(h.default=new e.MediaStream),D=h.default)),D&&(n(I,D),j.associatedRemoteMediaStreams.push(D)),d.push([I,T,D]))):j.rtpReceiver&&j.rtpReceiver.track&&(j.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===j.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),j.associatedRemoteMediaStreams=[]),j.localCapabilities=E,j.remoteCapabilities=A,j.rtpReceiver=T,j.rtcpParameters=P,j.sendEncodingParameters=R,j.recvEncodingParameters=O,l._transceive(l.transceivers[c],!1,N)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(h).forEach((function(t){var n=h[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var a=new Event("addstream");a.stream=n,e.setTimeout((function(){l._dispatchEvent("addstream",a)}))}d.forEach((function(e){var t=e[0],a=e[1];n.id===e[2].id&&u(l,t,a,[n])}))}})),d.forEach((function(e){e[2]||u(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter((function(e){return"audio"===e.kind})).length,r=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(r=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--r<0&&(e.wantReceive=!1)}));o>0||r>0;)o>0&&(n._createTransceiver("audio"),o--),r>0&&(n._createTransceiver("video"),r--);var u=a.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,o){var r=i.track,s=i.kind,c=i.mid||a.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];r&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+a.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var r=a.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(r+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var s=a.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,a){if(!(a+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=i(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}}));var u=new e.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(u)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,o){if(!n._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var r=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){r=u;break}var l=n.transceivers[r];if(!l)return o(c("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var h=Object.keys(e.candidate).length>0?a.parseCandidate(e.candidate):{};if("tcp"===h.protocol&&(0===h.port||9===h.port))return i();if(h.component&&1!==h.component)return i();if((0===r||r>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,h))return o(c("OperationError","Can not add ICE candidate"));var d=e.candidate.trim();0===d.indexOf("a=")&&(d=d.substr(2)),(t=a.getMediaSections(n._remoteDescription.sdp))[r]+="a="+(h.type?d:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=a.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var m=0;m<n.transceivers.length&&(n.transceivers[m].rejected||(n.transceivers[m].iceTransport.addRemoteCandidate({}),(t=a.getMediaSections(n._remoteDescription.sdp))[m]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=a.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));m++);i()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var a=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&a.push(e[t].getStats())}))})),Promise.all(a).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var a=n.prototype.getStats;n.prototype.getStats=function(){return a.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var a;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(a=e[n]).type]||a.type,t.set(n,e[n])})),t}))}}}));var h=["createOffer","createAnswer"];return h.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(h=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},"./node_modules/sdp/sdp.js":e=>{"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},a=8;a<t.length;a+=2)switch(t[a]){case"raddr":n.relatedAddress=t[a+1];break;case"rport":n.relatedPort=parseInt(t[a+1],10);break;case"tcptype":n.tcpType=t[a+1];break;case"ufrag":n.ufrag=t[a+1],n.usernameFragment=t[a+1];break;default:n[t[a]]=t[a+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},a=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<a.length;i++)n[(t=a[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var a=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?a.push(t+"="+e.parameters[t]):a.push(t)})),t+="a=fmtp:"+n+" "+a.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},a=e.indexOf(":",t);return a>-1?(n.attribute=e.substr(t+1,a-t-1),n.value=e.substr(a+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var a=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return a&&i?{usernameFragment:a.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=t.splitLines(e)[0].split(" "),i=3;i<a.length;i++){var o=a[i],r=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(r){var s=t.parseRtpMap(r),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var a="";a+="m="+e+" ",a+=n.codecs.length>0?"9":"0",a+=" UDP/TLS/RTP/SAVPF ",a+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",a+="c=IN IP4 0.0.0.0\r\n",a+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){a+=t.writeRtpMap(e),a+=t.writeFmtp(e),a+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(a+="a=maxptime:"+i+"\r\n"),a+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){a+=t.writeExtmap(e)})),a},t.parseRtpEncodingParameters=function(e){var n,a=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),r=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),a.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:r?"red+ulpfec":"red"},a.push(t))}})),0===a.length&&c&&a.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,a.forEach((function(e){e.maxBitrate=l}))),a},t.parseRtcpParameters=function(e){var n={},a=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];a&&(n.cname=a.value,n.ssrc=a.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.parseMsid=function(e){var n,a=t.matchPrefix(e,"a=msid:");if(1===a.length)return{stream:(n=a[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,a=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:a.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var r=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(r[0],10),protocol:r[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,a){var i=void 0!==n?n:2;return"v=0\r\no="+(a||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,a,i){var o=t.writeRtpDescription(e.kind,n);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===a?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var r="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+r,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+r,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+r,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,n){for(var a=t.splitLines(e),i=0;i<a.length;i++)switch(a[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),a=0;a<n.length;a++)if(n[a].length<2||"="!==n[a].charAt(1))return!1;return!0},e.exports=t},"./node_modules/webrtc-adapter/src/js/adapter_core.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=(0,n("./node_modules/webrtc-adapter/src/js/adapter_factory.js").adapterFactory)({window:"undefined"==typeof window?void 0:window})},"./node_modules/webrtc-adapter/src/js/adapter_factory.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{adapterFactory:()=>u});var a=n("./node_modules/webrtc-adapter/src/js/utils.js"),i=n("./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js"),o=n("./node_modules/webrtc-adapter/src/js/edge/edge_shim.js"),r=n("./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js"),s=n("./node_modules/webrtc-adapter/src/js/safari/safari_shim.js"),c=n("./node_modules/webrtc-adapter/src/js/common_shim.js");function u(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};const n=a.log,u=a.detectBrowser(e),l={browserDetails:u,commonShim:c,extractVersion:a.extractVersion,disableLog:a.disableLog,disableWarnings:a.disableWarnings};switch(u.browser){case"chrome":if(!i||!i.shimPeerConnection||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),l;if(null===u.version)return n("Chrome shim can not determine version, not shimming."),l;n("adapter.js shimming chrome."),l.browserShim=i,c.shimAddIceCandidateNullOrEmpty(e,u),i.shimGetUserMedia(e,u),i.shimMediaStream(e,u),i.shimPeerConnection(e,u),i.shimOnTrack(e,u),i.shimAddTrackRemoveTrack(e,u),i.shimGetSendersWithDtmf(e,u),i.shimGetStats(e,u),i.shimSenderReceiverGetStats(e,u),i.fixNegotiationNeeded(e,u),c.shimRTCIceCandidate(e,u),c.shimConnectionState(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u),c.removeExtmapAllowMixed(e,u);break;case"firefox":if(!r||!r.shimPeerConnection||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),l;n("adapter.js shimming firefox."),l.browserShim=r,c.shimAddIceCandidateNullOrEmpty(e,u),r.shimGetUserMedia(e,u),r.shimPeerConnection(e,u),r.shimOnTrack(e,u),r.shimRemoveStream(e,u),r.shimSenderGetStats(e,u),r.shimReceiverGetStats(e,u),r.shimRTCDataChannel(e,u),r.shimAddTransceiver(e,u),r.shimGetParameters(e,u),r.shimCreateOffer(e,u),r.shimCreateAnswer(e,u),c.shimRTCIceCandidate(e,u),c.shimConnectionState(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u);break;case"edge":if(!o||!o.shimPeerConnection||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),l;n("adapter.js shimming edge."),l.browserShim=o,o.shimGetUserMedia(e,u),o.shimGetDisplayMedia(e,u),o.shimPeerConnection(e,u),o.shimReplaceTrack(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u);break;case"safari":if(!s||!t.shimSafari)return n("Safari shim is not included in this adapter release."),l;n("adapter.js shimming safari."),l.browserShim=s,c.shimAddIceCandidateNullOrEmpty(e,u),s.shimRTCIceServerUrls(e,u),s.shimCreateOfferLegacy(e,u),s.shimCallbacksAPI(e,u),s.shimLocalStreamsAPI(e,u),s.shimRemoteStreamsAPI(e,u),s.shimTrackEventTransceiver(e,u),s.shimGetUserMedia(e,u),s.shimAudioContext(e,u),c.shimRTCIceCandidate(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u),c.removeExtmapAllowMixed(e,u);break;default:n("Unsupported browser!")}return l}},"./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{shimGetUserMedia:()=>i.shimGetUserMedia,shimGetDisplayMedia:()=>o.shimGetDisplayMedia,shimMediaStream:()=>r,shimOnTrack:()=>s,shimGetSendersWithDtmf:()=>c,shimGetStats:()=>u,shimSenderReceiverGetStats:()=>l,shimAddTrackRemoveTrackWithNative:()=>h,shimAddTrackRemoveTrack:()=>d,shimPeerConnection:()=>m,fixNegotiationNeeded:()=>p});var a=n("./node_modules/webrtc-adapter/src/js/utils.js"),i=n("./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js"),o=n("./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js");function r(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function s(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let a;a=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=a,i.transceiver={receiver:a},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let a;a=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=a,i.transceiver={receiver:a},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else a.wrapPeerConnectionEvent(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function c(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,a){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){a.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function u(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,a]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const a=function(e){n(o(i(e)))};return t.apply(this,[a,e])}return new Promise(((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])})).then(n,a)}}function l(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>a.filterStats(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),a.wrapPeerConnectionEvent(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>a.filterStats(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,a;return this.getSenders().forEach((n=>{n.track===e&&(t?a=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?a=!0:n=t),t.track===e))),a||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function h(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(a)&&this._shimmedLocalStreams[n.id].push(a):this._shimmedLocalStreams[n.id]=[n,a],a};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const a=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(a)};const a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],a.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function d(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return h(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}a.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const a=e._reverseStreams[t],i=e._streams[a.id];n=n.replace(new RegExp(i.id,"g"),a.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function r(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const a=e._reverseStreams[t],i=e._streams[a.id];n=n.replace(new RegExp(a.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const a=[].slice.call(arguments,1);if(1!==a.length||!a[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const i=this.getSenders().find((e=>e.track===t));if(i)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],a={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=a[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=r(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=c.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function m(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],a={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=a[t]}))}function p(e,t){a.wrapPeerConnectionEvent(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}},"./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js":(e,t,n)=>{"use strict";function a(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const a=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},a&&(n.video.mandatory.maxWidth=a),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}n.r(t),n.d(t,{shimGetDisplayMedia:()=>a})},"./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{shimGetUserMedia:()=>i});const a=n("./node_modules/webrtc-adapter/src/js/utils.js").log;function i(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const a="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==a.exact&&"number"==typeof a.exact&&(a.min=a.max=a.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==a.ideal){t.optional=t.optional||[];let e={};"number"==typeof a.ideal?(e[i("min",n)]=a.ideal,t.optional.push(e),e={},e[i("max",n)]=a.ideal,t.optional.push(e)):(e[i("",n)]=a.ideal,t.optional.push(e))}void 0!==a.exact&&"number"!=typeof a.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=a.exact):["min","max"].forEach((e=>{void 0!==a[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=a[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let r=e.video.facingMode;r=r&&("object"==typeof r?r:{ideal:r});const s=t.version<66;if(r&&("user"===r.exact||"environment"===r.exact||"user"===r.ideal||"environment"===r.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||s)){let t;if(delete e.video.facingMode,"environment"===r.exact||"environment"===r.ideal?t=["back","rear"]:"user"!==r.exact&&"user"!==r.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let s=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!s&&n.length&&t.includes("back")&&(s=n[n.length-1]),s&&(e.video.deviceId=r.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=i(e.video),a("chrome: "+JSON.stringify(e)),o(e)}))}e.video=i(e.video)}return a("chrome: "+JSON.stringify(e)),o(e)},r=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,a){o(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{a&&a(r(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return o(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(r(e))))))}}}},"./node_modules/webrtc-adapter/src/js/common_shim.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{shimRTCIceCandidate:()=>r,shimMaxMessageSize:()=>s,shimSendThrowTypeError:()=>c,shimConnectionState:()=>u,removeExtmapAllowMixed:()=>l,shimAddIceCandidateNullOrEmpty:()=>h});var a=n("./node_modules/sdp/sdp.js"),i=n.n(a),o=n("./node_modules/webrtc-adapter/src/js/utils.js");function r(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),a=i().parseCandidate(e.candidate),o=Object.assign(n,a);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,o.wrapPeerConnectionEvent(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function s(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=i().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=i().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},a=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},o=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},r=function(e,n){let a=65536;"firefox"===t.browser&&57===t.version&&(a=65535);const o=i().matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?a=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(a=2147483637),a},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=a(arguments[0]),t=o(e),n=r(arguments[0],e);let i;i=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>i}),this._sctp=s}return s.apply(this,arguments)}}function c(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const a=arguments[0],i=a.length||a.size||a.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},o.wrapPeerConnectionEvent(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function u(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function l(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function h(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}},"./node_modules/webrtc-adapter/src/js/edge/edge_shim.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{shimGetUserMedia:()=>s.shimGetUserMedia,shimGetDisplayMedia:()=>c.shimGetDisplayMedia,shimPeerConnection:()=>u,shimReplaceTrack:()=>l});var a=n("./node_modules/webrtc-adapter/src/js/utils.js"),i=n("./node_modules/webrtc-adapter/src/js/edge/filtericeservers.js"),o=n("./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js"),r=n.n(o),s=n("./node_modules/webrtc-adapter/src/js/edge/getusermedia.js"),c=n("./node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js");function u(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=r()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,i.filterIceServers)(e.iceServers,t.version),a.log("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function l(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},"./node_modules/webrtc-adapter/src/js/edge/filtericeservers.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{filterIceServers:()=>i});var a=n("./node_modules/webrtc-adapter/src/js/utils.js");function i(e,t){let n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((e=>{if(e&&(e.urls||e.url)){let t=e.urls||e.url;e.url&&!e.urls&&a.deprecated("RTCIceServer.url","RTCIceServer.urls");const i="string"==typeof t;return i&&(t=[t]),t=t.filter((e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=i?t[0]:t,!!t.length}}))}},"./node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js":(e,t,n)=>{"use strict";function a(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}n.r(t),n.d(t,{shimGetDisplayMedia:()=>a})},"./node_modules/webrtc-adapter/src/js/edge/getusermedia.js":(e,t,n)=>{"use strict";function a(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e))))}}n.r(t),n.d(t,{shimGetUserMedia:()=>a})},"./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{shimGetUserMedia:()=>i.shimGetUserMedia,shimGetDisplayMedia:()=>o.shimGetDisplayMedia,shimOnTrack:()=>r,shimPeerConnection:()=>s,shimSenderGetStats:()=>c,shimReceiverGetStats:()=>u,shimRemoveStream:()=>l,shimRTCDataChannel:()=>h,shimAddTransceiver:()=>d,shimGetParameters:()=>m,shimCreateOffer:()=>p,shimCreateAnswer:()=>f});var a=n("./node_modules/webrtc-adapter/src/js/utils.js"),i=n("./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js"),o=n("./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js");function r(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function s(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],a={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=a[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return a.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,a)=>{e.set(a,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function c(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function u(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),a.wrapPeerConnectionEvent(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function l(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){a.deprecated("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function h(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function d(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const a=t.apply(this,arguments);if(n){const{sender:t}=a,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return a})}function m(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function p(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function f(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}},"./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js":(e,t,n)=>{"use strict";function a(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}n.r(t),n.d(t,{shimGetDisplayMedia:()=>a})},"./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{shimGetUserMedia:()=>i});var a=n("./node_modules/webrtc-adapter/src/js/utils.js");function i(e,t){const n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){a.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},i&&i.prototype.getSettings){const t=i.prototype.getSettings;i.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(i&&i.prototype.applyConstraints){const t=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}},"./node_modules/webrtc-adapter/src/js/safari/safari_shim.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{shimLocalStreamsAPI:()=>i,shimRemoteStreamsAPI:()=>o,shimCallbacksAPI:()=>r,shimGetUserMedia:()=>s,shimConstraints:()=>c,shimRTCIceServerUrls:()=>u,shimTrackEventTransceiver:()=>l,shimCreateOfferLegacy:()=>h,shimAudioContext:()=>d});var a=n("./node_modules/webrtc-adapter/src/js/utils.js");function i(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a&&a.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function o(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function r(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,a=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,r=t.addIceCandidate;t.createOffer=function(e,t){const a=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[a]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=a.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let s=function(e,t,n){const a=i.apply(this,[e]);return n?(a.then(t,n),Promise.resolve()):a};t.setLocalDescription=s,s=function(e,t,n){const a=o.apply(this,[e]);return n?(a.then(t,n),Promise.resolve()):a},t.setRemoteDescription=s,s=function(e,t,n){const a=r.apply(this,[e]);return n?(a.then(t,n),Promise.resolve()):a},t.addIceCandidate=s}function s(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(c(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,a){t.mediaDevices.getUserMedia(e).then(n,a)}.bind(t))}function c(e){return e&&void 0!==e.video?Object.assign({},e,{video:a.compactObject(e.video)}):e}function u(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let i=e.iceServers[n];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(a.deprecated("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,t.push(i)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function l(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function h(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}function d(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}},"./node_modules/webrtc-adapter/src/js/utils.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{extractVersion:()=>o,wrapPeerConnectionEvent:()=>r,disableLog:()=>s,disableWarnings:()=>c,log:()=>u,deprecated:()=>l,detectBrowser:()=>h,compactObject:()=>m,walkStats:()=>p,filterStats:()=>f});let a=!0,i=!0;function o(e,t,n){const a=e.match(t);return a&&a.length>=n&&parseInt(a[n],10)}function r(e,t,n){if(!e.RTCPeerConnection)return;const a=e.RTCPeerConnection.prototype,i=a.addEventListener;a.addEventListener=function(e,a){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(a.handleEvent?a.handleEvent(t):a(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,o),i.apply(this,[e,o])};const o=a.removeEventListener;a.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const a=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,a])},Object.defineProperty(a,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function s(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(a=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function c(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function u(){if("object"==typeof window){if(a)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function l(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")}function h(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=o(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=o(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=o(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=o(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function d(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e){return d(e)?Object.keys(e).reduce((function(t,n){const a=d(e[n]),i=a?m(e[n]):e[n],o=a&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function p(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((a=>{a.endsWith("Id")?p(e,e.get(t[a]),n):a.endsWith("Ids")&&t[a].forEach((t=>{p(e,e.get(t),n)}))})))}function f(e,t,n){const a=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===a&&n.trackId===t.id&&p(e,n,i)}))})),i}}},t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";n.r(a),n.d(a,{createSignalMessage:()=>t,P2P_CONNECT_MESSAGE:()=>i,P2P_ICE_CANDIDATE_MESSAGE:()=>o,Signaler:()=>r,PeerConnection:()=>s}),n("./node_modules/webrtc-adapter/src/js/adapter_core.js");var e=n("./node_modules/ably/promises.js");function t(e,t){return{timestamp:(new Date).getTime(),receiver:e,...t}}const i="connect",o="candidate";class r{constructor(t){this.token=t,this.client=new e.Realtime.Promise({token:t,autoConnect:!1,idempotentRestPublishing:!0,queueMessages:!1,disconnectedRetryTimeout:3e3,suspendedRetryTimeout:15e3,echoMessages:!1}),this.channel=this.channel.bind(this)}channel(e){return this.client.channels.get(e)}}class s{constructor(e,t,n,a){this.connectionId=a,this.signalerChannel=e,this.ice=t,this.isPolite=n,this.pc=null,this.queuedCandidates=[],this.onNegotiationNeeded=null,this.onIceCandidate=null,this.onSignalerMessage=null,this._flushQueuedCandidates=this._flushQueuedCandidates.bind(this),this._pruneIce=this._pruneIce.bind(this),this.close=this.close.bind(this),this.sendReadyMessage=this.sendReadyMessage.bind(this),this._handleConnectMessage=this._handleConnectMessage.bind(this),this._handleCandidateMessage=this._handleCandidateMessage.bind(this),this.makingOffer=!1,this.ignoreOffer=!1,this._pruneIce();const i={...this.ice};Array.isArray(i.iceServers)||(i.iceServers=[i.iceServers]),this.pc=new RTCPeerConnection(i)}connect(e,n){this.remotePeerId=e,this.makingOffer=!1,this.pc.onnegotiationneeded=async()=>{try{this.makingOffer=!0,await this.pc.setLocalDescription(),this.signalerChannel.publish(i,t(e,{description:this.pc.localDescription}))}catch(e){console.error(e)}finally{this.makingOffer=!1}},this.pc.onicecandidate=n=>{let{candidate:a}=n;a&&this.signalerChannel.publish(o,t(e,{candidate:a}))},this.signalerChannel.subscribe(i,this._handleConnectMessage),this.signalerChannel.subscribe(o,this._handleCandidateMessage),n&&this._handleConnectMessage(n)}close(){this.signalerChannel.unsubscribe(this._handleCandidateMessage),this.signalerChannel.unsubscribe(this._handleConnectMessage),this.signalerChannel=null,this.pc.onnegotiationneeded=null,this.pc.onicecandidate=null,this.pc.ontrack=null,this.queuedCandidates=[],this.ice=null,this.pc.close(),this.pc=null}sendReadyMessage(){this.signalerChannel.publish(i,t(this.remotePeerId,{}))}async _handleConnectMessage(e){const n=e.data,a=e.clientId;if(n.receiver!==this.signalerChannel.connectionManager.connectionDetails.clientId)return;if(void 0!==this.remotePeerId&&a!==this.remotePeerId)return;const o=e.data.description,r="offer"===o.type&&(this.makingOffer||"stable"!==this.pc.signalingState);try{if(this.ignoreOffer=!this.isPolite&&r,this.ignoreOffer)return;if(await this.pc.setRemoteDescription(o),this._flushQueuedCandidates(),"offer"===o.type){await this.pc.setLocalDescription();const n=e.clientId;this.signalerChannel.publish(i,t(n,{description:this.pc.localDescription}))}}catch(e){console.error(e)}}async _handleCandidateMessage(e){const t=e.data,n=e.clientId;if(t.receiver===this.signalerChannel.connectionManager.connectionDetails.clientId)if(void 0===this.remotePeerId||n===this.remotePeerId)try{if(!this.pc.remoteDescription)return void this.queuedCandidates.push(t.candidate);try{await this.pc.addIceCandidate(t.candidate)}catch(e){if(!this.ignoreOffer)throw e}}catch(e){console.error(e)}else console.error(`SenderId does not match Remote peer id for ICE candidate: ${n}`)}_flushQueuedCandidates(){this.queuedCandidates.forEach((e=>{this.pc.addIceCandidate(e)})),this.queuedCandidates.length=0}_pruneIce(){const e=this.ice.iceServers.urls,t=[];let n=!1;e.forEach((e=>{if(e.startsWith("stun")&&!n)return n=!0,void t.push(e);(e.startsWith("turn")&&e.endsWith(":80?transport=tcp")||e.startsWith("turns")&&e.endsWith(":443?transport=tcp"))&&t.push(e)})),this.ice.iceServers.urls=t}}})(),a})()},e.exports=t()},438:function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,o){function r(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((a=a.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(572));t.default=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.cacheName=e,this.resetCache=t,this.saveFrequency=n,this.inMemoryCache={},this.cacheLoaded=!1,this.initStore()}initStore(){return a(this,void 0,void 0,(function*(){try{let e;!1===this.resetCache&&(e=yield o.default.getData(this.cacheName)),null==e?o.default.setData(this.cacheName,this.inMemoryCache):this.inMemoryCache=Object.assign(Object.assign({},e),this.inMemoryCache),this.saveFrequency&&this.saveFrequency>0&&setInterval((()=>{this.updateLocalStorage()}),this.saveFrequency)}catch(e){console.warn("Local storage is not supported, only using in-memory cache.")}this.cacheLoaded=!0}))}isCacheLoaded(){return this.cacheLoaded}waitTillCacheLoaded(){return a(this,void 0,void 0,(function*(){return new Promise((e=>{!0===this.cacheLoaded?e():setTimeout((()=>{this.waitTillCacheLoaded().then((()=>{e()}))}),10)}))}))}getCache(){return this.inMemoryCache}setCache(e){e&&"object"==typeof e&&(this.inMemoryCache=e)}getValue(e){return this.inMemoryCache[e]}flush(){this.updateLocalStorage()}updateLocalStorage(){return a(this,void 0,void 0,(function*(){yield o.default.setData(this.cacheName,this.inMemoryCache)}))}}},149:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageHelper=t.CachedStorage=void 0;const i=a(n(438));t.CachedStorage=i.default;const o=a(n(572));t.StorageHelper=o.default},572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="Chrome local storage not available";t.default={setData:(e,t)=>new Promise(((a,i)=>{try{const n={};n[e]=t,chrome.storage.local.set(n,(()=>{chrome.runtime.lastError?i(chrome.runtime.lastError):a()}))}catch(e){i(n)}})),getData:e=>new Promise(((t,a)=>{try{chrome.storage.local.get(e,(n=>{chrome.runtime.lastError?a(chrome.runtime.lastError):t(n[e])}))}catch(e){a(n)}}))}},283:(e,t)=>{"use strict";function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return c=s()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&r(i,n.prototype),i},c.apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return c(e,arguments,o(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,e)},u(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}var d=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(u(Error)),m=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return i(t,e),t}(d),p=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return i(t,e),t}(d),f=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return i(t,e),t}(d),g=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(d),y=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return i(t,e),t}(d),v=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(d),k=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return i(t,e),t}(d),b="numeric",w="short",j="long",_={year:b,month:b,day:b},S={year:b,month:w,day:b},C={year:b,month:w,day:b,weekday:w},T={year:b,month:j,day:b},R={year:b,month:j,day:b,weekday:j},O={hour:b,minute:b},E={hour:b,minute:b,second:b},I={hour:b,minute:b,second:b,timeZoneName:w},M={hour:b,minute:b,second:b,timeZoneName:j},x={hour:b,minute:b,hour12:!1},A={hour:b,minute:b,second:b,hour12:!1},P={hour:b,minute:b,second:b,hour12:!1,timeZoneName:w},z={hour:b,minute:b,second:b,hour12:!1,timeZoneName:j},L={year:b,month:b,day:b,hour:b,minute:b},D={year:b,month:b,day:b,hour:b,minute:b,second:b},N={year:b,month:w,day:b,hour:b,minute:b},U={year:b,month:w,day:b,hour:b,minute:b,second:b},q={year:b,month:w,day:b,weekday:w,hour:b,minute:b},G={year:b,month:j,day:b,hour:b,minute:b,timeZoneName:w},F={year:b,month:j,day:b,hour:b,minute:b,second:b,timeZoneName:w},V={year:b,month:j,day:b,weekday:j,hour:b,minute:b,timeZoneName:j},B={year:b,month:j,day:b,weekday:j,hour:b,minute:b,second:b,timeZoneName:j};function H(e){return void 0===e}function W(e){return"number"==typeof e}function J(e){return"number"==typeof e&&e%1==0}function Z(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(e){return!1}}function K(){return!H(Intl.DateTimeFormat.prototype.formatToParts)}function Q(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function $(e,t,n){if(0!==e.length)return e.reduce((function(e,a){var i=[t(a),a];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function Y(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ee(e,t,n){return J(e)&&e>=t&&e<=n}function te(e,t){void 0===t&&(t=2);var n=e<0?"-":"",a=n?-1*e:e;return""+n+(a.toString().length<t?("0".repeat(t)+a).slice(-t):a.toString())}function ne(e){return H(e)||null===e||""===e?void 0:parseInt(e,10)}function ae(e){if(!H(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function ie(e,t,n){void 0===n&&(n=!1);var a=Math.pow(10,t);return(n?Math.trunc:Math.round)(e*a)/a}function oe(e){return e%4==0&&(e%100!=0||e%400==0)}function re(e){return oe(e)?366:365}function se(e,t){var n,a=(n=t-1)-12*Math.floor(n/12)+1;return 2===a?oe(e+(t-a)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][a-1]}function ce(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function ue(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,a=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===a?53:52}function le(e){return e>99?e:e>60?1900+e:2e3+e}function he(e,t,n,a){void 0===a&&(a=null);var i=new Date(e),o={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};a&&(o.timeZone=a);var r=Object.assign({timeZoneName:t},o),s=Z();if(s&&K()){var c=new Intl.DateTimeFormat(n,r).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return c?c.value:null}if(s){var u=new Intl.DateTimeFormat(n,o).format(i);return new Intl.DateTimeFormat(n,r).format(i).substring(u.length).replace(/^[, \u200e]+/,"")}return null}function de(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var a=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-a:a)}function me(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new v("Invalid unit value "+e);return t}function pe(e,t,n){var a={};for(var i in e)if(X(e,i)){if(n.indexOf(i)>=0)continue;var o=e[i];if(null==o)continue;a[t(i)]=me(o)}return a}function fe(e,t){var n=Math.trunc(Math.abs(e/60)),a=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return""+i+te(n,2)+":"+te(a,2);case"narrow":return""+i+n+(a>0?":"+a:"");case"techie":return""+i+te(n,2)+te(a,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function ge(e){return Y(e,["hour","minute","second","millisecond"])}var ye=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function ve(e){return JSON.stringify(e,Object.keys(e).sort())}var ke=["January","February","March","April","May","June","July","August","September","October","November","December"],be=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],we=["J","F","M","A","M","J","J","A","S","O","N","D"];function je(e){switch(e){case"narrow":return[].concat(we);case"short":return[].concat(be);case"long":return[].concat(ke);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var _e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Se=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ce=["M","T","W","T","F","S","S"];function Te(e){switch(e){case"narrow":return[].concat(Ce);case"short":return[].concat(Se);case"long":return[].concat(_e);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Re=["AM","PM"],Oe=["Before Christ","Anno Domini"],Ee=["BC","AD"],Ie=["B","A"];function Me(e){switch(e){case"narrow":return[].concat(Ie);case"short":return[].concat(Ee);case"long":return[].concat(Oe);default:return null}}function xe(e,t){for(var n,a="",i=h(e);!(n=i()).done;){var o=n.value;o.literal?a+=o.val:a+=t(o.val)}return a}var Ae={D:_,DD:S,DDD:T,DDDD:R,t:O,tt:E,ttt:I,tttt:M,T:x,TT:A,TTT:P,TTTT:z,f:L,ff:N,fff:G,ffff:V,F:D,FF:U,FFF:F,FFFF:B},Pe=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)},e.parseFormat=function(e){for(var t=null,n="",a=!1,i=[],o=0;o<e.length;o++){var r=e.charAt(o);"'"===r?(n.length>0&&i.push({literal:a,val:n}),t=null,n="",a=!a):a||r===t?n+=r:(n.length>0&&i.push({literal:!1,val:n}),n=r,t=r)}return n.length>0&&i.push({literal:a,val:n}),i},e.macroTokenToFormatOpts=function(e){return Ae[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).formatToParts()},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return te(e,t);var n=Object.assign({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)},t.formatDateTimeFromString=function(t,n){var a=this,i="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&K(),r=function(e,n){return a.loc.extract(t,e,n)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},c=function(e,n){return i?function(e,t){return je(t)[e.month-1]}(t,e):r(n?{month:e}:{month:e,day:"numeric"},"month")},u=function(e,n){return i?function(e,t){return Te(t)[e.weekday-1]}(t,e):r(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},l=function(e){return i?function(e,t){return Me(t)[e.year<0?0:1]}(t,e):r({era:e},"era")};return xe(e.parseFormat(n),(function(n){switch(n){case"S":return a.num(t.millisecond);case"u":case"SSS":return a.num(t.millisecond,3);case"s":return a.num(t.second);case"ss":return a.num(t.second,2);case"m":return a.num(t.minute);case"mm":return a.num(t.minute,2);case"h":return a.num(t.hour%12==0?12:t.hour%12);case"hh":return a.num(t.hour%12==0?12:t.hour%12,2);case"H":return a.num(t.hour);case"HH":return a.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:a.opts.allowZ});case"ZZ":return s({format:"short",allowZ:a.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:a.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:a.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:a.loc.locale});case"z":return t.zoneName;case"a":return i?function(e){return Re[e.hour<12?0:1]}(t):r({hour:"numeric",hour12:!0},"dayperiod");case"d":return o?r({day:"numeric"},"day"):a.num(t.day);case"dd":return o?r({day:"2-digit"},"day"):a.num(t.day,2);case"c":case"E":return a.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return o?r({month:"numeric",day:"numeric"},"month"):a.num(t.month);case"LL":return o?r({month:"2-digit",day:"numeric"},"month"):a.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return o?r({month:"numeric"},"month"):a.num(t.month);case"MM":return o?r({month:"2-digit"},"month"):a.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return o?r({year:"numeric"},"year"):a.num(t.year);case"yy":return o?r({year:"2-digit"},"year"):a.num(t.year.toString().slice(-2),2);case"yyyy":return o?r({year:"numeric"},"year"):a.num(t.year,4);case"yyyyyy":return o?r({year:"numeric"},"year"):a.num(t.year,6);case"G":return l("short");case"GG":return l("long");case"GGGGG":return l("narrow");case"kk":return a.num(t.weekYear.toString().slice(-2),2);case"kkkk":return a.num(t.weekYear,4);case"W":return a.num(t.weekNumber);case"WW":return a.num(t.weekNumber,2);case"o":return a.num(t.ordinal);case"ooo":return a.num(t.ordinal,3);case"q":return a.num(t.quarter);case"qq":return a.num(t.quarter,2);case"X":return a.num(Math.floor(t.ts/1e3));case"x":return a.num(t.ts);default:return function(n){var i=e.macroTokenToFormatOpts(n);return i?a.formatWithSystemDefault(t,i):n}(n)}}))},t.formatDurationFromString=function(t,n){var a,i=this,o=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},r=e.parseFormat(n),s=r.reduce((function(e,t){var n=t.literal,a=t.val;return n?e:e.concat(a)}),[]),c=t.shiftTo.apply(t,s.map(o).filter((function(e){return e})));return xe(r,(a=c,function(e){var t=o(e);return t?i.num(a.get(t),e.length):e}))},e}(),ze=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),Le=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new k},t.formatOffset=function(e,t){throw new k},t.offset=function(e){throw new k},t.equals=function(e){throw new k},a(e,[{key:"type",get:function(){throw new k}},{key:"name",get:function(){throw new k}},{key:"universal",get:function(){throw new k}},{key:"isValid",get:function(){throw new k}}]),e}(),De=null,Ne=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.offsetName=function(e,t){return he(e,t.format,t.locale)},n.formatOffset=function(e,t){return fe(this.offset(e),t)},n.offset=function(e){return-new Date(e).getTimezoneOffset()},n.equals=function(e){return"local"===e.type},a(t,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Z()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===De&&(De=new t),De}}]),t}(Le),Ue=RegExp("^"+ye.source+"$"),qe={},Ge={year:0,month:1,day:2,hour:3,minute:4,second:5},Fe={},Ve=function(e){function t(n){var a;return(a=e.call(this)||this).zoneName=n,a.valid=t.isValidZone(n),a}i(t,e),t.create=function(e){return Fe[e]||(Fe[e]=new t(e)),Fe[e]},t.resetCache=function(){Fe={},qe={}},t.isValidSpecifier=function(e){return!(!e||!e.match(Ue))},t.isValidZone=function(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}},t.parseGMTOffset=function(e){if(e){var t=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null};var n=t.prototype;return n.offsetName=function(e,t){return he(e,t.format,t.locale,this.name)},n.formatOffset=function(e,t){return fe(this.offset(e),t)},n.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var n,a=(n=this.name,qe[n]||(qe[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),qe[n]),i=a.formatToParts?function(e,t){for(var n=e.formatToParts(t),a=[],i=0;i<n.length;i++){var o=n[i],r=o.type,s=o.value,c=Ge[r];H(c)||(a[c]=parseInt(s,10))}return a}(a,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),i=a[1],o=a[2];return[a[3],i,o,a[4],a[5],a[6]]}(a,t),o=i[0],r=i[1],s=i[2],c=i[3],u=+t,l=u%1e3;return(ce({year:o,month:r,day:s,hour:24===c?0:c,minute:i[4],second:i[5],millisecond:0})-(u-=l>=0?l:1e3+l))/6e4},n.equals=function(e){return"iana"===e.type&&e.name===this.name},a(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(Le),Be=null,He=function(e){function t(t){var n;return(n=e.call(this)||this).fixed=t,n}i(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(de(n[1],n[2]))}return null},a(t,null,[{key:"utcInstance",get:function(){return null===Be&&(Be=new t(0)),Be}}]);var n=t.prototype;return n.offsetName=function(){return this.name},n.formatOffset=function(e,t){return fe(this.fixed,t)},n.offset=function(){return this.fixed},n.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},a(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+fe(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),t}(Le),We=function(e){function t(t){var n;return(n=e.call(this)||this).zoneName=t,n}i(t,e);var n=t.prototype;return n.offsetName=function(){return null},n.formatOffset=function(){return""},n.offset=function(){return NaN},n.equals=function(){return!1},a(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(Le);function Je(e,t){var n;if(H(e)||null===e)return t;if(e instanceof Le)return e;if("string"==typeof e){var a=e.toLowerCase();return"local"===a?t:"utc"===a||"gmt"===a?He.utcInstance:null!=(n=Ve.parseGMTOffset(e))?He.instance(n):Ve.isValidSpecifier(a)?Ve.create(e):He.parseSpecifier(a)||new We(e)}return W(e)?He.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new We(e)}var Ze=function(){return Date.now()},Ke=null,Qe=null,$e=null,Ye=null,Xe=!1,et=function(){function e(){}return e.resetCaches=function(){lt.resetCache(),Ve.resetCache()},a(e,null,[{key:"now",get:function(){return Ze},set:function(e){Ze=e}},{key:"defaultZoneName",get:function(){return e.defaultZone.name},set:function(e){Ke=e?Je(e):null}},{key:"defaultZone",get:function(){return Ke||Ne.instance}},{key:"defaultLocale",get:function(){return Qe},set:function(e){Qe=e}},{key:"defaultNumberingSystem",get:function(){return $e},set:function(e){$e=e}},{key:"defaultOutputCalendar",get:function(){return Ye},set:function(e){Ye=e}},{key:"throwOnInvalid",get:function(){return Xe},set:function(e){Xe=e}}]),e}(),tt={};function nt(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),a=tt[n];return a||(a=new Intl.DateTimeFormat(e,t),tt[n]=a),a}var at={},it={};var ot=null;function rt(e,t,n,a,i){var o=e.listingMode(n);return"error"===o?null:"en"===o?a(t):i(t)}var st=function(){function e(e,t,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!t&&Z()){var a={useGrouping:!1};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),a=at[n];return a||(a=new Intl.NumberFormat(e,t),at[n]=a),a}(e,a)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return te(this.floor?Math.floor(e):ie(e,3),this.padTo)},e}(),ct=function(){function e(e,t,n){var a;if(this.opts=n,this.hasIntl=Z(),e.zone.universal&&this.hasIntl){var i=e.offset/60*-1,o=i>=0?"Etc/GMT+"+i:"Etc/GMT"+i,r=Ve.isValidZone(o);0!==e.offset&&r?(a=o,this.dt=e):(a="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:ca.fromMillis(e.ts+60*e.offset*1e3))}else"local"===e.zone.type?this.dt=e:(this.dt=e,a=e.zone.name);if(this.hasIntl){var s=Object.assign({},this.opts);a&&(s.timeZone=a),this.dtf=nt(t,s)}}var t=e.prototype;return t.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var e=function(e){var t="EEEE, LLLL d, yyyy, h:mm a";switch(ve(Y(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case ve(_):return"M/d/yyyy";case ve(S):return"LLL d, yyyy";case ve(C):return"EEE, LLL d, yyyy";case ve(T):return"LLLL d, yyyy";case ve(R):return"EEEE, LLLL d, yyyy";case ve(O):return"h:mm a";case ve(E):return"h:mm:ss a";case ve(I):case ve(M):return"h:mm a";case ve(x):return"HH:mm";case ve(A):return"HH:mm:ss";case ve(P):case ve(z):return"HH:mm";case ve(L):return"M/d/yyyy, h:mm a";case ve(N):return"LLL d, yyyy, h:mm a";case ve(G):return"LLLL d, yyyy, h:mm a";case ve(V):return t;case ve(D):return"M/d/yyyy, h:mm:ss a";case ve(U):return"LLL d, yyyy, h:mm:ss a";case ve(q):return"EEE, d LLL yyyy, h:mm a";case ve(F):return"LLLL d, yyyy, h:mm:ss a";case ve(B):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return t}}(this.opts),t=lt.create("en-US");return Pe.create(t).formatDateTimeFromString(this.dt,e)},t.formatToParts=function(){return this.hasIntl&&K()?this.dtf.formatToParts(this.dt.toJSDate()):[]},t.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},e}(),ut=function(){function e(e,t,n){this.opts=Object.assign({style:"long"},n),!t&&Q()&&(this.rtf=function(e,t){void 0===t&&(t={});var n=t,a=(n.base,function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["base"])),i=JSON.stringify([e,a]),o=it[i];return o||(o=new Intl.RelativeTimeFormat(e,t),it[i]=o),o}(e,n))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n,a){void 0===n&&(n="always"),void 0===a&&(a=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&o){var r="days"===e;switch(t){case 1:return r?"tomorrow":"next "+i[e][0];case-1:return r?"yesterday":"last "+i[e][0];case 0:return r?"today":"this "+i[e][0]}}var s=Object.is(t,-0)||t<0,c=Math.abs(t),u=1===c,l=i[e],h=a?u?l[1]:l[2]||l[1]:u?i[e][0]:e;return s?c+" "+h+" ago":"in "+c+" "+h}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),lt=function(){function e(e,t,n,a){var i=function(e){var t=e.indexOf("-u-");if(-1===t)return[e];var n,a=e.substring(0,t);try{n=nt(e).resolvedOptions()}catch(e){n=nt(a).resolvedOptions()}var i=n;return[a,i.numberingSystem,i.calendar]}(e),o=i[0],r=i[1],s=i[2];this.locale=o,this.numberingSystem=t||r||null,this.outputCalendar=n||s||null,this.intl=function(e,t,n){return Z()?n||t?(e+="-u",n&&(e+="-ca-"+n),t&&(e+="-nu-"+t),e):e:[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,n,a,i){void 0===i&&(i=!1);var o=t||et.defaultLocale;return new e(o||(i?"en-US":function(){if(ot)return ot;if(Z()){var e=(new Intl.DateTimeFormat).resolvedOptions().locale;return ot=e&&"und"!==e?e:"en-US"}return ot="en-US"}()),n||et.defaultNumberingSystem,a||et.defaultOutputCalendar,o)},e.resetCache=function(){ot=null,tt={},at={},it={}},e.fromObject=function(t){var n=void 0===t?{}:t,a=n.locale,i=n.numberingSystem,o=n.outputCalendar;return e.create(a,i,o)};var t=e.prototype;return t.listingMode=function(e){void 0===e&&(e=!0);var t=Z()&&K(),n=this.isEnglish(),a=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t||n&&a||e?!t||n&&a?"en":"intl":"error"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!1}))},t.months=function(e,t,n){var a=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),rt(this,e,n,je,(function(){var n=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return a.monthsCache[i][e]||(a.monthsCache[i][e]=function(e){for(var t=[],n=1;n<=12;n++){var a=ca.utc(2016,n,1);t.push(e(a))}return t}((function(e){return a.extract(e,n,"month")}))),a.monthsCache[i][e]}))},t.weekdays=function(e,t,n){var a=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),rt(this,e,n,Te,(function(){var n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return a.weekdaysCache[i][e]||(a.weekdaysCache[i][e]=function(e){for(var t=[],n=1;n<=7;n++){var a=ca.utc(2016,11,13+n);t.push(e(a))}return t}((function(e){return a.extract(e,n,"weekday")}))),a.weekdaysCache[i][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),rt(this,void 0,e,(function(){return Re}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hour12:!0};t.meridiemCache=[ca.utc(2016,11,13,9),ca.utc(2016,11,13,19)].map((function(n){return t.extract(n,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var n=this;return void 0===t&&(t=!0),rt(this,e,t,Me,(function(){var t={era:e};return n.eraCache[e]||(n.eraCache[e]=[ca.utc(-40,1,1),ca.utc(2017,1,1)].map((function(e){return n.extract(e,t,"era")}))),n.eraCache[e]}))},t.extract=function(e,t,n){var a=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return a?a.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new st(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new ct(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new ut(this.intl,this.isEnglish(),e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Z()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},a(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||Z()&&"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}();function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+a+"$")}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var a=t[0],i=t[1],o=t[2],r=n(e,o),s=r[0],c=r[1],u=r[2];return[Object.assign(a,s),i||c,u]}),[{},null,1]).slice(0,2)}}function mt(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var i=0,o=n;i<o.length;i++){var r=o[i],s=r[0],c=r[1],u=s.exec(e);if(u)return c(u)}return[null,null]}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var a,i={};for(a=0;a<t.length;a++)i[t[a]]=ne(e[n+a]);return[i,null,n+a]}}var ft=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,gt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,yt=RegExp(""+gt.source+ft.source+"?"),vt=RegExp("(?:T"+yt.source+")?"),kt=pt("weekYear","weekNumber","weekDay"),bt=pt("year","ordinal"),wt=RegExp(gt.source+" ?(?:"+ft.source+"|("+ye.source+"))?"),jt=RegExp("(?: "+wt.source+")?");function _t(e,t,n){var a=e[t];return H(a)?n:ne(a)}function St(e,t){return[{year:_t(e,t),month:_t(e,t+1,1),day:_t(e,t+2,1)},null,t+3]}function Ct(e,t){return[{hours:_t(e,t,0),minutes:_t(e,t+1,0),seconds:_t(e,t+2,0),milliseconds:ae(e[t+3])},null,t+4]}function Tt(e,t){var n=!e[t]&&!e[t+1],a=de(e[t+1],e[t+2]);return[{},n?null:He.instance(a),t+3]}function Rt(e,t){return[{},e[t]?Ve.create(e[t]):null,t+1]}var Ot=RegExp("^T?"+gt.source+"$"),Et=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function It(e){var t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],r=e[5],s=e[6],c=e[7],u=e[8],l="-"===t[0],h=c&&"-"===c[0],d=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&l)?-e:e};return[{years:d(ne(n)),months:d(ne(a)),weeks:d(ne(i)),days:d(ne(o)),hours:d(ne(r)),minutes:d(ne(s)),seconds:d(ne(c),"-0"===c),milliseconds:d(ae(u),h)}]}var Mt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xt(e,t,n,a,i,o,r){var s={year:2===t.length?le(ne(t)):ne(t),month:be.indexOf(n)+1,day:ne(a),hour:ne(i),minute:ne(o)};return r&&(s.second=ne(r)),e&&(s.weekday=e.length>3?_e.indexOf(e)+1:Se.indexOf(e)+1),s}var At=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Pt(e){var t,n=e[1],a=e[2],i=e[3],o=e[4],r=e[5],s=e[6],c=e[7],u=e[8],l=e[9],h=e[10],d=e[11],m=xt(n,o,i,a,r,s,c);return t=u?Mt[u]:l?0:de(h,d),[m,new He(t)]}var zt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Lt=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Dt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Nt(e){var t=e[1],n=e[2],a=e[3];return[xt(t,e[4],a,n,e[5],e[6],e[7]),He.utcInstance]}function Ut(e){var t=e[1],n=e[2],a=e[3],i=e[4],o=e[5],r=e[6];return[xt(t,e[7],n,a,i,o,r),He.utcInstance]}var qt=ht(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vt),Gt=ht(/(\d{4})-?W(\d\d)(?:-?(\d))?/,vt),Ft=ht(/(\d{4})-?(\d{3})/,vt),Vt=ht(yt),Bt=dt(St,Ct,Tt),Ht=dt(kt,Ct,Tt),Wt=dt(bt,Ct,Tt),Jt=dt(Ct,Tt),Zt=dt(Ct),Kt=ht(/(\d{4})-(\d\d)-(\d\d)/,jt),Qt=ht(wt),$t=dt(St,Ct,Tt,Rt),Yt=dt(Ct,Tt,Rt),Xt={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},en=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Xt),tn=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Xt),nn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],an=nn.slice(0).reverse();function on(e,t,n){void 0===n&&(n=!1);var a={values:n?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new sn(a)}function rn(e,t,n,a,i){var o=e[i][n],r=t[n]/o,s=Math.sign(r)!==Math.sign(a[i])&&0!==a[i]&&Math.abs(r)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(r):Math.trunc(r);a[i]+=s,t[n]-=s*o}var sn=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||lt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?tn:en,this.isLuxonDuration=!0}e.fromMillis=function(t,n){return e.fromObject(Object.assign({milliseconds:t},n))},e.fromObject=function(t){if(null==t||"object"!=typeof t)throw new v("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new e({values:pe(t,e.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:lt.fromObject(t),conversionAccuracy:t.conversionAccuracy})},e.fromISO=function(t,n){var a=function(e){return mt(e,[Et,It])}(t),i=a[0];if(i){var o=Object.assign(i,n);return e.fromObject(o)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,n){var a=function(e){return mt(e,[Ot,Zt])}(t),i=a[0];if(i){var o=Object.assign(i,n);return e.fromObject(o)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new v("need to specify a reason the Duration is invalid");var a=t instanceof ze?t:new ze(t,n);if(et.throwOnInvalid)throw new f(a);return new e({invalid:a})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new y(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var n=Object.assign({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Pe.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=ie(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),a="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(a+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(a+=".SSS"));var i=n.toFormat(a);return e.includePrefix&&(i="T"+i),i},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(e){if(!this.isValid)return this;for(var t,n=cn(e),a={},i=h(nn);!(t=i()).done;){var o=t.value;(X(n.values,o)||X(this.values,o))&&(a[o]=n.get(o)+this.get(o))}return on(this,{values:a},!0)},t.minus=function(e){if(!this.isValid)return this;var t=cn(e);return this.plus(t.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},n=0,a=Object.keys(this.values);n<a.length;n++){var i=a[n];t[i]=me(e(this.values[i],i))}return on(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?on(this,{values:Object.assign(this.values,pe(t,e.normalizeUnit,[]))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,a=t.numberingSystem,i=t.conversionAccuracy,o={loc:this.loc.clone({locale:n,numberingSystem:a})};return i&&(o.conversionAccuracy=i),on(this,o)},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){an.reduce((function(n,a){return H(t[a])?n:(n&&rn(e,t,n,t,a),a)}),null)}(this.matrix,e),on(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var i,o,r={},s={},c=this.toObject(),u=h(nn);!(o=u()).done;){var l=o.value;if(n.indexOf(l)>=0){i=l;var d=0;for(var m in s)d+=this.matrix[m][l]*s[m],s[m]=0;W(c[l])&&(d+=c[l]);var p=Math.trunc(d);for(var f in r[l]=p,s[l]=d-p,c)nn.indexOf(f)>nn.indexOf(l)&&rn(this.matrix,c,f,r,l)}else W(c[l])&&(s[l]=c[l])}for(var g in s)0!==s[g]&&(r[i]+=g===i?s[g]:s[g]/this.matrix[i][g]);return on(this,{values:r},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var a=n[t];e[a]=-this.values[a]}return on(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t,n=h(nn);!(t=n()).done;){var a=t.value;if(i=this.values[a],o=e.values[a],!(void 0===i||0===i?void 0===o||0===o:i===o))return!1}var i,o;return!0},a(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}();function cn(e){if(W(e))return sn.fromMillis(e);if(sn.isDuration(e))return e;if("object"==typeof e)return sn.fromObject(e);throw new v("Unknown duration argument "+e+" of type "+typeof e)}var un="Invalid Interval";function ln(e,t){return e&&e.isValid?t&&t.isValid?t<e?hn.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:hn.invalid("missing or invalid end"):hn.invalid("missing or invalid start")}var hn=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new v("need to specify a reason the Interval is invalid");var a=t instanceof ze?t:new ze(t,n);if(et.throwOnInvalid)throw new p(a);return new e({invalid:a})},e.fromDateTimes=function(t,n){var a=ua(t),i=ua(n),o=ln(a,i);return null==o?new e({start:a,end:i}):o},e.after=function(t,n){var a=cn(n),i=ua(t);return e.fromDateTimes(i,i.plus(a))},e.before=function(t,n){var a=cn(n),i=ua(t);return e.fromDateTimes(i.minus(a),i)},e.fromISO=function(t,n){var a=(t||"").split("/",2),i=a[0],o=a[1];if(i&&o){var r,s,c,u;try{s=(r=ca.fromISO(i,n)).isValid}catch(o){s=!1}try{u=(c=ca.fromISO(o,n)).isValid}catch(o){u=!1}if(s&&u)return e.fromDateTimes(r,c);if(s){var l=sn.fromISO(o,n);if(l.isValid)return e.after(r,l)}else if(u){var h=sn.fromISO(i,n);if(h.isValid)return e.before(c,h)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&this.s<=e&&this.e>e},t.set=function(t){var n=void 0===t?{}:t,a=n.start,i=n.end;return this.isValid?e.fromDateTimes(a||this.s,i||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];for(var o=a.map(ua).filter((function(e){return t.contains(e)})).sort(),r=[],s=this.s,c=0;s<this.e;){var u=o[c]||this.e,l=+u>+this.e?this.e:u;r.push(e.fromDateTimes(s,l)),s=l,c+=1}return r},t.splitBy=function(t){var n=cn(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var a,i=this.s,o=1,r=[];i<this.e;){var s=this.start.plus(n.mapUnits((function(e){return e*o})));a=+s>+this.e?this.e:s,r.push(e.fromDateTimes(i,a)),i=a,o+=1}return r},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},t.engulfs=function(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e},t.equals=function(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)},t.intersection=function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,a=this.e<t.e?this.e:t.e;return n>=a?null:e.fromDateTimes(n,a)},t.union=function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,a=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,a)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=e[0],a=e[1];return a?a.overlaps(t)||a.abutsStart(t)?[n,a.union(t)]:[n.concat([a]),t]:[n,t]}),[[],null]),n=t[0],a=t[1];return a&&n.push(a),n},e.xor=function(t){for(var n,a,i=null,o=0,r=[],s=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),c=h((n=Array.prototype).concat.apply(n,s).sort((function(e,t){return e.time-t.time})));!(a=c()).done;){var u=a.value;1===(o+="s"===u.type?1:-1)?i=u.time:(i&&+i!=+u.time&&r.push(e.fromDateTimes(i,u.time)),i=null)}return e.merge(r)},t.difference=function(){for(var t=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.xor([this].concat(a)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+" – "+this.e.toISO()+")":un},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):un},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():un},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):un},t.toFormat=function(e,t){var n=(void 0===t?{}:t).separator,a=void 0===n?" – ":n;return this.isValid?""+this.s.toFormat(e)+a+this.e.toFormat(e):un},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):sn.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},a(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),dn=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=et.defaultZone);var t=ca.now().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return Ve.isValidSpecifier(e)&&Ve.isValidZone(e)},e.normalizeZone=function(e){return Je(e,et.defaultZone)},e.months=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,a=n.locale,i=void 0===a?null:a,o=n.numberingSystem,r=void 0===o?null:o,s=n.locObj,c=void 0===s?null:s,u=n.outputCalendar,l=void 0===u?"gregory":u;return(c||lt.create(i,r,l)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,a=n.locale,i=void 0===a?null:a,o=n.numberingSystem,r=void 0===o?null:o,s=n.locObj,c=void 0===s?null:s,u=n.outputCalendar,l=void 0===u?"gregory":u;return(c||lt.create(i,r,l)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,a=n.locale,i=void 0===a?null:a,o=n.numberingSystem,r=void 0===o?null:o,s=n.locObj;return((void 0===s?null:s)||lt.create(i,r,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,a=n.locale,i=void 0===a?null:a,o=n.numberingSystem,r=void 0===o?null:o,s=n.locObj;return((void 0===s?null:s)||lt.create(i,r,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,n=void 0===t?null:t;return lt.create(n).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var n=(void 0===t?{}:t).locale,a=void 0===n?null:n;return lt.create(a,null,"gregory").eras(e)},e.features=function(){var e=!1,t=!1,n=!1,a=!1;if(Z()){e=!0,t=K(),a=Q();try{n="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(e){n=!1}}return{intl:e,intlTokens:t,zones:n,relative:a}},e}();function mn(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},a=n(t)-n(e);return Math.floor(sn.fromMillis(a).as("days"))}var pn={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},fn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gn=pn.hanidec.replace(/[\[|\]]/g,"").split("");function yn(e,t){var n=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+pn[n||"latn"]+t)}function vn(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var n=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);if(-1!==e[n].search(pn.hanidec))t+=gn.indexOf(e[n]);else for(var i in fn){var o=fn[i],r=o[0],s=o[1];a>=r&&a<=s&&(t+=a-r)}}return parseInt(t,10)}return t}(n))}}}var kn="( |"+String.fromCharCode(160)+")",bn=new RegExp(kn,"g");function wn(e){return e.replace(/\./g,"\\.?").replace(bn,kn)}function jn(e){return e.replace(/\./g,"").replace(bn," ").toLowerCase()}function _n(e,t){return null===e?null:{regex:RegExp(e.map(wn).join("|")),deser:function(n){var a=n[0];return e.findIndex((function(e){return jn(a)===jn(e)}))+t}}}function Sn(e,t){return{regex:e,deser:function(e){return de(e[1],e[2])},groups:t}}function Cn(e){return{regex:e,deser:function(e){return e[0]}}}var Tn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Rn=null;function On(e,t,n){var a=function(e,t){var n;return(n=Array.prototype).concat.apply(n,e.map((function(e){return function(e,t){if(e.literal)return e;var n=Pe.macroTokenToFormatOpts(e.val);if(!n)return e;var a=Pe.create(t,n).formatDateTimeParts((Rn||(Rn=ca.fromMillis(1555555555555)),Rn)).map((function(e){return function(e,t,n){var a=e.type,i=e.value;if("literal"===a)return{literal:!0,val:i};var o=n[a],r=Tn[a];return"object"==typeof r&&(r=r[o]),r?{literal:!1,val:r}:void 0}(e,0,n)}));return a.includes(void 0)?e:a}(e,t)})))}(Pe.parseFormat(n),e),i=a.map((function(t){return n=t,i=yn(a=e),o=yn(a,"{2}"),r=yn(a,"{3}"),s=yn(a,"{4}"),c=yn(a,"{6}"),u=yn(a,"{1,2}"),l=yn(a,"{1,3}"),h=yn(a,"{1,6}"),d=yn(a,"{1,9}"),m=yn(a,"{2,4}"),p=yn(a,"{4,6}"),f=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0};var t},g=function(e){if(n.literal)return f(e);switch(e.val){case"G":return _n(a.eras("short",!1),0);case"GG":return _n(a.eras("long",!1),0);case"y":return vn(h);case"yy":case"kk":return vn(m,le);case"yyyy":case"kkkk":return vn(s);case"yyyyy":return vn(p);case"yyyyyy":return vn(c);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return vn(u);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return vn(o);case"MMM":return _n(a.months("short",!0,!1),1);case"MMMM":return _n(a.months("long",!0,!1),1);case"LLL":return _n(a.months("short",!1,!1),1);case"LLLL":return _n(a.months("long",!1,!1),1);case"o":case"S":return vn(l);case"ooo":case"SSS":return vn(r);case"u":return Cn(d);case"a":return _n(a.meridiems(),0);case"E":case"c":return vn(i);case"EEE":return _n(a.weekdays("short",!1,!1),1);case"EEEE":return _n(a.weekdays("long",!1,!1),1);case"ccc":return _n(a.weekdays("short",!0,!1),1);case"cccc":return _n(a.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Sn(new RegExp("([+-]"+u.source+")(?::("+o.source+"))?"),2);case"ZZZ":return Sn(new RegExp("([+-]"+u.source+")("+o.source+")?"),2);case"z":return Cn(/[a-z_+-/]{1,256}?/i);default:return f(e)}}(n)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"},g.token=n,g;var n,a,i,o,r,s,c,u,l,h,d,m,p,f,g})),o=i.find((function(e){return e.invalidReason}));if(o)return{input:t,tokens:a,invalidReason:o.invalidReason};var r=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(i),s=r[0],c=r[1],u=RegExp(s,"i"),l=function(e,t,n){var a=e.match(t);if(a){var i={},o=1;for(var r in n)if(X(n,r)){var s=n[r],c=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(a.slice(o,o+c))),o+=c}return[a,i]}return[a,{}]}(t,u,c),h=l[0],d=l[1],m=d?function(e){var t;return t=H(e.Z)?H(e.z)?null:Ve.create(e.z):new He(e.Z),H(e.q)||(e.M=3*(e.q-1)+1),H(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),H(e.u)||(e.S=ae(e.u)),[Object.keys(e).reduce((function(t,n){var a=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return a&&(t[a]=e[n]),t}),{}),t]}(d):[null,null],p=m[0],f=m[1];if(X(d,"a")&&X(d,"H"))throw new g("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:a,regex:u,rawMatches:h,matches:d,result:p,zone:f}}var En=[0,31,59,90,120,151,181,212,243,273,304,334],In=[0,31,60,91,121,152,182,213,244,274,305,335];function Mn(e,t){return new ze("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function xn(e,t,n){var a=new Date(Date.UTC(e,t-1,n)).getUTCDay();return 0===a?7:a}function An(e,t,n){return n+(oe(e)?In:En)[t-1]}function Pn(e,t){var n=oe(e)?In:En,a=n.findIndex((function(e){return e<t}));return{month:a+1,day:t-n[a]}}function zn(e){var t,n=e.year,a=e.month,i=e.day,o=An(n,a,i),r=xn(n,a,i),s=Math.floor((o-r+10)/7);return s<1?s=ue(t=n-1):s>ue(n)?(t=n+1,s=1):t=n,Object.assign({weekYear:t,weekNumber:s,weekday:r},ge(e))}function Ln(e){var t,n=e.weekYear,a=e.weekNumber,i=e.weekday,o=xn(n,1,4),r=re(n),s=7*a+i-o-3;s<1?s+=re(t=n-1):s>r?(t=n+1,s-=re(n)):t=n;var c=Pn(t,s),u=c.month,l=c.day;return Object.assign({year:t,month:u,day:l},ge(e))}function Dn(e){var t=e.year,n=An(t,e.month,e.day);return Object.assign({year:t,ordinal:n},ge(e))}function Nn(e){var t=e.year,n=Pn(t,e.ordinal),a=n.month,i=n.day;return Object.assign({year:t,month:a,day:i},ge(e))}function Un(e){var t=J(e.year),n=ee(e.month,1,12),a=ee(e.day,1,se(e.year,e.month));return t?n?!a&&Mn("day",e.day):Mn("month",e.month):Mn("year",e.year)}function qn(e){var t=e.hour,n=e.minute,a=e.second,i=e.millisecond,o=ee(t,0,23)||24===t&&0===n&&0===a&&0===i,r=ee(n,0,59),s=ee(a,0,59),c=ee(i,0,999);return o?r?s?!c&&Mn("millisecond",i):Mn("second",a):Mn("minute",n):Mn("hour",t)}var Gn="Invalid DateTime",Fn=864e13;function Vn(e){return new ze("unsupported zone",'the zone "'+e.name+'" is not supported')}function Bn(e){return null===e.weekData&&(e.weekData=zn(e.c)),e.weekData}function Hn(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new ca(Object.assign({},n,t,{old:n}))}function Wn(e,t,n){var a=e-60*t*1e3,i=n.offset(a);if(t===i)return[a,t];a-=60*(i-t)*1e3;var o=n.offset(a);return i===o?[a,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function Jn(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Zn(e,t,n){return Wn(ce(e),t,n)}function Kn(e,t){var n=e.o,a=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=Object.assign({},e.c,{year:a,month:i,day:Math.min(e.c.day,se(a,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),r=sn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=Wn(ce(o),n,e.zone),c=s[0],u=s[1];return 0!==r&&(c+=r,u=e.zone.offset(c)),{ts:c,o:u}}function Qn(e,t,n,a,i){var o=n.setZone,r=n.zone;if(e&&0!==Object.keys(e).length){var s=t||r,c=ca.fromObject(Object.assign(e,n,{zone:s,setZone:void 0}));return o?c:c.setZone(r)}return ca.invalid(new ze("unparsable",'the input "'+i+"\" can't be parsed as "+a))}function $n(e,t,n){return void 0===n&&(n=!0),e.isValid?Pe.create(lt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Yn(e,t){var n=t.suppressSeconds,a=void 0!==n&&n,i=t.suppressMilliseconds,o=void 0!==i&&i,r=t.includeOffset,s=t.includePrefix,c=void 0!==s&&s,u=t.includeZone,l=void 0!==u&&u,h=t.spaceZone,d=void 0!==h&&h,m=t.format,p=void 0===m?"extended":m,f="basic"===p?"HHmm":"HH:mm";a&&0===e.second&&0===e.millisecond||(f+="basic"===p?"ss":":ss",o&&0===e.millisecond||(f+=".SSS")),(l||r)&&d&&(f+=" "),l?f+="z":r&&(f+="basic"===p?"ZZZ":"ZZ");var g=$n(e,f);return c&&(g="T"+g),g}var Xn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ea={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ta={ordinal:1,hour:0,minute:0,second:0,millisecond:0},na=["year","month","day","hour","minute","second","millisecond"],aa=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ia=["year","ordinal","hour","minute","second","millisecond"];function oa(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new y(e);return t}function ra(e,t){for(var n,a=h(na);!(n=a()).done;){var i=n.value;H(e[i])&&(e[i]=Xn[i])}var o=Un(e)||qn(e);if(o)return ca.invalid(o);var r=et.now(),s=Zn(e,t.offset(r),t),c=s[0],u=s[1];return new ca({ts:c,zone:t,o:u})}function sa(e,t,n){var a=!!H(n.round)||n.round,i=function(e,i){return e=ie(e,a||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)},o=function(a){return n.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a)};if(n.unit)return i(o(n.unit),n.unit);for(var r,s=h(n.units);!(r=s()).done;){var c=r.value,u=o(c);if(Math.abs(u)>=1)return i(u,c)}return i(e>t?-0:0,n.units[n.units.length-1])}var ca=function(){function e(e){var t=e.zone||et.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new ze("invalid input"):null)||(t.isValid?null:Vn(t));this.ts=H(e.ts)?et.now():e.ts;var a=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var o=[e.old.c,e.old.o];a=o[0],i=o[1]}else{var r=t.offset(this.ts);a=Jn(this.ts,r),a=(n=Number.isNaN(a.year)?new ze("invalid input"):null)?null:a,i=n?null:r}this._zone=t,this.loc=e.loc||lt.create(),this.invalid=n,this.weekData=null,this.c=a,this.o=i,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(t,n,a,i,o,r,s){return H(t)?e.now():ra({year:t,month:n,day:a,hour:i,minute:o,second:r,millisecond:s},et.defaultZone)},e.utc=function(t,n,a,i,o,r,s){return H(t)?new e({ts:et.now(),zone:He.utcInstance}):ra({year:t,month:n,day:a,hour:i,minute:o,second:r,millisecond:s},He.utcInstance)},e.fromJSDate=function(t,n){void 0===n&&(n={});var a,i=(a=t,"[object Date]"===Object.prototype.toString.call(a)?t.valueOf():NaN);if(Number.isNaN(i))return e.invalid("invalid input");var o=Je(n.zone,et.defaultZone);return o.isValid?new e({ts:i,zone:o,loc:lt.fromObject(n)}):e.invalid(Vn(o))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),W(t))return t<-Fn||t>Fn?e.invalid("Timestamp out of range"):new e({ts:t,zone:Je(n.zone,et.defaultZone),loc:lt.fromObject(n)});throw new v("fromMillis requires a numerical input, but received a "+typeof t+" with value "+t)},e.fromSeconds=function(t,n){if(void 0===n&&(n={}),W(t))return new e({ts:1e3*t,zone:Je(n.zone,et.defaultZone),loc:lt.fromObject(n)});throw new v("fromSeconds requires a numerical input")},e.fromObject=function(t){var n=Je(t.zone,et.defaultZone);if(!n.isValid)return e.invalid(Vn(n));var a=et.now(),i=n.offset(a),o=pe(t,oa,["zone","locale","outputCalendar","numberingSystem"]),r=!H(o.ordinal),s=!H(o.year),c=!H(o.month)||!H(o.day),u=s||c,l=o.weekYear||o.weekNumber,d=lt.fromObject(t);if((u||r)&&l)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&r)throw new g("Can't mix ordinal dates with month/day");var m,p,f=l||o.weekday&&!u,y=Jn(a,i);f?(m=aa,p=ea,y=zn(y)):r?(m=ia,p=ta,y=Dn(y)):(m=na,p=Xn);for(var v,k=!1,b=h(m);!(v=b()).done;){var w=v.value;H(o[w])?o[w]=k?p[w]:y[w]:k=!0}var j=f?function(e){var t=J(e.weekYear),n=ee(e.weekNumber,1,ue(e.weekYear)),a=ee(e.weekday,1,7);return t?n?!a&&Mn("weekday",e.weekday):Mn("week",e.week):Mn("weekYear",e.weekYear)}(o):r?function(e){var t=J(e.year),n=ee(e.ordinal,1,re(e.year));return t?!n&&Mn("ordinal",e.ordinal):Mn("year",e.year)}(o):Un(o),_=j||qn(o);if(_)return e.invalid(_);var S=Zn(f?Ln(o):r?Nn(o):o,i,n),C=new e({ts:S[0],zone:n,o:S[1],loc:d});return o.weekday&&u&&t.weekday!==C.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+o.weekday+" and a date of "+C.toISO()):C},e.fromISO=function(e,t){void 0===t&&(t={});var n=function(e){return mt(e,[qt,Bt],[Gt,Ht],[Ft,Wt],[Vt,Jt])}(e);return Qn(n[0],n[1],t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var n=function(e){return mt(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[At,Pt])}(e);return Qn(n[0],n[1],t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var n=function(e){return mt(e,[zt,Nt],[Lt,Nt],[Dt,Ut])}(e);return Qn(n[0],n[1],t,"HTTP",t)},e.fromFormat=function(t,n,a){if(void 0===a&&(a={}),H(t)||H(n))throw new v("fromFormat requires an input string and a format");var i=a,o=i.locale,r=void 0===o?null:o,s=i.numberingSystem,c=void 0===s?null:s,u=function(e,t,n){var a=On(e,t,n);return[a.result,a.zone,a.invalidReason]}(lt.fromOpts({locale:r,numberingSystem:c,defaultToEN:!0}),t,n),l=u[0],h=u[1],d=u[2];return d?e.invalid(d):Qn(l,h,a,"format "+n,t)},e.fromString=function(t,n,a){return void 0===a&&(a={}),e.fromFormat(t,n,a)},e.fromSQL=function(e,t){void 0===t&&(t={});var n=function(e){return mt(e,[Kt,$t],[Qt,Yt])}(e);return Qn(n[0],n[1],t,"SQL",e)},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new v("need to specify a reason the DateTime is invalid");var a=t instanceof ze?t:new ze(t,n);if(et.throwOnInvalid)throw new m(a);return new e({invalid:a})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOpts=function(e){void 0===e&&(e={});var t=Pe.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(He.instance(e),t)},t.toLocal=function(){return this.setZone(et.defaultZone)},t.setZone=function(t,n){var a=void 0===n?{}:n,i=a.keepLocalTime,o=void 0!==i&&i,r=a.keepCalendarTime,s=void 0!==r&&r;if((t=Je(t,et.defaultZone)).equals(this.zone))return this;if(t.isValid){var c=this.ts;if(o||s){var u=t.offset(this.ts);c=Zn(this.toObject(),u,t)[0]}return Hn(this,{ts:c,zone:t})}return e.invalid(Vn(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,a=t.numberingSystem,i=t.outputCalendar;return Hn(this,{loc:this.loc.clone({locale:n,numberingSystem:a,outputCalendar:i})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,n=pe(e,oa,[]),a=!H(n.weekYear)||!H(n.weekNumber)||!H(n.weekday),i=!H(n.ordinal),o=!H(n.year),r=!H(n.month)||!H(n.day),s=o||r,c=n.weekYear||n.weekNumber;if((s||i)&&c)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(r&&i)throw new g("Can't mix ordinal dates with month/day");a?t=Ln(Object.assign(zn(this.c),n)):H(n.ordinal)?(t=Object.assign(this.toObject(),n),H(n.day)&&(t.day=Math.min(se(t.year,t.month),t.day))):t=Nn(Object.assign(Dn(this.c),n));var u=Zn(t,this.o,this.zone);return Hn(this,{ts:u[0],o:u[1]})},t.plus=function(e){return this.isValid?Hn(this,Kn(this,cn(e))):this},t.minus=function(e){return this.isValid?Hn(this,Kn(this,cn(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this;var t={},n=sn.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){var a=Math.ceil(this.month/3);t.month=3*(a-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Pe.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Gn},t.toLocaleString=function(e){return void 0===e&&(e=_),this.isValid?Pe.create(this.loc.clone(e),e).formatDateTime(this):Gn},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Pe.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){return void 0===e&&(e={}),this.isValid?this.toISODate(e)+"T"+this.toISOTime(e):null},t.toISODate=function(e){var t=(void 0===e?{}:e).format,n="basic"===(void 0===t?"extended":t)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(n="+"+n),$n(this,n)},t.toISOWeekDate=function(){return $n(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,n=t.suppressMilliseconds,a=void 0!==n&&n,i=t.suppressSeconds,o=void 0!==i&&i,r=t.includeOffset,s=void 0===r||r,c=t.includePrefix,u=void 0!==c&&c,l=t.format;return Yn(this,{suppressSeconds:o,suppressMilliseconds:a,includeOffset:s,includePrefix:u,format:void 0===l?"extended":l})},t.toRFC2822=function(){return $n(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return $n(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return $n(this,"yyyy-MM-dd")},t.toSQLTime=function(e){var t=void 0===e?{}:e,n=t.includeOffset,a=void 0===n||n,i=t.includeZone;return Yn(this,{includeOffset:a,includeZone:void 0!==i&&i,spaceZone:!0})},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():Gn},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,n){if(void 0===t&&(t="milliseconds"),void 0===n&&(n={}),!this.isValid||!e.isValid)return sn.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");var a,i=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},n),o=(a=t,Array.isArray(a)?a:[a]).map(sn.normalizeUnit),r=e.valueOf()>this.valueOf(),s=function(e,t,n,a){var i,o=function(e,t,n){for(var a,i,o={},r=0,s=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=mn(e,t);return(n-n%7)/7}],["days",mn]];r<s.length;r++){var c=s[r],u=c[0],l=c[1];if(n.indexOf(u)>=0){var h;a=u;var d,m=l(e,t);(i=e.plus(((h={})[u]=m,h)))>t?(e=e.plus(((d={})[u]=m-1,d)),m-=1):e=i,o[u]=m}}return[e,o,i,a]}(e,t,n),r=o[0],s=o[1],c=o[2],u=o[3],l=t-r,h=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));0===h.length&&(c<t&&(c=r.plus(((i={})[u]=1,i))),c!==r&&(s[u]=(s[u]||0)+l/(c-r)));var d,m=sn.fromObject(Object.assign(s,a));return h.length>0?(d=sn.fromMillis(l,a)).shiftTo.apply(d,h).plus(m):m}(r?this:e,r?e:this,o,i);return r?s.negate():s},t.diffNow=function(t,n){return void 0===t&&(t="milliseconds"),void 0===n&&(n={}),this.diff(e.now(),t,n)},t.until=function(e){return this.isValid?hn.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(t)<=n&&n<=a.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var n=t.base||e.fromObject({zone:this.zone}),a=t.padding?this<n?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),sa(n,this.plus(a),Object.assign(t,{numeric:"always",units:i,unit:o}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?sa(t.base||e.fromObject({zone:this.zone}),this,Object.assign(t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.every(e.isDateTime))throw new v("min requires all arguments be DateTimes");return $(n,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.every(e.isDateTime))throw new v("max requires all arguments be DateTimes");return $(n,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,n){void 0===n&&(n={});var a=n,i=a.locale,o=void 0===i?null:i,r=a.numberingSystem,s=void 0===r?null:r;return On(lt.fromOpts({locale:o,numberingSystem:s,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,n,a){return void 0===a&&(a={}),e.fromFormatExplain(t,n,a)},a(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Bn(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Bn(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Bn(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Dn(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?dn.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?dn.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?dn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?dn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return oe(this.year)}},{key:"daysInMonth",get:function(){return se(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?re(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?ue(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return _}},{key:"DATE_MED",get:function(){return S}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return C}},{key:"DATE_FULL",get:function(){return T}},{key:"DATE_HUGE",get:function(){return R}},{key:"TIME_SIMPLE",get:function(){return O}},{key:"TIME_WITH_SECONDS",get:function(){return E}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return I}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return M}},{key:"TIME_24_SIMPLE",get:function(){return x}},{key:"TIME_24_WITH_SECONDS",get:function(){return A}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return P}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return z}},{key:"DATETIME_SHORT",get:function(){return L}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return D}},{key:"DATETIME_MED",get:function(){return N}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return U}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return q}},{key:"DATETIME_FULL",get:function(){return G}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return F}},{key:"DATETIME_HUGE",get:function(){return V}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return B}}]),e}();function ua(e){if(ca.isDateTime(e))return e;if(e&&e.valueOf&&W(e.valueOf()))return ca.fromJSDate(e);if(e&&"object"==typeof e)return ca.fromObject(e);throw new v("Unknown datetime argument: "+e+", of type "+typeof e)}t.ou=ca},891:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,a,i){n=n||"&",a=a||"=";var o={};if("string"!=typeof e||0===e.length)return o;var r=/\+/g;e=e.split(n);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,h,d,m,p=e[u].replace(r,"%20"),f=p.indexOf(a);f>=0?(l=p.substr(0,f),h=p.substr(f+1)):(l=p,h=""),d=decodeURIComponent(l),m=decodeURIComponent(h),t(o,d)?Array.isArray(o[d])?o[d].push(m):o[d]=[o[d],m]:o[d]=m}return o}},418:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,a,i){return n=n||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+a;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+a+encodeURIComponent(t(e)):""}},320:(e,t,n)=>{"use strict";t.decode=t.parse=n(891),t.encode=t.stringify=n(418)},461:(e,t,n)=>{"use strict";var a=n(143),i=null,o=function(e,t){let a=t&&t.allowPrivateTLD||!1,o=t&&t.allowUnknownTLD||!1;i||((i=n(481)).combined=Object.assign({},i.icann,i.private));for(var r,s=e.split("."),c="",u=-1,l=a?i.combined:i.icann,h=s.length-1;h>=0;h--)r=s[h],l[c=c?r+"."+c:r]&&(u=l[c]);if(-1==u&&o&&(u=1),s.length<=u||-1==u)throw new Error("Invalid TLD "+JSON.stringify({parts:s,tld_level:u,allowUnknownTLD:o}));return{tld:s.slice(-u).join("."),domain:s.slice(-u-1).join("."),sub:s.slice(0,-u-1).join(".")}};e.exports=function(e,t){return"string"==typeof e&&(e=a.parse(e)),o(e.hostname,t)},e.exports.parse_host=o},677:function(e,t,n){var a;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var r,s=2147483647,c=36,u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,p=String.fromCharCode;function f(e){throw RangeError(d[e])}function g(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function y(e,t){var n=e.split("@"),a="";return n.length>1&&(a=n[0]+"@",e=n[1]),a+g((e=e.replace(h,".")).split("."),t).join(".")}function v(e){for(var t,n,a=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function k(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var a=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;a+=c)e=m(e/35);return m(a+36*e/(e+38))}function j(e){var t,n,a,i,o,r,u,l,h,d,p,g=[],y=e.length,v=0,b=128,j=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)e.charCodeAt(a)>=128&&f("not-basic"),g.push(e.charCodeAt(a));for(i=n>0?n+1:0;i<y;){for(o=v,r=1,u=c;i>=y&&f("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||l>m((s-v)/r))&&f("overflow"),v+=l*r,!(l<(h=u<=j?1:u>=j+26?26:u-j));u+=c)r>m(s/(d=c-h))&&f("overflow"),r*=d;j=w(v-o,t=g.length+1,0==o),m(v/t)>s-b&&f("overflow"),b+=m(v/t),v%=t,g.splice(v++,0,b)}return k(g)}function _(e){var t,n,a,i,o,r,u,l,h,d,g,y,k,j,_,S=[];for(y=(e=v(e)).length,t=128,n=0,o=72,r=0;r<y;++r)(g=e[r])<128&&S.push(p(g));for(a=i=S.length,i&&S.push("-");a<y;){for(u=s,r=0;r<y;++r)(g=e[r])>=t&&g<u&&(u=g);for(u-t>m((s-n)/(k=a+1))&&f("overflow"),n+=(u-t)*k,t=u,r=0;r<y;++r)if((g=e[r])<t&&++n>s&&f("overflow"),g==t){for(l=n,h=c;!(l<(d=h<=o?1:h>=o+26?26:h-o));h+=c)_=l-d,j=c-d,S.push(p(b(d+_%j,0))),l=m(_/j);S.push(p(b(l,0))),o=w(n,k,a==i),n=0,++a}++n,++t}return S.join("")}r={version:"1.3.2",ucs2:{decode:v,encode:k},decode:j,encode:_,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return y(e,(function(e){return u.test(e)?j(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a)}()},143:(e,t,n)=>{"use strict";var a=n(677),i=n(751);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=k,t.resolve=function(e,t){return k(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?k(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=k(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var r=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),d=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(320);function k(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var a=new o;return a.parse(e,t,n),a}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var k=e=u.join(s);if(k=k.trim(),!n&&1===e.split("#").length){var b=c.exec(k);if(b)return this.path=k,this.href=k,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=r.exec(k);if(w){var j=(w=w[0]).toLowerCase();this.protocol=j,k=k.substr(w.length)}if(n||w||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===k.substr(0,2);!_||w&&g[w]||(k=k.substr(2),this.slashes=!0)}if(!g[w]&&(_||w&&!y[w])){for(var S,C,T=-1,R=0;R<d.length;R++)-1!==(O=k.indexOf(d[R]))&&(-1===T||O<T)&&(T=O);for(-1!==(C=-1===T?k.lastIndexOf("@"):k.lastIndexOf("@",T))&&(S=k.slice(0,C),k=k.slice(C+1),this.auth=decodeURIComponent(S)),T=-1,R=0;R<h.length;R++){var O;-1!==(O=k.indexOf(h[R]))&&(-1===T||O<T)&&(T=O)}-1===T&&(T=k.length),this.host=k.slice(0,T),k=k.slice(T),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var I=this.hostname.split(/\./),M=(R=0,I.length);R<M;R++){var x=I[R];if(x&&!x.match(m)){for(var A="",P=0,z=x.length;P<z;P++)x.charCodeAt(P)>127?A+="x":A+=x[P];if(!A.match(m)){var L=I.slice(0,R),D=I.slice(R+1),N=x.match(p);N&&(L.push(N[1]),D.unshift(N[2])),D.length&&(k="/"+D.join(".")+k),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=a.toASCII(this.hostname));var U=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+U,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==k[0]&&(k="/"+k))}if(!f[j])for(R=0,M=l.length;R<M;R++){var G=l[R];if(-1!==k.indexOf(G)){var F=encodeURIComponent(G);F===G&&(F=escape(G)),k=k.split(G).join(F)}}var V=k.indexOf("#");-1!==V&&(this.hash=k.substr(V),k=k.slice(0,V));var B=k.indexOf("?");if(-1!==B?(this.search=k.substr(B),this.query=k.substr(B+1),t&&(this.query=v.parse(this.query)),k=k.slice(0,B)):t&&(this.search="",this.query={}),k&&(this.pathname=k),y[j]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var H=this.search||"";this.path=U+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",a=this.hash||"",o=!1,r="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(r=v.stringify(this.query));var s=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),a&&"#"!==a.charAt(0)&&(a="#"+a),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+a},o.prototype.resolve=function(e){return this.resolveObject(k(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,a=Object.keys(this),r=0;r<a.length;r++){var s=a[r];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var m=h[d];n[m]=e[m]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",v=n.search||"";n.path=f+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var k=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||k||n.host&&e.pathname,j=w,_=n.pathname&&n.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===_[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=_.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=_.slice(-1)[0],T=(n.host||e.host||_.length>1)&&("."===C||".."===C)||""===C,R=0,O=_.length;O>=0;O--)"."===(C=_[O])?_.splice(O,1):".."===C?(_.splice(O,1),R++):R&&(_.splice(O,1),R--);if(!w&&!j)for(;R--;R)_.unshift("..");!w||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),T&&"/"!==_.join("/").substr(-1)&&_.push("");var E,I=""===_[0]||_[0]&&"/"===_[0].charAt(0);return S&&(n.hostname=n.host=I?"":_.length?_.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift())),(w=w||n.host&&_.length)&&!I&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},751:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},481:e=>{"use strict";e.exports=JSON.parse('{"icann":{"ac":1,"com.ac":2,"edu.ac":2,"gov.ac":2,"net.ac":2,"mil.ac":2,"org.ac":2,"ad":1,"nom.ad":2,"ae":1,"co.ae":2,"net.ae":2,"org.ae":2,"sch.ae":2,"ac.ae":2,"gov.ae":2,"mil.ae":2,"aero":1,"accident-investigation.aero":2,"accident-prevention.aero":2,"aerobatic.aero":2,"aeroclub.aero":2,"aerodrome.aero":2,"agents.aero":2,"aircraft.aero":2,"airline.aero":2,"airport.aero":2,"air-surveillance.aero":2,"airtraffic.aero":2,"air-traffic-control.aero":2,"ambulance.aero":2,"amusement.aero":2,"association.aero":2,"author.aero":2,"ballooning.aero":2,"broker.aero":2,"caa.aero":2,"cargo.aero":2,"catering.aero":2,"certification.aero":2,"championship.aero":2,"charter.aero":2,"civilaviation.aero":2,"club.aero":2,"conference.aero":2,"consultant.aero":2,"consulting.aero":2,"control.aero":2,"council.aero":2,"crew.aero":2,"design.aero":2,"dgca.aero":2,"educator.aero":2,"emergency.aero":2,"engine.aero":2,"engineer.aero":2,"entertainment.aero":2,"equipment.aero":2,"exchange.aero":2,"express.aero":2,"federation.aero":2,"flight.aero":2,"fuel.aero":2,"gliding.aero":2,"government.aero":2,"groundhandling.aero":2,"group.aero":2,"hanggliding.aero":2,"homebuilt.aero":2,"insurance.aero":2,"journal.aero":2,"journalist.aero":2,"leasing.aero":2,"logistics.aero":2,"magazine.aero":2,"maintenance.aero":2,"media.aero":2,"microlight.aero":2,"modelling.aero":2,"navigation.aero":2,"parachuting.aero":2,"paragliding.aero":2,"passenger-association.aero":2,"pilot.aero":2,"press.aero":2,"production.aero":2,"recreation.aero":2,"repbody.aero":2,"res.aero":2,"research.aero":2,"rotorcraft.aero":2,"safety.aero":2,"scientist.aero":2,"services.aero":2,"show.aero":2,"skydiving.aero":2,"software.aero":2,"student.aero":2,"trader.aero":2,"trading.aero":2,"trainer.aero":2,"union.aero":2,"workinggroup.aero":2,"works.aero":2,"af":1,"gov.af":2,"com.af":2,"org.af":2,"net.af":2,"edu.af":2,"ag":1,"com.ag":2,"org.ag":2,"net.ag":2,"co.ag":2,"nom.ag":2,"ai":1,"off.ai":2,"com.ai":2,"net.ai":2,"org.ai":2,"al":1,"com.al":2,"edu.al":2,"gov.al":2,"mil.al":2,"net.al":2,"org.al":2,"am":1,"co.am":2,"com.am":2,"commune.am":2,"net.am":2,"org.am":2,"ao":1,"ed.ao":2,"gv.ao":2,"og.ao":2,"co.ao":2,"pb.ao":2,"it.ao":2,"aq":1,"ar":1,"com.ar":2,"edu.ar":2,"gob.ar":2,"gov.ar":2,"int.ar":2,"mil.ar":2,"musica.ar":2,"net.ar":2,"org.ar":2,"tur.ar":2,"arpa":1,"e164.arpa":2,"in-addr.arpa":2,"ip6.arpa":2,"iris.arpa":2,"uri.arpa":2,"urn.arpa":2,"as":1,"gov.as":2,"asia":1,"at":1,"ac.at":2,"co.at":2,"gv.at":2,"or.at":2,"sth.ac.at":3,"au":1,"com.au":2,"net.au":2,"org.au":2,"edu.au":2,"gov.au":2,"asn.au":2,"id.au":2,"info.au":2,"conf.au":2,"oz.au":2,"act.au":2,"nsw.au":2,"nt.au":2,"qld.au":2,"sa.au":2,"tas.au":2,"vic.au":2,"wa.au":2,"act.edu.au":3,"catholic.edu.au":3,"nsw.edu.au":3,"nt.edu.au":3,"qld.edu.au":3,"sa.edu.au":3,"tas.edu.au":3,"vic.edu.au":3,"wa.edu.au":3,"qld.gov.au":3,"sa.gov.au":3,"tas.gov.au":3,"vic.gov.au":3,"wa.gov.au":3,"schools.nsw.edu.au":4,"aw":1,"com.aw":2,"ax":1,"az":1,"com.az":2,"net.az":2,"int.az":2,"gov.az":2,"org.az":2,"edu.az":2,"info.az":2,"pp.az":2,"mil.az":2,"name.az":2,"pro.az":2,"biz.az":2,"ba":1,"com.ba":2,"edu.ba":2,"gov.ba":2,"mil.ba":2,"net.ba":2,"org.ba":2,"bb":1,"biz.bb":2,"co.bb":2,"com.bb":2,"edu.bb":2,"gov.bb":2,"info.bb":2,"net.bb":2,"org.bb":2,"store.bb":2,"tv.bb":2,"bd":2,"be":1,"ac.be":2,"bf":1,"gov.bf":2,"bg":1,"a.bg":2,"b.bg":2,"c.bg":2,"d.bg":2,"e.bg":2,"f.bg":2,"g.bg":2,"h.bg":2,"i.bg":2,"j.bg":2,"k.bg":2,"l.bg":2,"m.bg":2,"n.bg":2,"o.bg":2,"p.bg":2,"q.bg":2,"r.bg":2,"s.bg":2,"t.bg":2,"u.bg":2,"v.bg":2,"w.bg":2,"x.bg":2,"y.bg":2,"z.bg":2,"0.bg":2,"1.bg":2,"2.bg":2,"3.bg":2,"4.bg":2,"5.bg":2,"6.bg":2,"7.bg":2,"8.bg":2,"9.bg":2,"bh":1,"com.bh":2,"edu.bh":2,"net.bh":2,"org.bh":2,"gov.bh":2,"bi":1,"co.bi":2,"com.bi":2,"edu.bi":2,"or.bi":2,"org.bi":2,"biz":1,"bj":1,"asso.bj":2,"barreau.bj":2,"gouv.bj":2,"bm":1,"com.bm":2,"edu.bm":2,"gov.bm":2,"net.bm":2,"org.bm":2,"bn":1,"com.bn":2,"edu.bn":2,"gov.bn":2,"net.bn":2,"org.bn":2,"bo":1,"com.bo":2,"edu.bo":2,"gob.bo":2,"int.bo":2,"org.bo":2,"net.bo":2,"mil.bo":2,"tv.bo":2,"web.bo":2,"academia.bo":2,"agro.bo":2,"arte.bo":2,"blog.bo":2,"bolivia.bo":2,"ciencia.bo":2,"cooperativa.bo":2,"democracia.bo":2,"deporte.bo":2,"ecologia.bo":2,"economia.bo":2,"empresa.bo":2,"indigena.bo":2,"industria.bo":2,"info.bo":2,"medicina.bo":2,"movimiento.bo":2,"musica.bo":2,"natural.bo":2,"nombre.bo":2,"noticias.bo":2,"patria.bo":2,"politica.bo":2,"profesional.bo":2,"plurinacional.bo":2,"pueblo.bo":2,"revista.bo":2,"salud.bo":2,"tecnologia.bo":2,"tksat.bo":2,"transporte.bo":2,"wiki.bo":2,"br":1,"9guacu.br":2,"abc.br":2,"adm.br":2,"adv.br":2,"agr.br":2,"aju.br":2,"am.br":2,"anani.br":2,"aparecida.br":2,"app.br":2,"arq.br":2,"art.br":2,"ato.br":2,"b.br":2,"barueri.br":2,"belem.br":2,"bhz.br":2,"bib.br":2,"bio.br":2,"blog.br":2,"bmd.br":2,"boavista.br":2,"bsb.br":2,"campinagrande.br":2,"campinas.br":2,"caxias.br":2,"cim.br":2,"cng.br":2,"cnt.br":2,"com.br":2,"contagem.br":2,"coop.br":2,"coz.br":2,"cri.br":2,"cuiaba.br":2,"curitiba.br":2,"def.br":2,"des.br":2,"det.br":2,"dev.br":2,"ecn.br":2,"eco.br":2,"edu.br":2,"emp.br":2,"enf.br":2,"eng.br":2,"esp.br":2,"etc.br":2,"eti.br":2,"far.br":2,"feira.br":2,"flog.br":2,"floripa.br":2,"fm.br":2,"fnd.br":2,"fortal.br":2,"fot.br":2,"foz.br":2,"fst.br":2,"g12.br":2,"geo.br":2,"ggf.br":2,"goiania.br":2,"gov.br":2,"ac.gov.br":3,"al.gov.br":3,"am.gov.br":3,"ap.gov.br":3,"ba.gov.br":3,"ce.gov.br":3,"df.gov.br":3,"es.gov.br":3,"go.gov.br":3,"ma.gov.br":3,"mg.gov.br":3,"ms.gov.br":3,"mt.gov.br":3,"pa.gov.br":3,"pb.gov.br":3,"pe.gov.br":3,"pi.gov.br":3,"pr.gov.br":3,"rj.gov.br":3,"rn.gov.br":3,"ro.gov.br":3,"rr.gov.br":3,"rs.gov.br":3,"sc.gov.br":3,"se.gov.br":3,"sp.gov.br":3,"to.gov.br":3,"gru.br":2,"imb.br":2,"ind.br":2,"inf.br":2,"jab.br":2,"jampa.br":2,"jdf.br":2,"joinville.br":2,"jor.br":2,"jus.br":2,"leg.br":2,"lel.br":2,"log.br":2,"londrina.br":2,"macapa.br":2,"maceio.br":2,"manaus.br":2,"maringa.br":2,"mat.br":2,"med.br":2,"mil.br":2,"morena.br":2,"mp.br":2,"mus.br":2,"natal.br":2,"net.br":2,"niteroi.br":2,"nom.br":3,"not.br":2,"ntr.br":2,"odo.br":2,"ong.br":2,"org.br":2,"osasco.br":2,"palmas.br":2,"poa.br":2,"ppg.br":2,"pro.br":2,"psc.br":2,"psi.br":2,"pvh.br":2,"qsl.br":2,"radio.br":2,"rec.br":2,"recife.br":2,"rep.br":2,"ribeirao.br":2,"rio.br":2,"riobranco.br":2,"riopreto.br":2,"salvador.br":2,"sampa.br":2,"santamaria.br":2,"santoandre.br":2,"saobernardo.br":2,"saogonca.br":2,"seg.br":2,"sjc.br":2,"slg.br":2,"slz.br":2,"sorocaba.br":2,"srv.br":2,"taxi.br":2,"tc.br":2,"tec.br":2,"teo.br":2,"the.br":2,"tmp.br":2,"trd.br":2,"tur.br":2,"tv.br":2,"udi.br":2,"vet.br":2,"vix.br":2,"vlog.br":2,"wiki.br":2,"zlg.br":2,"bs":1,"com.bs":2,"net.bs":2,"org.bs":2,"edu.bs":2,"gov.bs":2,"bt":1,"com.bt":2,"edu.bt":2,"gov.bt":2,"net.bt":2,"org.bt":2,"bv":1,"bw":1,"co.bw":2,"org.bw":2,"by":1,"gov.by":2,"mil.by":2,"com.by":2,"of.by":2,"bz":1,"com.bz":2,"net.bz":2,"org.bz":2,"edu.bz":2,"gov.bz":2,"ca":1,"ab.ca":2,"bc.ca":2,"mb.ca":2,"nb.ca":2,"nf.ca":2,"nl.ca":2,"ns.ca":2,"nt.ca":2,"nu.ca":2,"on.ca":2,"pe.ca":2,"qc.ca":2,"sk.ca":2,"yk.ca":2,"gc.ca":2,"cat":1,"cc":1,"cd":1,"gov.cd":2,"cf":1,"cg":1,"ch":1,"ci":1,"org.ci":2,"or.ci":2,"com.ci":2,"co.ci":2,"edu.ci":2,"ed.ci":2,"ac.ci":2,"net.ci":2,"go.ci":2,"asso.ci":2,"aéroport.ci":2,"int.ci":2,"presse.ci":2,"md.ci":2,"gouv.ci":2,"ck":2,"www.ck":1,"cl":1,"aprendemas.cl":2,"co.cl":2,"gob.cl":2,"gov.cl":2,"mil.cl":2,"cm":1,"co.cm":2,"com.cm":2,"gov.cm":2,"net.cm":2,"cn":1,"ac.cn":2,"com.cn":2,"edu.cn":2,"gov.cn":2,"net.cn":2,"org.cn":2,"mil.cn":2,"公司.cn":2,"网络.cn":2,"網絡.cn":2,"ah.cn":2,"bj.cn":2,"cq.cn":2,"fj.cn":2,"gd.cn":2,"gs.cn":2,"gz.cn":2,"gx.cn":2,"ha.cn":2,"hb.cn":2,"he.cn":2,"hi.cn":2,"hl.cn":2,"hn.cn":2,"jl.cn":2,"js.cn":2,"jx.cn":2,"ln.cn":2,"nm.cn":2,"nx.cn":2,"qh.cn":2,"sc.cn":2,"sd.cn":2,"sh.cn":2,"sn.cn":2,"sx.cn":2,"tj.cn":2,"xj.cn":2,"xz.cn":2,"yn.cn":2,"zj.cn":2,"hk.cn":2,"mo.cn":2,"tw.cn":2,"co":1,"arts.co":2,"com.co":2,"edu.co":2,"firm.co":2,"gov.co":2,"info.co":2,"int.co":2,"mil.co":2,"net.co":2,"nom.co":2,"org.co":2,"rec.co":2,"web.co":2,"com":1,"coop":1,"cr":1,"ac.cr":2,"co.cr":2,"ed.cr":2,"fi.cr":2,"go.cr":2,"or.cr":2,"sa.cr":2,"cu":1,"com.cu":2,"edu.cu":2,"org.cu":2,"net.cu":2,"gov.cu":2,"inf.cu":2,"cv":1,"cw":1,"com.cw":2,"edu.cw":2,"net.cw":2,"org.cw":2,"cx":1,"gov.cx":2,"cy":1,"ac.cy":2,"biz.cy":2,"com.cy":2,"ekloges.cy":2,"gov.cy":2,"ltd.cy":2,"name.cy":2,"net.cy":2,"org.cy":2,"parliament.cy":2,"press.cy":2,"pro.cy":2,"tm.cy":2,"cz":1,"de":1,"dj":1,"dk":1,"dm":1,"com.dm":2,"net.dm":2,"org.dm":2,"edu.dm":2,"gov.dm":2,"do":1,"art.do":2,"com.do":2,"edu.do":2,"gob.do":2,"gov.do":2,"mil.do":2,"net.do":2,"org.do":2,"sld.do":2,"web.do":2,"dz":1,"art.dz":2,"asso.dz":2,"com.dz":2,"edu.dz":2,"gov.dz":2,"org.dz":2,"net.dz":2,"pol.dz":2,"soc.dz":2,"tm.dz":2,"ec":1,"com.ec":2,"info.ec":2,"net.ec":2,"fin.ec":2,"k12.ec":2,"med.ec":2,"pro.ec":2,"org.ec":2,"edu.ec":2,"gov.ec":2,"gob.ec":2,"mil.ec":2,"edu":1,"ee":1,"edu.ee":2,"gov.ee":2,"riik.ee":2,"lib.ee":2,"med.ee":2,"com.ee":2,"pri.ee":2,"aip.ee":2,"org.ee":2,"fie.ee":2,"eg":1,"com.eg":2,"edu.eg":2,"eun.eg":2,"gov.eg":2,"mil.eg":2,"name.eg":2,"net.eg":2,"org.eg":2,"sci.eg":2,"er":2,"es":1,"com.es":2,"nom.es":2,"org.es":2,"gob.es":2,"edu.es":2,"et":1,"com.et":2,"gov.et":2,"org.et":2,"edu.et":2,"biz.et":2,"name.et":2,"info.et":2,"net.et":2,"eu":1,"fi":1,"aland.fi":2,"fj":1,"ac.fj":2,"biz.fj":2,"com.fj":2,"gov.fj":2,"info.fj":2,"mil.fj":2,"name.fj":2,"net.fj":2,"org.fj":2,"pro.fj":2,"fk":2,"com.fm":2,"edu.fm":2,"net.fm":2,"org.fm":2,"fm":1,"fo":1,"fr":1,"asso.fr":2,"com.fr":2,"gouv.fr":2,"nom.fr":2,"prd.fr":2,"tm.fr":2,"aeroport.fr":2,"avocat.fr":2,"avoues.fr":2,"cci.fr":2,"chambagri.fr":2,"chirurgiens-dentistes.fr":2,"experts-comptables.fr":2,"geometre-expert.fr":2,"greta.fr":2,"huissier-justice.fr":2,"medecin.fr":2,"notaires.fr":2,"pharmacien.fr":2,"port.fr":2,"veterinaire.fr":2,"ga":1,"gb":1,"edu.gd":2,"gov.gd":2,"gd":1,"ge":1,"com.ge":2,"edu.ge":2,"gov.ge":2,"org.ge":2,"mil.ge":2,"net.ge":2,"pvt.ge":2,"gf":1,"gg":1,"co.gg":2,"net.gg":2,"org.gg":2,"gh":1,"com.gh":2,"edu.gh":2,"gov.gh":2,"org.gh":2,"mil.gh":2,"gi":1,"com.gi":2,"ltd.gi":2,"gov.gi":2,"mod.gi":2,"edu.gi":2,"org.gi":2,"gl":1,"co.gl":2,"com.gl":2,"edu.gl":2,"net.gl":2,"org.gl":2,"gm":1,"gn":1,"ac.gn":2,"com.gn":2,"edu.gn":2,"gov.gn":2,"org.gn":2,"net.gn":2,"gov":1,"gp":1,"com.gp":2,"net.gp":2,"mobi.gp":2,"edu.gp":2,"org.gp":2,"asso.gp":2,"gq":1,"gr":1,"com.gr":2,"edu.gr":2,"net.gr":2,"org.gr":2,"gov.gr":2,"gs":1,"gt":1,"com.gt":2,"edu.gt":2,"gob.gt":2,"ind.gt":2,"mil.gt":2,"net.gt":2,"org.gt":2,"gu":1,"com.gu":2,"edu.gu":2,"gov.gu":2,"guam.gu":2,"info.gu":2,"net.gu":2,"org.gu":2,"web.gu":2,"gw":1,"gy":1,"co.gy":2,"com.gy":2,"edu.gy":2,"gov.gy":2,"net.gy":2,"org.gy":2,"hk":1,"com.hk":2,"edu.hk":2,"gov.hk":2,"idv.hk":2,"net.hk":2,"org.hk":2,"公司.hk":2,"教育.hk":2,"敎育.hk":2,"政府.hk":2,"個人.hk":2,"个人.hk":2,"箇人.hk":2,"網络.hk":2,"网络.hk":2,"组織.hk":2,"網絡.hk":2,"网絡.hk":2,"组织.hk":2,"組織.hk":2,"組织.hk":2,"hm":1,"hn":1,"com.hn":2,"edu.hn":2,"org.hn":2,"net.hn":2,"mil.hn":2,"gob.hn":2,"hr":1,"iz.hr":2,"from.hr":2,"name.hr":2,"com.hr":2,"ht":1,"com.ht":2,"shop.ht":2,"firm.ht":2,"info.ht":2,"adult.ht":2,"net.ht":2,"pro.ht":2,"org.ht":2,"med.ht":2,"art.ht":2,"coop.ht":2,"pol.ht":2,"asso.ht":2,"edu.ht":2,"rel.ht":2,"gouv.ht":2,"perso.ht":2,"hu":1,"co.hu":2,"info.hu":2,"org.hu":2,"priv.hu":2,"sport.hu":2,"tm.hu":2,"2000.hu":2,"agrar.hu":2,"bolt.hu":2,"casino.hu":2,"city.hu":2,"erotica.hu":2,"erotika.hu":2,"film.hu":2,"forum.hu":2,"games.hu":2,"hotel.hu":2,"ingatlan.hu":2,"jogasz.hu":2,"konyvelo.hu":2,"lakas.hu":2,"media.hu":2,"news.hu":2,"reklam.hu":2,"sex.hu":2,"shop.hu":2,"suli.hu":2,"szex.hu":2,"tozsde.hu":2,"utazas.hu":2,"video.hu":2,"id":1,"ac.id":2,"biz.id":2,"co.id":2,"desa.id":2,"go.id":2,"mil.id":2,"my.id":2,"net.id":2,"or.id":2,"ponpes.id":2,"sch.id":2,"web.id":2,"ie":1,"gov.ie":2,"il":1,"ac.il":2,"co.il":2,"gov.il":2,"idf.il":2,"k12.il":2,"muni.il":2,"net.il":2,"org.il":2,"im":1,"ac.im":2,"co.im":2,"com.im":2,"ltd.co.im":3,"net.im":2,"org.im":2,"plc.co.im":3,"tt.im":2,"tv.im":2,"in":1,"co.in":2,"firm.in":2,"net.in":2,"org.in":2,"gen.in":2,"ind.in":2,"nic.in":2,"ac.in":2,"edu.in":2,"res.in":2,"gov.in":2,"mil.in":2,"info":1,"int":1,"eu.int":2,"io":1,"com.io":2,"iq":1,"gov.iq":2,"edu.iq":2,"mil.iq":2,"com.iq":2,"org.iq":2,"net.iq":2,"ir":1,"ac.ir":2,"co.ir":2,"gov.ir":2,"id.ir":2,"net.ir":2,"org.ir":2,"sch.ir":2,"ایران.ir":2,"ايران.ir":2,"is":1,"net.is":2,"com.is":2,"edu.is":2,"gov.is":2,"org.is":2,"int.is":2,"it":1,"gov.it":2,"edu.it":2,"abr.it":2,"abruzzo.it":2,"aosta-valley.it":2,"aostavalley.it":2,"bas.it":2,"basilicata.it":2,"cal.it":2,"calabria.it":2,"cam.it":2,"campania.it":2,"emilia-romagna.it":2,"emiliaromagna.it":2,"emr.it":2,"friuli-v-giulia.it":2,"friuli-ve-giulia.it":2,"friuli-vegiulia.it":2,"friuli-venezia-giulia.it":2,"friuli-veneziagiulia.it":2,"friuli-vgiulia.it":2,"friuliv-giulia.it":2,"friulive-giulia.it":2,"friulivegiulia.it":2,"friulivenezia-giulia.it":2,"friuliveneziagiulia.it":2,"friulivgiulia.it":2,"fvg.it":2,"laz.it":2,"lazio.it":2,"lig.it":2,"liguria.it":2,"lom.it":2,"lombardia.it":2,"lombardy.it":2,"lucania.it":2,"mar.it":2,"marche.it":2,"mol.it":2,"molise.it":2,"piedmont.it":2,"piemonte.it":2,"pmn.it":2,"pug.it":2,"puglia.it":2,"sar.it":2,"sardegna.it":2,"sardinia.it":2,"sic.it":2,"sicilia.it":2,"sicily.it":2,"taa.it":2,"tos.it":2,"toscana.it":2,"trentin-sud-tirol.it":2,"trentin-süd-tirol.it":2,"trentin-sudtirol.it":2,"trentin-südtirol.it":2,"trentin-sued-tirol.it":2,"trentin-suedtirol.it":2,"trentino-a-adige.it":2,"trentino-aadige.it":2,"trentino-alto-adige.it":2,"trentino-altoadige.it":2,"trentino-s-tirol.it":2,"trentino-stirol.it":2,"trentino-sud-tirol.it":2,"trentino-süd-tirol.it":2,"trentino-sudtirol.it":2,"trentino-südtirol.it":2,"trentino-sued-tirol.it":2,"trentino-suedtirol.it":2,"trentino.it":2,"trentinoa-adige.it":2,"trentinoaadige.it":2,"trentinoalto-adige.it":2,"trentinoaltoadige.it":2,"trentinos-tirol.it":2,"trentinostirol.it":2,"trentinosud-tirol.it":2,"trentinosüd-tirol.it":2,"trentinosudtirol.it":2,"trentinosüdtirol.it":2,"trentinosued-tirol.it":2,"trentinosuedtirol.it":2,"trentinsud-tirol.it":2,"trentinsüd-tirol.it":2,"trentinsudtirol.it":2,"trentinsüdtirol.it":2,"trentinsued-tirol.it":2,"trentinsuedtirol.it":2,"tuscany.it":2,"umb.it":2,"umbria.it":2,"val-d-aosta.it":2,"val-daosta.it":2,"vald-aosta.it":2,"valdaosta.it":2,"valle-aosta.it":2,"valle-d-aosta.it":2,"valle-daosta.it":2,"valleaosta.it":2,"valled-aosta.it":2,"valledaosta.it":2,"vallee-aoste.it":2,"vallée-aoste.it":2,"vallee-d-aoste.it":2,"vallée-d-aoste.it":2,"valleeaoste.it":2,"valléeaoste.it":2,"valleedaoste.it":2,"valléedaoste.it":2,"vao.it":2,"vda.it":2,"ven.it":2,"veneto.it":2,"ag.it":2,"agrigento.it":2,"al.it":2,"alessandria.it":2,"alto-adige.it":2,"altoadige.it":2,"an.it":2,"ancona.it":2,"andria-barletta-trani.it":2,"andria-trani-barletta.it":2,"andriabarlettatrani.it":2,"andriatranibarletta.it":2,"ao.it":2,"aosta.it":2,"aoste.it":2,"ap.it":2,"aq.it":2,"aquila.it":2,"ar.it":2,"arezzo.it":2,"ascoli-piceno.it":2,"ascolipiceno.it":2,"asti.it":2,"at.it":2,"av.it":2,"avellino.it":2,"ba.it":2,"balsan-sudtirol.it":2,"balsan-südtirol.it":2,"balsan-suedtirol.it":2,"balsan.it":2,"bari.it":2,"barletta-trani-andria.it":2,"barlettatraniandria.it":2,"belluno.it":2,"benevento.it":2,"bergamo.it":2,"bg.it":2,"bi.it":2,"biella.it":2,"bl.it":2,"bn.it":2,"bo.it":2,"bologna.it":2,"bolzano-altoadige.it":2,"bolzano.it":2,"bozen-sudtirol.it":2,"bozen-südtirol.it":2,"bozen-suedtirol.it":2,"bozen.it":2,"br.it":2,"brescia.it":2,"brindisi.it":2,"bs.it":2,"bt.it":2,"bulsan-sudtirol.it":2,"bulsan-südtirol.it":2,"bulsan-suedtirol.it":2,"bulsan.it":2,"bz.it":2,"ca.it":2,"cagliari.it":2,"caltanissetta.it":2,"campidano-medio.it":2,"campidanomedio.it":2,"campobasso.it":2,"carbonia-iglesias.it":2,"carboniaiglesias.it":2,"carrara-massa.it":2,"carraramassa.it":2,"caserta.it":2,"catania.it":2,"catanzaro.it":2,"cb.it":2,"ce.it":2,"cesena-forli.it":2,"cesena-forlì.it":2,"cesenaforli.it":2,"cesenaforlì.it":2,"ch.it":2,"chieti.it":2,"ci.it":2,"cl.it":2,"cn.it":2,"co.it":2,"como.it":2,"cosenza.it":2,"cr.it":2,"cremona.it":2,"crotone.it":2,"cs.it":2,"ct.it":2,"cuneo.it":2,"cz.it":2,"dell-ogliastra.it":2,"dellogliastra.it":2,"en.it":2,"enna.it":2,"fc.it":2,"fe.it":2,"fermo.it":2,"ferrara.it":2,"fg.it":2,"fi.it":2,"firenze.it":2,"florence.it":2,"fm.it":2,"foggia.it":2,"forli-cesena.it":2,"forlì-cesena.it":2,"forlicesena.it":2,"forlìcesena.it":2,"fr.it":2,"frosinone.it":2,"ge.it":2,"genoa.it":2,"genova.it":2,"go.it":2,"gorizia.it":2,"gr.it":2,"grosseto.it":2,"iglesias-carbonia.it":2,"iglesiascarbonia.it":2,"im.it":2,"imperia.it":2,"is.it":2,"isernia.it":2,"kr.it":2,"la-spezia.it":2,"laquila.it":2,"laspezia.it":2,"latina.it":2,"lc.it":2,"le.it":2,"lecce.it":2,"lecco.it":2,"li.it":2,"livorno.it":2,"lo.it":2,"lodi.it":2,"lt.it":2,"lu.it":2,"lucca.it":2,"macerata.it":2,"mantova.it":2,"massa-carrara.it":2,"massacarrara.it":2,"matera.it":2,"mb.it":2,"mc.it":2,"me.it":2,"medio-campidano.it":2,"mediocampidano.it":2,"messina.it":2,"mi.it":2,"milan.it":2,"milano.it":2,"mn.it":2,"mo.it":2,"modena.it":2,"monza-brianza.it":2,"monza-e-della-brianza.it":2,"monza.it":2,"monzabrianza.it":2,"monzaebrianza.it":2,"monzaedellabrianza.it":2,"ms.it":2,"mt.it":2,"na.it":2,"naples.it":2,"napoli.it":2,"no.it":2,"novara.it":2,"nu.it":2,"nuoro.it":2,"og.it":2,"ogliastra.it":2,"olbia-tempio.it":2,"olbiatempio.it":2,"or.it":2,"oristano.it":2,"ot.it":2,"pa.it":2,"padova.it":2,"padua.it":2,"palermo.it":2,"parma.it":2,"pavia.it":2,"pc.it":2,"pd.it":2,"pe.it":2,"perugia.it":2,"pesaro-urbino.it":2,"pesarourbino.it":2,"pescara.it":2,"pg.it":2,"pi.it":2,"piacenza.it":2,"pisa.it":2,"pistoia.it":2,"pn.it":2,"po.it":2,"pordenone.it":2,"potenza.it":2,"pr.it":2,"prato.it":2,"pt.it":2,"pu.it":2,"pv.it":2,"pz.it":2,"ra.it":2,"ragusa.it":2,"ravenna.it":2,"rc.it":2,"re.it":2,"reggio-calabria.it":2,"reggio-emilia.it":2,"reggiocalabria.it":2,"reggioemilia.it":2,"rg.it":2,"ri.it":2,"rieti.it":2,"rimini.it":2,"rm.it":2,"rn.it":2,"ro.it":2,"roma.it":2,"rome.it":2,"rovigo.it":2,"sa.it":2,"salerno.it":2,"sassari.it":2,"savona.it":2,"si.it":2,"siena.it":2,"siracusa.it":2,"so.it":2,"sondrio.it":2,"sp.it":2,"sr.it":2,"ss.it":2,"suedtirol.it":2,"südtirol.it":2,"sv.it":2,"ta.it":2,"taranto.it":2,"te.it":2,"tempio-olbia.it":2,"tempioolbia.it":2,"teramo.it":2,"terni.it":2,"tn.it":2,"to.it":2,"torino.it":2,"tp.it":2,"tr.it":2,"trani-andria-barletta.it":2,"trani-barletta-andria.it":2,"traniandriabarletta.it":2,"tranibarlettaandria.it":2,"trapani.it":2,"trento.it":2,"treviso.it":2,"trieste.it":2,"ts.it":2,"turin.it":2,"tv.it":2,"ud.it":2,"udine.it":2,"urbino-pesaro.it":2,"urbinopesaro.it":2,"va.it":2,"varese.it":2,"vb.it":2,"vc.it":2,"ve.it":2,"venezia.it":2,"venice.it":2,"verbania.it":2,"vercelli.it":2,"verona.it":2,"vi.it":2,"vibo-valentia.it":2,"vibovalentia.it":2,"vicenza.it":2,"viterbo.it":2,"vr.it":2,"vs.it":2,"vt.it":2,"vv.it":2,"je":1,"co.je":2,"net.je":2,"org.je":2,"jm":2,"jo":1,"com.jo":2,"org.jo":2,"net.jo":2,"edu.jo":2,"sch.jo":2,"gov.jo":2,"mil.jo":2,"name.jo":2,"jobs":1,"jp":1,"ac.jp":2,"ad.jp":2,"co.jp":2,"ed.jp":2,"go.jp":2,"gr.jp":2,"lg.jp":2,"ne.jp":2,"or.jp":2,"aichi.jp":2,"akita.jp":2,"aomori.jp":2,"chiba.jp":2,"ehime.jp":2,"fukui.jp":2,"fukuoka.jp":2,"fukushima.jp":2,"gifu.jp":2,"gunma.jp":2,"hiroshima.jp":2,"hokkaido.jp":2,"hyogo.jp":2,"ibaraki.jp":2,"ishikawa.jp":2,"iwate.jp":2,"kagawa.jp":2,"kagoshima.jp":2,"kanagawa.jp":2,"kochi.jp":2,"kumamoto.jp":2,"kyoto.jp":2,"mie.jp":2,"miyagi.jp":2,"miyazaki.jp":2,"nagano.jp":2,"nagasaki.jp":2,"nara.jp":2,"niigata.jp":2,"oita.jp":2,"okayama.jp":2,"okinawa.jp":2,"osaka.jp":2,"saga.jp":2,"saitama.jp":2,"shiga.jp":2,"shimane.jp":2,"shizuoka.jp":2,"tochigi.jp":2,"tokushima.jp":2,"tokyo.jp":2,"tottori.jp":2,"toyama.jp":2,"wakayama.jp":2,"yamagata.jp":2,"yamaguchi.jp":2,"yamanashi.jp":2,"栃木.jp":2,"愛知.jp":2,"愛媛.jp":2,"兵庫.jp":2,"熊本.jp":2,"茨城.jp":2,"北海道.jp":2,"千葉.jp":2,"和歌山.jp":2,"長崎.jp":2,"長野.jp":2,"新潟.jp":2,"青森.jp":2,"静岡.jp":2,"東京.jp":2,"石川.jp":2,"埼玉.jp":2,"三重.jp":2,"京都.jp":2,"佐賀.jp":2,"大分.jp":2,"大阪.jp":2,"奈良.jp":2,"宮城.jp":2,"宮崎.jp":2,"富山.jp":2,"山口.jp":2,"山形.jp":2,"山梨.jp":2,"岩手.jp":2,"岐阜.jp":2,"岡山.jp":2,"島根.jp":2,"広島.jp":2,"徳島.jp":2,"沖縄.jp":2,"滋賀.jp":2,"神奈川.jp":2,"福井.jp":2,"福岡.jp":2,"福島.jp":2,"秋田.jp":2,"群馬.jp":2,"香川.jp":2,"高知.jp":2,"鳥取.jp":2,"鹿児島.jp":2,"kawasaki.jp":3,"kitakyushu.jp":3,"kobe.jp":3,"nagoya.jp":3,"sapporo.jp":3,"sendai.jp":3,"yokohama.jp":3,"city.kawasaki.jp":2,"city.kitakyushu.jp":2,"city.kobe.jp":2,"city.nagoya.jp":2,"city.sapporo.jp":2,"city.sendai.jp":2,"city.yokohama.jp":2,"aisai.aichi.jp":3,"ama.aichi.jp":3,"anjo.aichi.jp":3,"asuke.aichi.jp":3,"chiryu.aichi.jp":3,"chita.aichi.jp":3,"fuso.aichi.jp":3,"gamagori.aichi.jp":3,"handa.aichi.jp":3,"hazu.aichi.jp":3,"hekinan.aichi.jp":3,"higashiura.aichi.jp":3,"ichinomiya.aichi.jp":3,"inazawa.aichi.jp":3,"inuyama.aichi.jp":3,"isshiki.aichi.jp":3,"iwakura.aichi.jp":3,"kanie.aichi.jp":3,"kariya.aichi.jp":3,"kasugai.aichi.jp":3,"kira.aichi.jp":3,"kiyosu.aichi.jp":3,"komaki.aichi.jp":3,"konan.aichi.jp":3,"kota.aichi.jp":3,"mihama.aichi.jp":3,"miyoshi.aichi.jp":3,"nishio.aichi.jp":3,"nisshin.aichi.jp":3,"obu.aichi.jp":3,"oguchi.aichi.jp":3,"oharu.aichi.jp":3,"okazaki.aichi.jp":3,"owariasahi.aichi.jp":3,"seto.aichi.jp":3,"shikatsu.aichi.jp":3,"shinshiro.aichi.jp":3,"shitara.aichi.jp":3,"tahara.aichi.jp":3,"takahama.aichi.jp":3,"tobishima.aichi.jp":3,"toei.aichi.jp":3,"togo.aichi.jp":3,"tokai.aichi.jp":3,"tokoname.aichi.jp":3,"toyoake.aichi.jp":3,"toyohashi.aichi.jp":3,"toyokawa.aichi.jp":3,"toyone.aichi.jp":3,"toyota.aichi.jp":3,"tsushima.aichi.jp":3,"yatomi.aichi.jp":3,"akita.akita.jp":3,"daisen.akita.jp":3,"fujisato.akita.jp":3,"gojome.akita.jp":3,"hachirogata.akita.jp":3,"happou.akita.jp":3,"higashinaruse.akita.jp":3,"honjo.akita.jp":3,"honjyo.akita.jp":3,"ikawa.akita.jp":3,"kamikoani.akita.jp":3,"kamioka.akita.jp":3,"katagami.akita.jp":3,"kazuno.akita.jp":3,"kitaakita.akita.jp":3,"kosaka.akita.jp":3,"kyowa.akita.jp":3,"misato.akita.jp":3,"mitane.akita.jp":3,"moriyoshi.akita.jp":3,"nikaho.akita.jp":3,"noshiro.akita.jp":3,"odate.akita.jp":3,"oga.akita.jp":3,"ogata.akita.jp":3,"semboku.akita.jp":3,"yokote.akita.jp":3,"yurihonjo.akita.jp":3,"aomori.aomori.jp":3,"gonohe.aomori.jp":3,"hachinohe.aomori.jp":3,"hashikami.aomori.jp":3,"hiranai.aomori.jp":3,"hirosaki.aomori.jp":3,"itayanagi.aomori.jp":3,"kuroishi.aomori.jp":3,"misawa.aomori.jp":3,"mutsu.aomori.jp":3,"nakadomari.aomori.jp":3,"noheji.aomori.jp":3,"oirase.aomori.jp":3,"owani.aomori.jp":3,"rokunohe.aomori.jp":3,"sannohe.aomori.jp":3,"shichinohe.aomori.jp":3,"shingo.aomori.jp":3,"takko.aomori.jp":3,"towada.aomori.jp":3,"tsugaru.aomori.jp":3,"tsuruta.aomori.jp":3,"abiko.chiba.jp":3,"asahi.chiba.jp":3,"chonan.chiba.jp":3,"chosei.chiba.jp":3,"choshi.chiba.jp":3,"chuo.chiba.jp":3,"funabashi.chiba.jp":3,"futtsu.chiba.jp":3,"hanamigawa.chiba.jp":3,"ichihara.chiba.jp":3,"ichikawa.chiba.jp":3,"ichinomiya.chiba.jp":3,"inzai.chiba.jp":3,"isumi.chiba.jp":3,"kamagaya.chiba.jp":3,"kamogawa.chiba.jp":3,"kashiwa.chiba.jp":3,"katori.chiba.jp":3,"katsuura.chiba.jp":3,"kimitsu.chiba.jp":3,"kisarazu.chiba.jp":3,"kozaki.chiba.jp":3,"kujukuri.chiba.jp":3,"kyonan.chiba.jp":3,"matsudo.chiba.jp":3,"midori.chiba.jp":3,"mihama.chiba.jp":3,"minamiboso.chiba.jp":3,"mobara.chiba.jp":3,"mutsuzawa.chiba.jp":3,"nagara.chiba.jp":3,"nagareyama.chiba.jp":3,"narashino.chiba.jp":3,"narita.chiba.jp":3,"noda.chiba.jp":3,"oamishirasato.chiba.jp":3,"omigawa.chiba.jp":3,"onjuku.chiba.jp":3,"otaki.chiba.jp":3,"sakae.chiba.jp":3,"sakura.chiba.jp":3,"shimofusa.chiba.jp":3,"shirako.chiba.jp":3,"shiroi.chiba.jp":3,"shisui.chiba.jp":3,"sodegaura.chiba.jp":3,"sosa.chiba.jp":3,"tako.chiba.jp":3,"tateyama.chiba.jp":3,"togane.chiba.jp":3,"tohnosho.chiba.jp":3,"tomisato.chiba.jp":3,"urayasu.chiba.jp":3,"yachimata.chiba.jp":3,"yachiyo.chiba.jp":3,"yokaichiba.chiba.jp":3,"yokoshibahikari.chiba.jp":3,"yotsukaido.chiba.jp":3,"ainan.ehime.jp":3,"honai.ehime.jp":3,"ikata.ehime.jp":3,"imabari.ehime.jp":3,"iyo.ehime.jp":3,"kamijima.ehime.jp":3,"kihoku.ehime.jp":3,"kumakogen.ehime.jp":3,"masaki.ehime.jp":3,"matsuno.ehime.jp":3,"matsuyama.ehime.jp":3,"namikata.ehime.jp":3,"niihama.ehime.jp":3,"ozu.ehime.jp":3,"saijo.ehime.jp":3,"seiyo.ehime.jp":3,"shikokuchuo.ehime.jp":3,"tobe.ehime.jp":3,"toon.ehime.jp":3,"uchiko.ehime.jp":3,"uwajima.ehime.jp":3,"yawatahama.ehime.jp":3,"echizen.fukui.jp":3,"eiheiji.fukui.jp":3,"fukui.fukui.jp":3,"ikeda.fukui.jp":3,"katsuyama.fukui.jp":3,"mihama.fukui.jp":3,"minamiechizen.fukui.jp":3,"obama.fukui.jp":3,"ohi.fukui.jp":3,"ono.fukui.jp":3,"sabae.fukui.jp":3,"sakai.fukui.jp":3,"takahama.fukui.jp":3,"tsuruga.fukui.jp":3,"wakasa.fukui.jp":3,"ashiya.fukuoka.jp":3,"buzen.fukuoka.jp":3,"chikugo.fukuoka.jp":3,"chikuho.fukuoka.jp":3,"chikujo.fukuoka.jp":3,"chikushino.fukuoka.jp":3,"chikuzen.fukuoka.jp":3,"chuo.fukuoka.jp":3,"dazaifu.fukuoka.jp":3,"fukuchi.fukuoka.jp":3,"hakata.fukuoka.jp":3,"higashi.fukuoka.jp":3,"hirokawa.fukuoka.jp":3,"hisayama.fukuoka.jp":3,"iizuka.fukuoka.jp":3,"inatsuki.fukuoka.jp":3,"kaho.fukuoka.jp":3,"kasuga.fukuoka.jp":3,"kasuya.fukuoka.jp":3,"kawara.fukuoka.jp":3,"keisen.fukuoka.jp":3,"koga.fukuoka.jp":3,"kurate.fukuoka.jp":3,"kurogi.fukuoka.jp":3,"kurume.fukuoka.jp":3,"minami.fukuoka.jp":3,"miyako.fukuoka.jp":3,"miyama.fukuoka.jp":3,"miyawaka.fukuoka.jp":3,"mizumaki.fukuoka.jp":3,"munakata.fukuoka.jp":3,"nakagawa.fukuoka.jp":3,"nakama.fukuoka.jp":3,"nishi.fukuoka.jp":3,"nogata.fukuoka.jp":3,"ogori.fukuoka.jp":3,"okagaki.fukuoka.jp":3,"okawa.fukuoka.jp":3,"oki.fukuoka.jp":3,"omuta.fukuoka.jp":3,"onga.fukuoka.jp":3,"onojo.fukuoka.jp":3,"oto.fukuoka.jp":3,"saigawa.fukuoka.jp":3,"sasaguri.fukuoka.jp":3,"shingu.fukuoka.jp":3,"shinyoshitomi.fukuoka.jp":3,"shonai.fukuoka.jp":3,"soeda.fukuoka.jp":3,"sue.fukuoka.jp":3,"tachiarai.fukuoka.jp":3,"tagawa.fukuoka.jp":3,"takata.fukuoka.jp":3,"toho.fukuoka.jp":3,"toyotsu.fukuoka.jp":3,"tsuiki.fukuoka.jp":3,"ukiha.fukuoka.jp":3,"umi.fukuoka.jp":3,"usui.fukuoka.jp":3,"yamada.fukuoka.jp":3,"yame.fukuoka.jp":3,"yanagawa.fukuoka.jp":3,"yukuhashi.fukuoka.jp":3,"aizubange.fukushima.jp":3,"aizumisato.fukushima.jp":3,"aizuwakamatsu.fukushima.jp":3,"asakawa.fukushima.jp":3,"bandai.fukushima.jp":3,"date.fukushima.jp":3,"fukushima.fukushima.jp":3,"furudono.fukushima.jp":3,"futaba.fukushima.jp":3,"hanawa.fukushima.jp":3,"higashi.fukushima.jp":3,"hirata.fukushima.jp":3,"hirono.fukushima.jp":3,"iitate.fukushima.jp":3,"inawashiro.fukushima.jp":3,"ishikawa.fukushima.jp":3,"iwaki.fukushima.jp":3,"izumizaki.fukushima.jp":3,"kagamiishi.fukushima.jp":3,"kaneyama.fukushima.jp":3,"kawamata.fukushima.jp":3,"kitakata.fukushima.jp":3,"kitashiobara.fukushima.jp":3,"koori.fukushima.jp":3,"koriyama.fukushima.jp":3,"kunimi.fukushima.jp":3,"miharu.fukushima.jp":3,"mishima.fukushima.jp":3,"namie.fukushima.jp":3,"nango.fukushima.jp":3,"nishiaizu.fukushima.jp":3,"nishigo.fukushima.jp":3,"okuma.fukushima.jp":3,"omotego.fukushima.jp":3,"ono.fukushima.jp":3,"otama.fukushima.jp":3,"samegawa.fukushima.jp":3,"shimogo.fukushima.jp":3,"shirakawa.fukushima.jp":3,"showa.fukushima.jp":3,"soma.fukushima.jp":3,"sukagawa.fukushima.jp":3,"taishin.fukushima.jp":3,"tamakawa.fukushima.jp":3,"tanagura.fukushima.jp":3,"tenei.fukushima.jp":3,"yabuki.fukushima.jp":3,"yamato.fukushima.jp":3,"yamatsuri.fukushima.jp":3,"yanaizu.fukushima.jp":3,"yugawa.fukushima.jp":3,"anpachi.gifu.jp":3,"ena.gifu.jp":3,"gifu.gifu.jp":3,"ginan.gifu.jp":3,"godo.gifu.jp":3,"gujo.gifu.jp":3,"hashima.gifu.jp":3,"hichiso.gifu.jp":3,"hida.gifu.jp":3,"higashishirakawa.gifu.jp":3,"ibigawa.gifu.jp":3,"ikeda.gifu.jp":3,"kakamigahara.gifu.jp":3,"kani.gifu.jp":3,"kasahara.gifu.jp":3,"kasamatsu.gifu.jp":3,"kawaue.gifu.jp":3,"kitagata.gifu.jp":3,"mino.gifu.jp":3,"minokamo.gifu.jp":3,"mitake.gifu.jp":3,"mizunami.gifu.jp":3,"motosu.gifu.jp":3,"nakatsugawa.gifu.jp":3,"ogaki.gifu.jp":3,"sakahogi.gifu.jp":3,"seki.gifu.jp":3,"sekigahara.gifu.jp":3,"shirakawa.gifu.jp":3,"tajimi.gifu.jp":3,"takayama.gifu.jp":3,"tarui.gifu.jp":3,"toki.gifu.jp":3,"tomika.gifu.jp":3,"wanouchi.gifu.jp":3,"yamagata.gifu.jp":3,"yaotsu.gifu.jp":3,"yoro.gifu.jp":3,"annaka.gunma.jp":3,"chiyoda.gunma.jp":3,"fujioka.gunma.jp":3,"higashiagatsuma.gunma.jp":3,"isesaki.gunma.jp":3,"itakura.gunma.jp":3,"kanna.gunma.jp":3,"kanra.gunma.jp":3,"katashina.gunma.jp":3,"kawaba.gunma.jp":3,"kiryu.gunma.jp":3,"kusatsu.gunma.jp":3,"maebashi.gunma.jp":3,"meiwa.gunma.jp":3,"midori.gunma.jp":3,"minakami.gunma.jp":3,"naganohara.gunma.jp":3,"nakanojo.gunma.jp":3,"nanmoku.gunma.jp":3,"numata.gunma.jp":3,"oizumi.gunma.jp":3,"ora.gunma.jp":3,"ota.gunma.jp":3,"shibukawa.gunma.jp":3,"shimonita.gunma.jp":3,"shinto.gunma.jp":3,"showa.gunma.jp":3,"takasaki.gunma.jp":3,"takayama.gunma.jp":3,"tamamura.gunma.jp":3,"tatebayashi.gunma.jp":3,"tomioka.gunma.jp":3,"tsukiyono.gunma.jp":3,"tsumagoi.gunma.jp":3,"ueno.gunma.jp":3,"yoshioka.gunma.jp":3,"asaminami.hiroshima.jp":3,"daiwa.hiroshima.jp":3,"etajima.hiroshima.jp":3,"fuchu.hiroshima.jp":3,"fukuyama.hiroshima.jp":3,"hatsukaichi.hiroshima.jp":3,"higashihiroshima.hiroshima.jp":3,"hongo.hiroshima.jp":3,"jinsekikogen.hiroshima.jp":3,"kaita.hiroshima.jp":3,"kui.hiroshima.jp":3,"kumano.hiroshima.jp":3,"kure.hiroshima.jp":3,"mihara.hiroshima.jp":3,"miyoshi.hiroshima.jp":3,"naka.hiroshima.jp":3,"onomichi.hiroshima.jp":3,"osakikamijima.hiroshima.jp":3,"otake.hiroshima.jp":3,"saka.hiroshima.jp":3,"sera.hiroshima.jp":3,"seranishi.hiroshima.jp":3,"shinichi.hiroshima.jp":3,"shobara.hiroshima.jp":3,"takehara.hiroshima.jp":3,"abashiri.hokkaido.jp":3,"abira.hokkaido.jp":3,"aibetsu.hokkaido.jp":3,"akabira.hokkaido.jp":3,"akkeshi.hokkaido.jp":3,"asahikawa.hokkaido.jp":3,"ashibetsu.hokkaido.jp":3,"ashoro.hokkaido.jp":3,"assabu.hokkaido.jp":3,"atsuma.hokkaido.jp":3,"bibai.hokkaido.jp":3,"biei.hokkaido.jp":3,"bifuka.hokkaido.jp":3,"bihoro.hokkaido.jp":3,"biratori.hokkaido.jp":3,"chippubetsu.hokkaido.jp":3,"chitose.hokkaido.jp":3,"date.hokkaido.jp":3,"ebetsu.hokkaido.jp":3,"embetsu.hokkaido.jp":3,"eniwa.hokkaido.jp":3,"erimo.hokkaido.jp":3,"esan.hokkaido.jp":3,"esashi.hokkaido.jp":3,"fukagawa.hokkaido.jp":3,"fukushima.hokkaido.jp":3,"furano.hokkaido.jp":3,"furubira.hokkaido.jp":3,"haboro.hokkaido.jp":3,"hakodate.hokkaido.jp":3,"hamatonbetsu.hokkaido.jp":3,"hidaka.hokkaido.jp":3,"higashikagura.hokkaido.jp":3,"higashikawa.hokkaido.jp":3,"hiroo.hokkaido.jp":3,"hokuryu.hokkaido.jp":3,"hokuto.hokkaido.jp":3,"honbetsu.hokkaido.jp":3,"horokanai.hokkaido.jp":3,"horonobe.hokkaido.jp":3,"ikeda.hokkaido.jp":3,"imakane.hokkaido.jp":3,"ishikari.hokkaido.jp":3,"iwamizawa.hokkaido.jp":3,"iwanai.hokkaido.jp":3,"kamifurano.hokkaido.jp":3,"kamikawa.hokkaido.jp":3,"kamishihoro.hokkaido.jp":3,"kamisunagawa.hokkaido.jp":3,"kamoenai.hokkaido.jp":3,"kayabe.hokkaido.jp":3,"kembuchi.hokkaido.jp":3,"kikonai.hokkaido.jp":3,"kimobetsu.hokkaido.jp":3,"kitahiroshima.hokkaido.jp":3,"kitami.hokkaido.jp":3,"kiyosato.hokkaido.jp":3,"koshimizu.hokkaido.jp":3,"kunneppu.hokkaido.jp":3,"kuriyama.hokkaido.jp":3,"kuromatsunai.hokkaido.jp":3,"kushiro.hokkaido.jp":3,"kutchan.hokkaido.jp":3,"kyowa.hokkaido.jp":3,"mashike.hokkaido.jp":3,"matsumae.hokkaido.jp":3,"mikasa.hokkaido.jp":3,"minamifurano.hokkaido.jp":3,"mombetsu.hokkaido.jp":3,"moseushi.hokkaido.jp":3,"mukawa.hokkaido.jp":3,"muroran.hokkaido.jp":3,"naie.hokkaido.jp":3,"nakagawa.hokkaido.jp":3,"nakasatsunai.hokkaido.jp":3,"nakatombetsu.hokkaido.jp":3,"nanae.hokkaido.jp":3,"nanporo.hokkaido.jp":3,"nayoro.hokkaido.jp":3,"nemuro.hokkaido.jp":3,"niikappu.hokkaido.jp":3,"niki.hokkaido.jp":3,"nishiokoppe.hokkaido.jp":3,"noboribetsu.hokkaido.jp":3,"numata.hokkaido.jp":3,"obihiro.hokkaido.jp":3,"obira.hokkaido.jp":3,"oketo.hokkaido.jp":3,"okoppe.hokkaido.jp":3,"otaru.hokkaido.jp":3,"otobe.hokkaido.jp":3,"otofuke.hokkaido.jp":3,"otoineppu.hokkaido.jp":3,"oumu.hokkaido.jp":3,"ozora.hokkaido.jp":3,"pippu.hokkaido.jp":3,"rankoshi.hokkaido.jp":3,"rebun.hokkaido.jp":3,"rikubetsu.hokkaido.jp":3,"rishiri.hokkaido.jp":3,"rishirifuji.hokkaido.jp":3,"saroma.hokkaido.jp":3,"sarufutsu.hokkaido.jp":3,"shakotan.hokkaido.jp":3,"shari.hokkaido.jp":3,"shibecha.hokkaido.jp":3,"shibetsu.hokkaido.jp":3,"shikabe.hokkaido.jp":3,"shikaoi.hokkaido.jp":3,"shimamaki.hokkaido.jp":3,"shimizu.hokkaido.jp":3,"shimokawa.hokkaido.jp":3,"shinshinotsu.hokkaido.jp":3,"shintoku.hokkaido.jp":3,"shiranuka.hokkaido.jp":3,"shiraoi.hokkaido.jp":3,"shiriuchi.hokkaido.jp":3,"sobetsu.hokkaido.jp":3,"sunagawa.hokkaido.jp":3,"taiki.hokkaido.jp":3,"takasu.hokkaido.jp":3,"takikawa.hokkaido.jp":3,"takinoue.hokkaido.jp":3,"teshikaga.hokkaido.jp":3,"tobetsu.hokkaido.jp":3,"tohma.hokkaido.jp":3,"tomakomai.hokkaido.jp":3,"tomari.hokkaido.jp":3,"toya.hokkaido.jp":3,"toyako.hokkaido.jp":3,"toyotomi.hokkaido.jp":3,"toyoura.hokkaido.jp":3,"tsubetsu.hokkaido.jp":3,"tsukigata.hokkaido.jp":3,"urakawa.hokkaido.jp":3,"urausu.hokkaido.jp":3,"uryu.hokkaido.jp":3,"utashinai.hokkaido.jp":3,"wakkanai.hokkaido.jp":3,"wassamu.hokkaido.jp":3,"yakumo.hokkaido.jp":3,"yoichi.hokkaido.jp":3,"aioi.hyogo.jp":3,"akashi.hyogo.jp":3,"ako.hyogo.jp":3,"amagasaki.hyogo.jp":3,"aogaki.hyogo.jp":3,"asago.hyogo.jp":3,"ashiya.hyogo.jp":3,"awaji.hyogo.jp":3,"fukusaki.hyogo.jp":3,"goshiki.hyogo.jp":3,"harima.hyogo.jp":3,"himeji.hyogo.jp":3,"ichikawa.hyogo.jp":3,"inagawa.hyogo.jp":3,"itami.hyogo.jp":3,"kakogawa.hyogo.jp":3,"kamigori.hyogo.jp":3,"kamikawa.hyogo.jp":3,"kasai.hyogo.jp":3,"kasuga.hyogo.jp":3,"kawanishi.hyogo.jp":3,"miki.hyogo.jp":3,"minamiawaji.hyogo.jp":3,"nishinomiya.hyogo.jp":3,"nishiwaki.hyogo.jp":3,"ono.hyogo.jp":3,"sanda.hyogo.jp":3,"sannan.hyogo.jp":3,"sasayama.hyogo.jp":3,"sayo.hyogo.jp":3,"shingu.hyogo.jp":3,"shinonsen.hyogo.jp":3,"shiso.hyogo.jp":3,"sumoto.hyogo.jp":3,"taishi.hyogo.jp":3,"taka.hyogo.jp":3,"takarazuka.hyogo.jp":3,"takasago.hyogo.jp":3,"takino.hyogo.jp":3,"tamba.hyogo.jp":3,"tatsuno.hyogo.jp":3,"toyooka.hyogo.jp":3,"yabu.hyogo.jp":3,"yashiro.hyogo.jp":3,"yoka.hyogo.jp":3,"yokawa.hyogo.jp":3,"ami.ibaraki.jp":3,"asahi.ibaraki.jp":3,"bando.ibaraki.jp":3,"chikusei.ibaraki.jp":3,"daigo.ibaraki.jp":3,"fujishiro.ibaraki.jp":3,"hitachi.ibaraki.jp":3,"hitachinaka.ibaraki.jp":3,"hitachiomiya.ibaraki.jp":3,"hitachiota.ibaraki.jp":3,"ibaraki.ibaraki.jp":3,"ina.ibaraki.jp":3,"inashiki.ibaraki.jp":3,"itako.ibaraki.jp":3,"iwama.ibaraki.jp":3,"joso.ibaraki.jp":3,"kamisu.ibaraki.jp":3,"kasama.ibaraki.jp":3,"kashima.ibaraki.jp":3,"kasumigaura.ibaraki.jp":3,"koga.ibaraki.jp":3,"miho.ibaraki.jp":3,"mito.ibaraki.jp":3,"moriya.ibaraki.jp":3,"naka.ibaraki.jp":3,"namegata.ibaraki.jp":3,"oarai.ibaraki.jp":3,"ogawa.ibaraki.jp":3,"omitama.ibaraki.jp":3,"ryugasaki.ibaraki.jp":3,"sakai.ibaraki.jp":3,"sakuragawa.ibaraki.jp":3,"shimodate.ibaraki.jp":3,"shimotsuma.ibaraki.jp":3,"shirosato.ibaraki.jp":3,"sowa.ibaraki.jp":3,"suifu.ibaraki.jp":3,"takahagi.ibaraki.jp":3,"tamatsukuri.ibaraki.jp":3,"tokai.ibaraki.jp":3,"tomobe.ibaraki.jp":3,"tone.ibaraki.jp":3,"toride.ibaraki.jp":3,"tsuchiura.ibaraki.jp":3,"tsukuba.ibaraki.jp":3,"uchihara.ibaraki.jp":3,"ushiku.ibaraki.jp":3,"yachiyo.ibaraki.jp":3,"yamagata.ibaraki.jp":3,"yawara.ibaraki.jp":3,"yuki.ibaraki.jp":3,"anamizu.ishikawa.jp":3,"hakui.ishikawa.jp":3,"hakusan.ishikawa.jp":3,"kaga.ishikawa.jp":3,"kahoku.ishikawa.jp":3,"kanazawa.ishikawa.jp":3,"kawakita.ishikawa.jp":3,"komatsu.ishikawa.jp":3,"nakanoto.ishikawa.jp":3,"nanao.ishikawa.jp":3,"nomi.ishikawa.jp":3,"nonoichi.ishikawa.jp":3,"noto.ishikawa.jp":3,"shika.ishikawa.jp":3,"suzu.ishikawa.jp":3,"tsubata.ishikawa.jp":3,"tsurugi.ishikawa.jp":3,"uchinada.ishikawa.jp":3,"wajima.ishikawa.jp":3,"fudai.iwate.jp":3,"fujisawa.iwate.jp":3,"hanamaki.iwate.jp":3,"hiraizumi.iwate.jp":3,"hirono.iwate.jp":3,"ichinohe.iwate.jp":3,"ichinoseki.iwate.jp":3,"iwaizumi.iwate.jp":3,"iwate.iwate.jp":3,"joboji.iwate.jp":3,"kamaishi.iwate.jp":3,"kanegasaki.iwate.jp":3,"karumai.iwate.jp":3,"kawai.iwate.jp":3,"kitakami.iwate.jp":3,"kuji.iwate.jp":3,"kunohe.iwate.jp":3,"kuzumaki.iwate.jp":3,"miyako.iwate.jp":3,"mizusawa.iwate.jp":3,"morioka.iwate.jp":3,"ninohe.iwate.jp":3,"noda.iwate.jp":3,"ofunato.iwate.jp":3,"oshu.iwate.jp":3,"otsuchi.iwate.jp":3,"rikuzentakata.iwate.jp":3,"shiwa.iwate.jp":3,"shizukuishi.iwate.jp":3,"sumita.iwate.jp":3,"tanohata.iwate.jp":3,"tono.iwate.jp":3,"yahaba.iwate.jp":3,"yamada.iwate.jp":3,"ayagawa.kagawa.jp":3,"higashikagawa.kagawa.jp":3,"kanonji.kagawa.jp":3,"kotohira.kagawa.jp":3,"manno.kagawa.jp":3,"marugame.kagawa.jp":3,"mitoyo.kagawa.jp":3,"naoshima.kagawa.jp":3,"sanuki.kagawa.jp":3,"tadotsu.kagawa.jp":3,"takamatsu.kagawa.jp":3,"tonosho.kagawa.jp":3,"uchinomi.kagawa.jp":3,"utazu.kagawa.jp":3,"zentsuji.kagawa.jp":3,"akune.kagoshima.jp":3,"amami.kagoshima.jp":3,"hioki.kagoshima.jp":3,"isa.kagoshima.jp":3,"isen.kagoshima.jp":3,"izumi.kagoshima.jp":3,"kagoshima.kagoshima.jp":3,"kanoya.kagoshima.jp":3,"kawanabe.kagoshima.jp":3,"kinko.kagoshima.jp":3,"kouyama.kagoshima.jp":3,"makurazaki.kagoshima.jp":3,"matsumoto.kagoshima.jp":3,"minamitane.kagoshima.jp":3,"nakatane.kagoshima.jp":3,"nishinoomote.kagoshima.jp":3,"satsumasendai.kagoshima.jp":3,"soo.kagoshima.jp":3,"tarumizu.kagoshima.jp":3,"yusui.kagoshima.jp":3,"aikawa.kanagawa.jp":3,"atsugi.kanagawa.jp":3,"ayase.kanagawa.jp":3,"chigasaki.kanagawa.jp":3,"ebina.kanagawa.jp":3,"fujisawa.kanagawa.jp":3,"hadano.kanagawa.jp":3,"hakone.kanagawa.jp":3,"hiratsuka.kanagawa.jp":3,"isehara.kanagawa.jp":3,"kaisei.kanagawa.jp":3,"kamakura.kanagawa.jp":3,"kiyokawa.kanagawa.jp":3,"matsuda.kanagawa.jp":3,"minamiashigara.kanagawa.jp":3,"miura.kanagawa.jp":3,"nakai.kanagawa.jp":3,"ninomiya.kanagawa.jp":3,"odawara.kanagawa.jp":3,"oi.kanagawa.jp":3,"oiso.kanagawa.jp":3,"sagamihara.kanagawa.jp":3,"samukawa.kanagawa.jp":3,"tsukui.kanagawa.jp":3,"yamakita.kanagawa.jp":3,"yamato.kanagawa.jp":3,"yokosuka.kanagawa.jp":3,"yugawara.kanagawa.jp":3,"zama.kanagawa.jp":3,"zushi.kanagawa.jp":3,"aki.kochi.jp":3,"geisei.kochi.jp":3,"hidaka.kochi.jp":3,"higashitsuno.kochi.jp":3,"ino.kochi.jp":3,"kagami.kochi.jp":3,"kami.kochi.jp":3,"kitagawa.kochi.jp":3,"kochi.kochi.jp":3,"mihara.kochi.jp":3,"motoyama.kochi.jp":3,"muroto.kochi.jp":3,"nahari.kochi.jp":3,"nakamura.kochi.jp":3,"nankoku.kochi.jp":3,"nishitosa.kochi.jp":3,"niyodogawa.kochi.jp":3,"ochi.kochi.jp":3,"okawa.kochi.jp":3,"otoyo.kochi.jp":3,"otsuki.kochi.jp":3,"sakawa.kochi.jp":3,"sukumo.kochi.jp":3,"susaki.kochi.jp":3,"tosa.kochi.jp":3,"tosashimizu.kochi.jp":3,"toyo.kochi.jp":3,"tsuno.kochi.jp":3,"umaji.kochi.jp":3,"yasuda.kochi.jp":3,"yusuhara.kochi.jp":3,"amakusa.kumamoto.jp":3,"arao.kumamoto.jp":3,"aso.kumamoto.jp":3,"choyo.kumamoto.jp":3,"gyokuto.kumamoto.jp":3,"kamiamakusa.kumamoto.jp":3,"kikuchi.kumamoto.jp":3,"kumamoto.kumamoto.jp":3,"mashiki.kumamoto.jp":3,"mifune.kumamoto.jp":3,"minamata.kumamoto.jp":3,"minamioguni.kumamoto.jp":3,"nagasu.kumamoto.jp":3,"nishihara.kumamoto.jp":3,"oguni.kumamoto.jp":3,"ozu.kumamoto.jp":3,"sumoto.kumamoto.jp":3,"takamori.kumamoto.jp":3,"uki.kumamoto.jp":3,"uto.kumamoto.jp":3,"yamaga.kumamoto.jp":3,"yamato.kumamoto.jp":3,"yatsushiro.kumamoto.jp":3,"ayabe.kyoto.jp":3,"fukuchiyama.kyoto.jp":3,"higashiyama.kyoto.jp":3,"ide.kyoto.jp":3,"ine.kyoto.jp":3,"joyo.kyoto.jp":3,"kameoka.kyoto.jp":3,"kamo.kyoto.jp":3,"kita.kyoto.jp":3,"kizu.kyoto.jp":3,"kumiyama.kyoto.jp":3,"kyotamba.kyoto.jp":3,"kyotanabe.kyoto.jp":3,"kyotango.kyoto.jp":3,"maizuru.kyoto.jp":3,"minami.kyoto.jp":3,"minamiyamashiro.kyoto.jp":3,"miyazu.kyoto.jp":3,"muko.kyoto.jp":3,"nagaokakyo.kyoto.jp":3,"nakagyo.kyoto.jp":3,"nantan.kyoto.jp":3,"oyamazaki.kyoto.jp":3,"sakyo.kyoto.jp":3,"seika.kyoto.jp":3,"tanabe.kyoto.jp":3,"uji.kyoto.jp":3,"ujitawara.kyoto.jp":3,"wazuka.kyoto.jp":3,"yamashina.kyoto.jp":3,"yawata.kyoto.jp":3,"asahi.mie.jp":3,"inabe.mie.jp":3,"ise.mie.jp":3,"kameyama.mie.jp":3,"kawagoe.mie.jp":3,"kiho.mie.jp":3,"kisosaki.mie.jp":3,"kiwa.mie.jp":3,"komono.mie.jp":3,"kumano.mie.jp":3,"kuwana.mie.jp":3,"matsusaka.mie.jp":3,"meiwa.mie.jp":3,"mihama.mie.jp":3,"minamiise.mie.jp":3,"misugi.mie.jp":3,"miyama.mie.jp":3,"nabari.mie.jp":3,"shima.mie.jp":3,"suzuka.mie.jp":3,"tado.mie.jp":3,"taiki.mie.jp":3,"taki.mie.jp":3,"tamaki.mie.jp":3,"toba.mie.jp":3,"tsu.mie.jp":3,"udono.mie.jp":3,"ureshino.mie.jp":3,"watarai.mie.jp":3,"yokkaichi.mie.jp":3,"furukawa.miyagi.jp":3,"higashimatsushima.miyagi.jp":3,"ishinomaki.miyagi.jp":3,"iwanuma.miyagi.jp":3,"kakuda.miyagi.jp":3,"kami.miyagi.jp":3,"kawasaki.miyagi.jp":3,"marumori.miyagi.jp":3,"matsushima.miyagi.jp":3,"minamisanriku.miyagi.jp":3,"misato.miyagi.jp":3,"murata.miyagi.jp":3,"natori.miyagi.jp":3,"ogawara.miyagi.jp":3,"ohira.miyagi.jp":3,"onagawa.miyagi.jp":3,"osaki.miyagi.jp":3,"rifu.miyagi.jp":3,"semine.miyagi.jp":3,"shibata.miyagi.jp":3,"shichikashuku.miyagi.jp":3,"shikama.miyagi.jp":3,"shiogama.miyagi.jp":3,"shiroishi.miyagi.jp":3,"tagajo.miyagi.jp":3,"taiwa.miyagi.jp":3,"tome.miyagi.jp":3,"tomiya.miyagi.jp":3,"wakuya.miyagi.jp":3,"watari.miyagi.jp":3,"yamamoto.miyagi.jp":3,"zao.miyagi.jp":3,"aya.miyazaki.jp":3,"ebino.miyazaki.jp":3,"gokase.miyazaki.jp":3,"hyuga.miyazaki.jp":3,"kadogawa.miyazaki.jp":3,"kawaminami.miyazaki.jp":3,"kijo.miyazaki.jp":3,"kitagawa.miyazaki.jp":3,"kitakata.miyazaki.jp":3,"kitaura.miyazaki.jp":3,"kobayashi.miyazaki.jp":3,"kunitomi.miyazaki.jp":3,"kushima.miyazaki.jp":3,"mimata.miyazaki.jp":3,"miyakonojo.miyazaki.jp":3,"miyazaki.miyazaki.jp":3,"morotsuka.miyazaki.jp":3,"nichinan.miyazaki.jp":3,"nishimera.miyazaki.jp":3,"nobeoka.miyazaki.jp":3,"saito.miyazaki.jp":3,"shiiba.miyazaki.jp":3,"shintomi.miyazaki.jp":3,"takaharu.miyazaki.jp":3,"takanabe.miyazaki.jp":3,"takazaki.miyazaki.jp":3,"tsuno.miyazaki.jp":3,"achi.nagano.jp":3,"agematsu.nagano.jp":3,"anan.nagano.jp":3,"aoki.nagano.jp":3,"asahi.nagano.jp":3,"azumino.nagano.jp":3,"chikuhoku.nagano.jp":3,"chikuma.nagano.jp":3,"chino.nagano.jp":3,"fujimi.nagano.jp":3,"hakuba.nagano.jp":3,"hara.nagano.jp":3,"hiraya.nagano.jp":3,"iida.nagano.jp":3,"iijima.nagano.jp":3,"iiyama.nagano.jp":3,"iizuna.nagano.jp":3,"ikeda.nagano.jp":3,"ikusaka.nagano.jp":3,"ina.nagano.jp":3,"karuizawa.nagano.jp":3,"kawakami.nagano.jp":3,"kiso.nagano.jp":3,"kisofukushima.nagano.jp":3,"kitaaiki.nagano.jp":3,"komagane.nagano.jp":3,"komoro.nagano.jp":3,"matsukawa.nagano.jp":3,"matsumoto.nagano.jp":3,"miasa.nagano.jp":3,"minamiaiki.nagano.jp":3,"minamimaki.nagano.jp":3,"minamiminowa.nagano.jp":3,"minowa.nagano.jp":3,"miyada.nagano.jp":3,"miyota.nagano.jp":3,"mochizuki.nagano.jp":3,"nagano.nagano.jp":3,"nagawa.nagano.jp":3,"nagiso.nagano.jp":3,"nakagawa.nagano.jp":3,"nakano.nagano.jp":3,"nozawaonsen.nagano.jp":3,"obuse.nagano.jp":3,"ogawa.nagano.jp":3,"okaya.nagano.jp":3,"omachi.nagano.jp":3,"omi.nagano.jp":3,"ookuwa.nagano.jp":3,"ooshika.nagano.jp":3,"otaki.nagano.jp":3,"otari.nagano.jp":3,"sakae.nagano.jp":3,"sakaki.nagano.jp":3,"saku.nagano.jp":3,"sakuho.nagano.jp":3,"shimosuwa.nagano.jp":3,"shinanomachi.nagano.jp":3,"shiojiri.nagano.jp":3,"suwa.nagano.jp":3,"suzaka.nagano.jp":3,"takagi.nagano.jp":3,"takamori.nagano.jp":3,"takayama.nagano.jp":3,"tateshina.nagano.jp":3,"tatsuno.nagano.jp":3,"togakushi.nagano.jp":3,"togura.nagano.jp":3,"tomi.nagano.jp":3,"ueda.nagano.jp":3,"wada.nagano.jp":3,"yamagata.nagano.jp":3,"yamanouchi.nagano.jp":3,"yasaka.nagano.jp":3,"yasuoka.nagano.jp":3,"chijiwa.nagasaki.jp":3,"futsu.nagasaki.jp":3,"goto.nagasaki.jp":3,"hasami.nagasaki.jp":3,"hirado.nagasaki.jp":3,"iki.nagasaki.jp":3,"isahaya.nagasaki.jp":3,"kawatana.nagasaki.jp":3,"kuchinotsu.nagasaki.jp":3,"matsuura.nagasaki.jp":3,"nagasaki.nagasaki.jp":3,"obama.nagasaki.jp":3,"omura.nagasaki.jp":3,"oseto.nagasaki.jp":3,"saikai.nagasaki.jp":3,"sasebo.nagasaki.jp":3,"seihi.nagasaki.jp":3,"shimabara.nagasaki.jp":3,"shinkamigoto.nagasaki.jp":3,"togitsu.nagasaki.jp":3,"tsushima.nagasaki.jp":3,"unzen.nagasaki.jp":3,"ando.nara.jp":3,"gose.nara.jp":3,"heguri.nara.jp":3,"higashiyoshino.nara.jp":3,"ikaruga.nara.jp":3,"ikoma.nara.jp":3,"kamikitayama.nara.jp":3,"kanmaki.nara.jp":3,"kashiba.nara.jp":3,"kashihara.nara.jp":3,"katsuragi.nara.jp":3,"kawai.nara.jp":3,"kawakami.nara.jp":3,"kawanishi.nara.jp":3,"koryo.nara.jp":3,"kurotaki.nara.jp":3,"mitsue.nara.jp":3,"miyake.nara.jp":3,"nara.nara.jp":3,"nosegawa.nara.jp":3,"oji.nara.jp":3,"ouda.nara.jp":3,"oyodo.nara.jp":3,"sakurai.nara.jp":3,"sango.nara.jp":3,"shimoichi.nara.jp":3,"shimokitayama.nara.jp":3,"shinjo.nara.jp":3,"soni.nara.jp":3,"takatori.nara.jp":3,"tawaramoto.nara.jp":3,"tenkawa.nara.jp":3,"tenri.nara.jp":3,"uda.nara.jp":3,"yamatokoriyama.nara.jp":3,"yamatotakada.nara.jp":3,"yamazoe.nara.jp":3,"yoshino.nara.jp":3,"aga.niigata.jp":3,"agano.niigata.jp":3,"gosen.niigata.jp":3,"itoigawa.niigata.jp":3,"izumozaki.niigata.jp":3,"joetsu.niigata.jp":3,"kamo.niigata.jp":3,"kariwa.niigata.jp":3,"kashiwazaki.niigata.jp":3,"minamiuonuma.niigata.jp":3,"mitsuke.niigata.jp":3,"muika.niigata.jp":3,"murakami.niigata.jp":3,"myoko.niigata.jp":3,"nagaoka.niigata.jp":3,"niigata.niigata.jp":3,"ojiya.niigata.jp":3,"omi.niigata.jp":3,"sado.niigata.jp":3,"sanjo.niigata.jp":3,"seiro.niigata.jp":3,"seirou.niigata.jp":3,"sekikawa.niigata.jp":3,"shibata.niigata.jp":3,"tagami.niigata.jp":3,"tainai.niigata.jp":3,"tochio.niigata.jp":3,"tokamachi.niigata.jp":3,"tsubame.niigata.jp":3,"tsunan.niigata.jp":3,"uonuma.niigata.jp":3,"yahiko.niigata.jp":3,"yoita.niigata.jp":3,"yuzawa.niigata.jp":3,"beppu.oita.jp":3,"bungoono.oita.jp":3,"bungotakada.oita.jp":3,"hasama.oita.jp":3,"hiji.oita.jp":3,"himeshima.oita.jp":3,"hita.oita.jp":3,"kamitsue.oita.jp":3,"kokonoe.oita.jp":3,"kuju.oita.jp":3,"kunisaki.oita.jp":3,"kusu.oita.jp":3,"oita.oita.jp":3,"saiki.oita.jp":3,"taketa.oita.jp":3,"tsukumi.oita.jp":3,"usa.oita.jp":3,"usuki.oita.jp":3,"yufu.oita.jp":3,"akaiwa.okayama.jp":3,"asakuchi.okayama.jp":3,"bizen.okayama.jp":3,"hayashima.okayama.jp":3,"ibara.okayama.jp":3,"kagamino.okayama.jp":3,"kasaoka.okayama.jp":3,"kibichuo.okayama.jp":3,"kumenan.okayama.jp":3,"kurashiki.okayama.jp":3,"maniwa.okayama.jp":3,"misaki.okayama.jp":3,"nagi.okayama.jp":3,"niimi.okayama.jp":3,"nishiawakura.okayama.jp":3,"okayama.okayama.jp":3,"satosho.okayama.jp":3,"setouchi.okayama.jp":3,"shinjo.okayama.jp":3,"shoo.okayama.jp":3,"soja.okayama.jp":3,"takahashi.okayama.jp":3,"tamano.okayama.jp":3,"tsuyama.okayama.jp":3,"wake.okayama.jp":3,"yakage.okayama.jp":3,"aguni.okinawa.jp":3,"ginowan.okinawa.jp":3,"ginoza.okinawa.jp":3,"gushikami.okinawa.jp":3,"haebaru.okinawa.jp":3,"higashi.okinawa.jp":3,"hirara.okinawa.jp":3,"iheya.okinawa.jp":3,"ishigaki.okinawa.jp":3,"ishikawa.okinawa.jp":3,"itoman.okinawa.jp":3,"izena.okinawa.jp":3,"kadena.okinawa.jp":3,"kin.okinawa.jp":3,"kitadaito.okinawa.jp":3,"kitanakagusuku.okinawa.jp":3,"kumejima.okinawa.jp":3,"kunigami.okinawa.jp":3,"minamidaito.okinawa.jp":3,"motobu.okinawa.jp":3,"nago.okinawa.jp":3,"naha.okinawa.jp":3,"nakagusuku.okinawa.jp":3,"nakijin.okinawa.jp":3,"nanjo.okinawa.jp":3,"nishihara.okinawa.jp":3,"ogimi.okinawa.jp":3,"okinawa.okinawa.jp":3,"onna.okinawa.jp":3,"shimoji.okinawa.jp":3,"taketomi.okinawa.jp":3,"tarama.okinawa.jp":3,"tokashiki.okinawa.jp":3,"tomigusuku.okinawa.jp":3,"tonaki.okinawa.jp":3,"urasoe.okinawa.jp":3,"uruma.okinawa.jp":3,"yaese.okinawa.jp":3,"yomitan.okinawa.jp":3,"yonabaru.okinawa.jp":3,"yonaguni.okinawa.jp":3,"zamami.okinawa.jp":3,"abeno.osaka.jp":3,"chihayaakasaka.osaka.jp":3,"chuo.osaka.jp":3,"daito.osaka.jp":3,"fujiidera.osaka.jp":3,"habikino.osaka.jp":3,"hannan.osaka.jp":3,"higashiosaka.osaka.jp":3,"higashisumiyoshi.osaka.jp":3,"higashiyodogawa.osaka.jp":3,"hirakata.osaka.jp":3,"ibaraki.osaka.jp":3,"ikeda.osaka.jp":3,"izumi.osaka.jp":3,"izumiotsu.osaka.jp":3,"izumisano.osaka.jp":3,"kadoma.osaka.jp":3,"kaizuka.osaka.jp":3,"kanan.osaka.jp":3,"kashiwara.osaka.jp":3,"katano.osaka.jp":3,"kawachinagano.osaka.jp":3,"kishiwada.osaka.jp":3,"kita.osaka.jp":3,"kumatori.osaka.jp":3,"matsubara.osaka.jp":3,"minato.osaka.jp":3,"minoh.osaka.jp":3,"misaki.osaka.jp":3,"moriguchi.osaka.jp":3,"neyagawa.osaka.jp":3,"nishi.osaka.jp":3,"nose.osaka.jp":3,"osakasayama.osaka.jp":3,"sakai.osaka.jp":3,"sayama.osaka.jp":3,"sennan.osaka.jp":3,"settsu.osaka.jp":3,"shijonawate.osaka.jp":3,"shimamoto.osaka.jp":3,"suita.osaka.jp":3,"tadaoka.osaka.jp":3,"taishi.osaka.jp":3,"tajiri.osaka.jp":3,"takaishi.osaka.jp":3,"takatsuki.osaka.jp":3,"tondabayashi.osaka.jp":3,"toyonaka.osaka.jp":3,"toyono.osaka.jp":3,"yao.osaka.jp":3,"ariake.saga.jp":3,"arita.saga.jp":3,"fukudomi.saga.jp":3,"genkai.saga.jp":3,"hamatama.saga.jp":3,"hizen.saga.jp":3,"imari.saga.jp":3,"kamimine.saga.jp":3,"kanzaki.saga.jp":3,"karatsu.saga.jp":3,"kashima.saga.jp":3,"kitagata.saga.jp":3,"kitahata.saga.jp":3,"kiyama.saga.jp":3,"kouhoku.saga.jp":3,"kyuragi.saga.jp":3,"nishiarita.saga.jp":3,"ogi.saga.jp":3,"omachi.saga.jp":3,"ouchi.saga.jp":3,"saga.saga.jp":3,"shiroishi.saga.jp":3,"taku.saga.jp":3,"tara.saga.jp":3,"tosu.saga.jp":3,"yoshinogari.saga.jp":3,"arakawa.saitama.jp":3,"asaka.saitama.jp":3,"chichibu.saitama.jp":3,"fujimi.saitama.jp":3,"fujimino.saitama.jp":3,"fukaya.saitama.jp":3,"hanno.saitama.jp":3,"hanyu.saitama.jp":3,"hasuda.saitama.jp":3,"hatogaya.saitama.jp":3,"hatoyama.saitama.jp":3,"hidaka.saitama.jp":3,"higashichichibu.saitama.jp":3,"higashimatsuyama.saitama.jp":3,"honjo.saitama.jp":3,"ina.saitama.jp":3,"iruma.saitama.jp":3,"iwatsuki.saitama.jp":3,"kamiizumi.saitama.jp":3,"kamikawa.saitama.jp":3,"kamisato.saitama.jp":3,"kasukabe.saitama.jp":3,"kawagoe.saitama.jp":3,"kawaguchi.saitama.jp":3,"kawajima.saitama.jp":3,"kazo.saitama.jp":3,"kitamoto.saitama.jp":3,"koshigaya.saitama.jp":3,"kounosu.saitama.jp":3,"kuki.saitama.jp":3,"kumagaya.saitama.jp":3,"matsubushi.saitama.jp":3,"minano.saitama.jp":3,"misato.saitama.jp":3,"miyashiro.saitama.jp":3,"miyoshi.saitama.jp":3,"moroyama.saitama.jp":3,"nagatoro.saitama.jp":3,"namegawa.saitama.jp":3,"niiza.saitama.jp":3,"ogano.saitama.jp":3,"ogawa.saitama.jp":3,"ogose.saitama.jp":3,"okegawa.saitama.jp":3,"omiya.saitama.jp":3,"otaki.saitama.jp":3,"ranzan.saitama.jp":3,"ryokami.saitama.jp":3,"saitama.saitama.jp":3,"sakado.saitama.jp":3,"satte.saitama.jp":3,"sayama.saitama.jp":3,"shiki.saitama.jp":3,"shiraoka.saitama.jp":3,"soka.saitama.jp":3,"sugito.saitama.jp":3,"toda.saitama.jp":3,"tokigawa.saitama.jp":3,"tokorozawa.saitama.jp":3,"tsurugashima.saitama.jp":3,"urawa.saitama.jp":3,"warabi.saitama.jp":3,"yashio.saitama.jp":3,"yokoze.saitama.jp":3,"yono.saitama.jp":3,"yorii.saitama.jp":3,"yoshida.saitama.jp":3,"yoshikawa.saitama.jp":3,"yoshimi.saitama.jp":3,"aisho.shiga.jp":3,"gamo.shiga.jp":3,"higashiomi.shiga.jp":3,"hikone.shiga.jp":3,"koka.shiga.jp":3,"konan.shiga.jp":3,"kosei.shiga.jp":3,"koto.shiga.jp":3,"kusatsu.shiga.jp":3,"maibara.shiga.jp":3,"moriyama.shiga.jp":3,"nagahama.shiga.jp":3,"nishiazai.shiga.jp":3,"notogawa.shiga.jp":3,"omihachiman.shiga.jp":3,"otsu.shiga.jp":3,"ritto.shiga.jp":3,"ryuoh.shiga.jp":3,"takashima.shiga.jp":3,"takatsuki.shiga.jp":3,"torahime.shiga.jp":3,"toyosato.shiga.jp":3,"yasu.shiga.jp":3,"akagi.shimane.jp":3,"ama.shimane.jp":3,"gotsu.shimane.jp":3,"hamada.shimane.jp":3,"higashiizumo.shimane.jp":3,"hikawa.shimane.jp":3,"hikimi.shimane.jp":3,"izumo.shimane.jp":3,"kakinoki.shimane.jp":3,"masuda.shimane.jp":3,"matsue.shimane.jp":3,"misato.shimane.jp":3,"nishinoshima.shimane.jp":3,"ohda.shimane.jp":3,"okinoshima.shimane.jp":3,"okuizumo.shimane.jp":3,"shimane.shimane.jp":3,"tamayu.shimane.jp":3,"tsuwano.shimane.jp":3,"unnan.shimane.jp":3,"yakumo.shimane.jp":3,"yasugi.shimane.jp":3,"yatsuka.shimane.jp":3,"arai.shizuoka.jp":3,"atami.shizuoka.jp":3,"fuji.shizuoka.jp":3,"fujieda.shizuoka.jp":3,"fujikawa.shizuoka.jp":3,"fujinomiya.shizuoka.jp":3,"fukuroi.shizuoka.jp":3,"gotemba.shizuoka.jp":3,"haibara.shizuoka.jp":3,"hamamatsu.shizuoka.jp":3,"higashiizu.shizuoka.jp":3,"ito.shizuoka.jp":3,"iwata.shizuoka.jp":3,"izu.shizuoka.jp":3,"izunokuni.shizuoka.jp":3,"kakegawa.shizuoka.jp":3,"kannami.shizuoka.jp":3,"kawanehon.shizuoka.jp":3,"kawazu.shizuoka.jp":3,"kikugawa.shizuoka.jp":3,"kosai.shizuoka.jp":3,"makinohara.shizuoka.jp":3,"matsuzaki.shizuoka.jp":3,"minamiizu.shizuoka.jp":3,"mishima.shizuoka.jp":3,"morimachi.shizuoka.jp":3,"nishiizu.shizuoka.jp":3,"numazu.shizuoka.jp":3,"omaezaki.shizuoka.jp":3,"shimada.shizuoka.jp":3,"shimizu.shizuoka.jp":3,"shimoda.shizuoka.jp":3,"shizuoka.shizuoka.jp":3,"susono.shizuoka.jp":3,"yaizu.shizuoka.jp":3,"yoshida.shizuoka.jp":3,"ashikaga.tochigi.jp":3,"bato.tochigi.jp":3,"haga.tochigi.jp":3,"ichikai.tochigi.jp":3,"iwafune.tochigi.jp":3,"kaminokawa.tochigi.jp":3,"kanuma.tochigi.jp":3,"karasuyama.tochigi.jp":3,"kuroiso.tochigi.jp":3,"mashiko.tochigi.jp":3,"mibu.tochigi.jp":3,"moka.tochigi.jp":3,"motegi.tochigi.jp":3,"nasu.tochigi.jp":3,"nasushiobara.tochigi.jp":3,"nikko.tochigi.jp":3,"nishikata.tochigi.jp":3,"nogi.tochigi.jp":3,"ohira.tochigi.jp":3,"ohtawara.tochigi.jp":3,"oyama.tochigi.jp":3,"sakura.tochigi.jp":3,"sano.tochigi.jp":3,"shimotsuke.tochigi.jp":3,"shioya.tochigi.jp":3,"takanezawa.tochigi.jp":3,"tochigi.tochigi.jp":3,"tsuga.tochigi.jp":3,"ujiie.tochigi.jp":3,"utsunomiya.tochigi.jp":3,"yaita.tochigi.jp":3,"aizumi.tokushima.jp":3,"anan.tokushima.jp":3,"ichiba.tokushima.jp":3,"itano.tokushima.jp":3,"kainan.tokushima.jp":3,"komatsushima.tokushima.jp":3,"matsushige.tokushima.jp":3,"mima.tokushima.jp":3,"minami.tokushima.jp":3,"miyoshi.tokushima.jp":3,"mugi.tokushima.jp":3,"nakagawa.tokushima.jp":3,"naruto.tokushima.jp":3,"sanagochi.tokushima.jp":3,"shishikui.tokushima.jp":3,"tokushima.tokushima.jp":3,"wajiki.tokushima.jp":3,"adachi.tokyo.jp":3,"akiruno.tokyo.jp":3,"akishima.tokyo.jp":3,"aogashima.tokyo.jp":3,"arakawa.tokyo.jp":3,"bunkyo.tokyo.jp":3,"chiyoda.tokyo.jp":3,"chofu.tokyo.jp":3,"chuo.tokyo.jp":3,"edogawa.tokyo.jp":3,"fuchu.tokyo.jp":3,"fussa.tokyo.jp":3,"hachijo.tokyo.jp":3,"hachioji.tokyo.jp":3,"hamura.tokyo.jp":3,"higashikurume.tokyo.jp":3,"higashimurayama.tokyo.jp":3,"higashiyamato.tokyo.jp":3,"hino.tokyo.jp":3,"hinode.tokyo.jp":3,"hinohara.tokyo.jp":3,"inagi.tokyo.jp":3,"itabashi.tokyo.jp":3,"katsushika.tokyo.jp":3,"kita.tokyo.jp":3,"kiyose.tokyo.jp":3,"kodaira.tokyo.jp":3,"koganei.tokyo.jp":3,"kokubunji.tokyo.jp":3,"komae.tokyo.jp":3,"koto.tokyo.jp":3,"kouzushima.tokyo.jp":3,"kunitachi.tokyo.jp":3,"machida.tokyo.jp":3,"meguro.tokyo.jp":3,"minato.tokyo.jp":3,"mitaka.tokyo.jp":3,"mizuho.tokyo.jp":3,"musashimurayama.tokyo.jp":3,"musashino.tokyo.jp":3,"nakano.tokyo.jp":3,"nerima.tokyo.jp":3,"ogasawara.tokyo.jp":3,"okutama.tokyo.jp":3,"ome.tokyo.jp":3,"oshima.tokyo.jp":3,"ota.tokyo.jp":3,"setagaya.tokyo.jp":3,"shibuya.tokyo.jp":3,"shinagawa.tokyo.jp":3,"shinjuku.tokyo.jp":3,"suginami.tokyo.jp":3,"sumida.tokyo.jp":3,"tachikawa.tokyo.jp":3,"taito.tokyo.jp":3,"tama.tokyo.jp":3,"toshima.tokyo.jp":3,"chizu.tottori.jp":3,"hino.tottori.jp":3,"kawahara.tottori.jp":3,"koge.tottori.jp":3,"kotoura.tottori.jp":3,"misasa.tottori.jp":3,"nanbu.tottori.jp":3,"nichinan.tottori.jp":3,"sakaiminato.tottori.jp":3,"tottori.tottori.jp":3,"wakasa.tottori.jp":3,"yazu.tottori.jp":3,"yonago.tottori.jp":3,"asahi.toyama.jp":3,"fuchu.toyama.jp":3,"fukumitsu.toyama.jp":3,"funahashi.toyama.jp":3,"himi.toyama.jp":3,"imizu.toyama.jp":3,"inami.toyama.jp":3,"johana.toyama.jp":3,"kamiichi.toyama.jp":3,"kurobe.toyama.jp":3,"nakaniikawa.toyama.jp":3,"namerikawa.toyama.jp":3,"nanto.toyama.jp":3,"nyuzen.toyama.jp":3,"oyabe.toyama.jp":3,"taira.toyama.jp":3,"takaoka.toyama.jp":3,"tateyama.toyama.jp":3,"toga.toyama.jp":3,"tonami.toyama.jp":3,"toyama.toyama.jp":3,"unazuki.toyama.jp":3,"uozu.toyama.jp":3,"yamada.toyama.jp":3,"arida.wakayama.jp":3,"aridagawa.wakayama.jp":3,"gobo.wakayama.jp":3,"hashimoto.wakayama.jp":3,"hidaka.wakayama.jp":3,"hirogawa.wakayama.jp":3,"inami.wakayama.jp":3,"iwade.wakayama.jp":3,"kainan.wakayama.jp":3,"kamitonda.wakayama.jp":3,"katsuragi.wakayama.jp":3,"kimino.wakayama.jp":3,"kinokawa.wakayama.jp":3,"kitayama.wakayama.jp":3,"koya.wakayama.jp":3,"koza.wakayama.jp":3,"kozagawa.wakayama.jp":3,"kudoyama.wakayama.jp":3,"kushimoto.wakayama.jp":3,"mihama.wakayama.jp":3,"misato.wakayama.jp":3,"nachikatsuura.wakayama.jp":3,"shingu.wakayama.jp":3,"shirahama.wakayama.jp":3,"taiji.wakayama.jp":3,"tanabe.wakayama.jp":3,"wakayama.wakayama.jp":3,"yuasa.wakayama.jp":3,"yura.wakayama.jp":3,"asahi.yamagata.jp":3,"funagata.yamagata.jp":3,"higashine.yamagata.jp":3,"iide.yamagata.jp":3,"kahoku.yamagata.jp":3,"kaminoyama.yamagata.jp":3,"kaneyama.yamagata.jp":3,"kawanishi.yamagata.jp":3,"mamurogawa.yamagata.jp":3,"mikawa.yamagata.jp":3,"murayama.yamagata.jp":3,"nagai.yamagata.jp":3,"nakayama.yamagata.jp":3,"nanyo.yamagata.jp":3,"nishikawa.yamagata.jp":3,"obanazawa.yamagata.jp":3,"oe.yamagata.jp":3,"oguni.yamagata.jp":3,"ohkura.yamagata.jp":3,"oishida.yamagata.jp":3,"sagae.yamagata.jp":3,"sakata.yamagata.jp":3,"sakegawa.yamagata.jp":3,"shinjo.yamagata.jp":3,"shirataka.yamagata.jp":3,"shonai.yamagata.jp":3,"takahata.yamagata.jp":3,"tendo.yamagata.jp":3,"tozawa.yamagata.jp":3,"tsuruoka.yamagata.jp":3,"yamagata.yamagata.jp":3,"yamanobe.yamagata.jp":3,"yonezawa.yamagata.jp":3,"yuza.yamagata.jp":3,"abu.yamaguchi.jp":3,"hagi.yamaguchi.jp":3,"hikari.yamaguchi.jp":3,"hofu.yamaguchi.jp":3,"iwakuni.yamaguchi.jp":3,"kudamatsu.yamaguchi.jp":3,"mitou.yamaguchi.jp":3,"nagato.yamaguchi.jp":3,"oshima.yamaguchi.jp":3,"shimonoseki.yamaguchi.jp":3,"shunan.yamaguchi.jp":3,"tabuse.yamaguchi.jp":3,"tokuyama.yamaguchi.jp":3,"toyota.yamaguchi.jp":3,"ube.yamaguchi.jp":3,"yuu.yamaguchi.jp":3,"chuo.yamanashi.jp":3,"doshi.yamanashi.jp":3,"fuefuki.yamanashi.jp":3,"fujikawa.yamanashi.jp":3,"fujikawaguchiko.yamanashi.jp":3,"fujiyoshida.yamanashi.jp":3,"hayakawa.yamanashi.jp":3,"hokuto.yamanashi.jp":3,"ichikawamisato.yamanashi.jp":3,"kai.yamanashi.jp":3,"kofu.yamanashi.jp":3,"koshu.yamanashi.jp":3,"kosuge.yamanashi.jp":3,"minami-alps.yamanashi.jp":3,"minobu.yamanashi.jp":3,"nakamichi.yamanashi.jp":3,"nanbu.yamanashi.jp":3,"narusawa.yamanashi.jp":3,"nirasaki.yamanashi.jp":3,"nishikatsura.yamanashi.jp":3,"oshino.yamanashi.jp":3,"otsuki.yamanashi.jp":3,"showa.yamanashi.jp":3,"tabayama.yamanashi.jp":3,"tsuru.yamanashi.jp":3,"uenohara.yamanashi.jp":3,"yamanakako.yamanashi.jp":3,"yamanashi.yamanashi.jp":3,"ke":1,"ac.ke":2,"co.ke":2,"go.ke":2,"info.ke":2,"me.ke":2,"mobi.ke":2,"ne.ke":2,"or.ke":2,"sc.ke":2,"kg":1,"org.kg":2,"net.kg":2,"com.kg":2,"edu.kg":2,"gov.kg":2,"mil.kg":2,"kh":2,"ki":1,"edu.ki":2,"biz.ki":2,"net.ki":2,"org.ki":2,"gov.ki":2,"info.ki":2,"com.ki":2,"km":1,"org.km":2,"nom.km":2,"gov.km":2,"prd.km":2,"tm.km":2,"edu.km":2,"mil.km":2,"ass.km":2,"com.km":2,"coop.km":2,"asso.km":2,"presse.km":2,"medecin.km":2,"notaires.km":2,"pharmaciens.km":2,"veterinaire.km":2,"gouv.km":2,"kn":1,"net.kn":2,"org.kn":2,"edu.kn":2,"gov.kn":2,"kp":1,"com.kp":2,"edu.kp":2,"gov.kp":2,"org.kp":2,"rep.kp":2,"tra.kp":2,"kr":1,"ac.kr":2,"co.kr":2,"es.kr":2,"go.kr":2,"hs.kr":2,"kg.kr":2,"mil.kr":2,"ms.kr":2,"ne.kr":2,"or.kr":2,"pe.kr":2,"re.kr":2,"sc.kr":2,"busan.kr":2,"chungbuk.kr":2,"chungnam.kr":2,"daegu.kr":2,"daejeon.kr":2,"gangwon.kr":2,"gwangju.kr":2,"gyeongbuk.kr":2,"gyeonggi.kr":2,"gyeongnam.kr":2,"incheon.kr":2,"jeju.kr":2,"jeonbuk.kr":2,"jeonnam.kr":2,"seoul.kr":2,"ulsan.kr":2,"kw":1,"com.kw":2,"edu.kw":2,"emb.kw":2,"gov.kw":2,"ind.kw":2,"net.kw":2,"org.kw":2,"ky":1,"edu.ky":2,"gov.ky":2,"com.ky":2,"org.ky":2,"net.ky":2,"kz":1,"org.kz":2,"edu.kz":2,"net.kz":2,"gov.kz":2,"mil.kz":2,"com.kz":2,"la":1,"int.la":2,"net.la":2,"info.la":2,"edu.la":2,"gov.la":2,"per.la":2,"com.la":2,"org.la":2,"lb":1,"com.lb":2,"edu.lb":2,"gov.lb":2,"net.lb":2,"org.lb":2,"lc":1,"com.lc":2,"net.lc":2,"co.lc":2,"org.lc":2,"edu.lc":2,"gov.lc":2,"li":1,"lk":1,"gov.lk":2,"sch.lk":2,"net.lk":2,"int.lk":2,"com.lk":2,"org.lk":2,"edu.lk":2,"ngo.lk":2,"soc.lk":2,"web.lk":2,"ltd.lk":2,"assn.lk":2,"grp.lk":2,"hotel.lk":2,"ac.lk":2,"lr":1,"com.lr":2,"edu.lr":2,"gov.lr":2,"org.lr":2,"net.lr":2,"ls":1,"ac.ls":2,"biz.ls":2,"co.ls":2,"edu.ls":2,"gov.ls":2,"info.ls":2,"net.ls":2,"org.ls":2,"sc.ls":2,"lt":1,"gov.lt":2,"lu":1,"lv":1,"com.lv":2,"edu.lv":2,"gov.lv":2,"org.lv":2,"mil.lv":2,"id.lv":2,"net.lv":2,"asn.lv":2,"conf.lv":2,"ly":1,"com.ly":2,"net.ly":2,"gov.ly":2,"plc.ly":2,"edu.ly":2,"sch.ly":2,"med.ly":2,"org.ly":2,"id.ly":2,"ma":1,"co.ma":2,"net.ma":2,"gov.ma":2,"org.ma":2,"ac.ma":2,"press.ma":2,"mc":1,"tm.mc":2,"asso.mc":2,"md":1,"me":1,"co.me":2,"net.me":2,"org.me":2,"edu.me":2,"ac.me":2,"gov.me":2,"its.me":2,"priv.me":2,"mg":1,"org.mg":2,"nom.mg":2,"gov.mg":2,"prd.mg":2,"tm.mg":2,"edu.mg":2,"mil.mg":2,"com.mg":2,"co.mg":2,"mh":1,"mil":1,"mk":1,"com.mk":2,"org.mk":2,"net.mk":2,"edu.mk":2,"gov.mk":2,"inf.mk":2,"name.mk":2,"ml":1,"com.ml":2,"edu.ml":2,"gouv.ml":2,"gov.ml":2,"net.ml":2,"org.ml":2,"presse.ml":2,"mm":2,"mn":1,"gov.mn":2,"edu.mn":2,"org.mn":2,"mo":1,"com.mo":2,"net.mo":2,"org.mo":2,"edu.mo":2,"gov.mo":2,"mobi":1,"mp":1,"mq":1,"mr":1,"gov.mr":2,"ms":1,"com.ms":2,"edu.ms":2,"gov.ms":2,"net.ms":2,"org.ms":2,"mt":1,"com.mt":2,"edu.mt":2,"net.mt":2,"org.mt":2,"mu":1,"com.mu":2,"net.mu":2,"org.mu":2,"gov.mu":2,"ac.mu":2,"co.mu":2,"or.mu":2,"museum":1,"academy.museum":2,"agriculture.museum":2,"air.museum":2,"airguard.museum":2,"alabama.museum":2,"alaska.museum":2,"amber.museum":2,"ambulance.museum":2,"american.museum":2,"americana.museum":2,"americanantiques.museum":2,"americanart.museum":2,"amsterdam.museum":2,"and.museum":2,"annefrank.museum":2,"anthro.museum":2,"anthropology.museum":2,"antiques.museum":2,"aquarium.museum":2,"arboretum.museum":2,"archaeological.museum":2,"archaeology.museum":2,"architecture.museum":2,"art.museum":2,"artanddesign.museum":2,"artcenter.museum":2,"artdeco.museum":2,"arteducation.museum":2,"artgallery.museum":2,"arts.museum":2,"artsandcrafts.museum":2,"asmatart.museum":2,"assassination.museum":2,"assisi.museum":2,"association.museum":2,"astronomy.museum":2,"atlanta.museum":2,"austin.museum":2,"australia.museum":2,"automotive.museum":2,"aviation.museum":2,"axis.museum":2,"badajoz.museum":2,"baghdad.museum":2,"bahn.museum":2,"bale.museum":2,"baltimore.museum":2,"barcelona.museum":2,"baseball.museum":2,"basel.museum":2,"baths.museum":2,"bauern.museum":2,"beauxarts.museum":2,"beeldengeluid.museum":2,"bellevue.museum":2,"bergbau.museum":2,"berkeley.museum":2,"berlin.museum":2,"bern.museum":2,"bible.museum":2,"bilbao.museum":2,"bill.museum":2,"birdart.museum":2,"birthplace.museum":2,"bonn.museum":2,"boston.museum":2,"botanical.museum":2,"botanicalgarden.museum":2,"botanicgarden.museum":2,"botany.museum":2,"brandywinevalley.museum":2,"brasil.museum":2,"bristol.museum":2,"british.museum":2,"britishcolumbia.museum":2,"broadcast.museum":2,"brunel.museum":2,"brussel.museum":2,"brussels.museum":2,"bruxelles.museum":2,"building.museum":2,"burghof.museum":2,"bus.museum":2,"bushey.museum":2,"cadaques.museum":2,"california.museum":2,"cambridge.museum":2,"can.museum":2,"canada.museum":2,"capebreton.museum":2,"carrier.museum":2,"cartoonart.museum":2,"casadelamoneda.museum":2,"castle.museum":2,"castres.museum":2,"celtic.museum":2,"center.museum":2,"chattanooga.museum":2,"cheltenham.museum":2,"chesapeakebay.museum":2,"chicago.museum":2,"children.museum":2,"childrens.museum":2,"childrensgarden.museum":2,"chiropractic.museum":2,"chocolate.museum":2,"christiansburg.museum":2,"cincinnati.museum":2,"cinema.museum":2,"circus.museum":2,"civilisation.museum":2,"civilization.museum":2,"civilwar.museum":2,"clinton.museum":2,"clock.museum":2,"coal.museum":2,"coastaldefence.museum":2,"cody.museum":2,"coldwar.museum":2,"collection.museum":2,"colonialwilliamsburg.museum":2,"coloradoplateau.museum":2,"columbia.museum":2,"columbus.museum":2,"communication.museum":2,"communications.museum":2,"community.museum":2,"computer.museum":2,"computerhistory.museum":2,"comunicações.museum":2,"contemporary.museum":2,"contemporaryart.museum":2,"convent.museum":2,"copenhagen.museum":2,"corporation.museum":2,"correios-e-telecomunicações.museum":2,"corvette.museum":2,"costume.museum":2,"countryestate.museum":2,"county.museum":2,"crafts.museum":2,"cranbrook.museum":2,"creation.museum":2,"cultural.museum":2,"culturalcenter.museum":2,"culture.museum":2,"cyber.museum":2,"cymru.museum":2,"dali.museum":2,"dallas.museum":2,"database.museum":2,"ddr.museum":2,"decorativearts.museum":2,"delaware.museum":2,"delmenhorst.museum":2,"denmark.museum":2,"depot.museum":2,"design.museum":2,"detroit.museum":2,"dinosaur.museum":2,"discovery.museum":2,"dolls.museum":2,"donostia.museum":2,"durham.museum":2,"eastafrica.museum":2,"eastcoast.museum":2,"education.museum":2,"educational.museum":2,"egyptian.museum":2,"eisenbahn.museum":2,"elburg.museum":2,"elvendrell.museum":2,"embroidery.museum":2,"encyclopedic.museum":2,"england.museum":2,"entomology.museum":2,"environment.museum":2,"environmentalconservation.museum":2,"epilepsy.museum":2,"essex.museum":2,"estate.museum":2,"ethnology.museum":2,"exeter.museum":2,"exhibition.museum":2,"family.museum":2,"farm.museum":2,"farmequipment.museum":2,"farmers.museum":2,"farmstead.museum":2,"field.museum":2,"figueres.museum":2,"filatelia.museum":2,"film.museum":2,"fineart.museum":2,"finearts.museum":2,"finland.museum":2,"flanders.museum":2,"florida.museum":2,"force.museum":2,"fortmissoula.museum":2,"fortworth.museum":2,"foundation.museum":2,"francaise.museum":2,"frankfurt.museum":2,"franziskaner.museum":2,"freemasonry.museum":2,"freiburg.museum":2,"fribourg.museum":2,"frog.museum":2,"fundacio.museum":2,"furniture.museum":2,"gallery.museum":2,"garden.museum":2,"gateway.museum":2,"geelvinck.museum":2,"gemological.museum":2,"geology.museum":2,"georgia.museum":2,"giessen.museum":2,"glas.museum":2,"glass.museum":2,"gorge.museum":2,"grandrapids.museum":2,"graz.museum":2,"guernsey.museum":2,"halloffame.museum":2,"hamburg.museum":2,"handson.museum":2,"harvestcelebration.museum":2,"hawaii.museum":2,"health.museum":2,"heimatunduhren.museum":2,"hellas.museum":2,"helsinki.museum":2,"hembygdsforbund.museum":2,"heritage.museum":2,"histoire.museum":2,"historical.museum":2,"historicalsociety.museum":2,"historichouses.museum":2,"historisch.museum":2,"historisches.museum":2,"history.museum":2,"historyofscience.museum":2,"horology.museum":2,"house.museum":2,"humanities.museum":2,"illustration.museum":2,"imageandsound.museum":2,"indian.museum":2,"indiana.museum":2,"indianapolis.museum":2,"indianmarket.museum":2,"intelligence.museum":2,"interactive.museum":2,"iraq.museum":2,"iron.museum":2,"isleofman.museum":2,"jamison.museum":2,"jefferson.museum":2,"jerusalem.museum":2,"jewelry.museum":2,"jewish.museum":2,"jewishart.museum":2,"jfk.museum":2,"journalism.museum":2,"judaica.museum":2,"judygarland.museum":2,"juedisches.museum":2,"juif.museum":2,"karate.museum":2,"karikatur.museum":2,"kids.museum":2,"koebenhavn.museum":2,"koeln.museum":2,"kunst.museum":2,"kunstsammlung.museum":2,"kunstunddesign.museum":2,"labor.museum":2,"labour.museum":2,"lajolla.museum":2,"lancashire.museum":2,"landes.museum":2,"lans.museum":2,"läns.museum":2,"larsson.museum":2,"lewismiller.museum":2,"lincoln.museum":2,"linz.museum":2,"living.museum":2,"livinghistory.museum":2,"localhistory.museum":2,"london.museum":2,"losangeles.museum":2,"louvre.museum":2,"loyalist.museum":2,"lucerne.museum":2,"luxembourg.museum":2,"luzern.museum":2,"mad.museum":2,"madrid.museum":2,"mallorca.museum":2,"manchester.museum":2,"mansion.museum":2,"mansions.museum":2,"manx.museum":2,"marburg.museum":2,"maritime.museum":2,"maritimo.museum":2,"maryland.museum":2,"marylhurst.museum":2,"media.museum":2,"medical.museum":2,"medizinhistorisches.museum":2,"meeres.museum":2,"memorial.museum":2,"mesaverde.museum":2,"michigan.museum":2,"midatlantic.museum":2,"military.museum":2,"mill.museum":2,"miners.museum":2,"mining.museum":2,"minnesota.museum":2,"missile.museum":2,"missoula.museum":2,"modern.museum":2,"moma.museum":2,"money.museum":2,"monmouth.museum":2,"monticello.museum":2,"montreal.museum":2,"moscow.museum":2,"motorcycle.museum":2,"muenchen.museum":2,"muenster.museum":2,"mulhouse.museum":2,"muncie.museum":2,"museet.museum":2,"museumcenter.museum":2,"museumvereniging.museum":2,"music.museum":2,"national.museum":2,"nationalfirearms.museum":2,"nationalheritage.museum":2,"nativeamerican.museum":2,"naturalhistory.museum":2,"naturalhistorymuseum.museum":2,"naturalsciences.museum":2,"nature.museum":2,"naturhistorisches.museum":2,"natuurwetenschappen.museum":2,"naumburg.museum":2,"naval.museum":2,"nebraska.museum":2,"neues.museum":2,"newhampshire.museum":2,"newjersey.museum":2,"newmexico.museum":2,"newport.museum":2,"newspaper.museum":2,"newyork.museum":2,"niepce.museum":2,"norfolk.museum":2,"north.museum":2,"nrw.museum":2,"nyc.museum":2,"nyny.museum":2,"oceanographic.museum":2,"oceanographique.museum":2,"omaha.museum":2,"online.museum":2,"ontario.museum":2,"openair.museum":2,"oregon.museum":2,"oregontrail.museum":2,"otago.museum":2,"oxford.museum":2,"pacific.museum":2,"paderborn.museum":2,"palace.museum":2,"paleo.museum":2,"palmsprings.museum":2,"panama.museum":2,"paris.museum":2,"pasadena.museum":2,"pharmacy.museum":2,"philadelphia.museum":2,"philadelphiaarea.museum":2,"philately.museum":2,"phoenix.museum":2,"photography.museum":2,"pilots.museum":2,"pittsburgh.museum":2,"planetarium.museum":2,"plantation.museum":2,"plants.museum":2,"plaza.museum":2,"portal.museum":2,"portland.museum":2,"portlligat.museum":2,"posts-and-telecommunications.museum":2,"preservation.museum":2,"presidio.museum":2,"press.museum":2,"project.museum":2,"public.museum":2,"pubol.museum":2,"quebec.museum":2,"railroad.museum":2,"railway.museum":2,"research.museum":2,"resistance.museum":2,"riodejaneiro.museum":2,"rochester.museum":2,"rockart.museum":2,"roma.museum":2,"russia.museum":2,"saintlouis.museum":2,"salem.museum":2,"salvadordali.museum":2,"salzburg.museum":2,"sandiego.museum":2,"sanfrancisco.museum":2,"santabarbara.museum":2,"santacruz.museum":2,"santafe.museum":2,"saskatchewan.museum":2,"satx.museum":2,"savannahga.museum":2,"schlesisches.museum":2,"schoenbrunn.museum":2,"schokoladen.museum":2,"school.museum":2,"schweiz.museum":2,"science.museum":2,"scienceandhistory.museum":2,"scienceandindustry.museum":2,"sciencecenter.museum":2,"sciencecenters.museum":2,"science-fiction.museum":2,"sciencehistory.museum":2,"sciences.museum":2,"sciencesnaturelles.museum":2,"scotland.museum":2,"seaport.museum":2,"settlement.museum":2,"settlers.museum":2,"shell.museum":2,"sherbrooke.museum":2,"sibenik.museum":2,"silk.museum":2,"ski.museum":2,"skole.museum":2,"society.museum":2,"sologne.museum":2,"soundandvision.museum":2,"southcarolina.museum":2,"southwest.museum":2,"space.museum":2,"spy.museum":2,"square.museum":2,"stadt.museum":2,"stalbans.museum":2,"starnberg.museum":2,"state.museum":2,"stateofdelaware.museum":2,"station.museum":2,"steam.museum":2,"steiermark.museum":2,"stjohn.museum":2,"stockholm.museum":2,"stpetersburg.museum":2,"stuttgart.museum":2,"suisse.museum":2,"surgeonshall.museum":2,"surrey.museum":2,"svizzera.museum":2,"sweden.museum":2,"sydney.museum":2,"tank.museum":2,"tcm.museum":2,"technology.museum":2,"telekommunikation.museum":2,"television.museum":2,"texas.museum":2,"textile.museum":2,"theater.museum":2,"time.museum":2,"timekeeping.museum":2,"topology.museum":2,"torino.museum":2,"touch.museum":2,"town.museum":2,"transport.museum":2,"tree.museum":2,"trolley.museum":2,"trust.museum":2,"trustee.museum":2,"uhren.museum":2,"ulm.museum":2,"undersea.museum":2,"university.museum":2,"usa.museum":2,"usantiques.museum":2,"usarts.museum":2,"uscountryestate.museum":2,"usculture.museum":2,"usdecorativearts.museum":2,"usgarden.museum":2,"ushistory.museum":2,"ushuaia.museum":2,"uslivinghistory.museum":2,"utah.museum":2,"uvic.museum":2,"valley.museum":2,"vantaa.museum":2,"versailles.museum":2,"viking.museum":2,"village.museum":2,"virginia.museum":2,"virtual.museum":2,"virtuel.museum":2,"vlaanderen.museum":2,"volkenkunde.museum":2,"wales.museum":2,"wallonie.museum":2,"war.museum":2,"washingtondc.museum":2,"watchandclock.museum":2,"watch-and-clock.museum":2,"western.museum":2,"westfalen.museum":2,"whaling.museum":2,"wildlife.museum":2,"williamsburg.museum":2,"windmill.museum":2,"workshop.museum":2,"york.museum":2,"yorkshire.museum":2,"yosemite.museum":2,"youth.museum":2,"zoological.museum":2,"zoology.museum":2,"ירושלים.museum":2,"иком.museum":2,"mv":1,"aero.mv":2,"biz.mv":2,"com.mv":2,"coop.mv":2,"edu.mv":2,"gov.mv":2,"info.mv":2,"int.mv":2,"mil.mv":2,"museum.mv":2,"name.mv":2,"net.mv":2,"org.mv":2,"pro.mv":2,"mw":1,"ac.mw":2,"biz.mw":2,"co.mw":2,"com.mw":2,"coop.mw":2,"edu.mw":2,"gov.mw":2,"int.mw":2,"museum.mw":2,"net.mw":2,"org.mw":2,"mx":1,"com.mx":2,"org.mx":2,"gob.mx":2,"edu.mx":2,"net.mx":2,"my":1,"biz.my":2,"com.my":2,"edu.my":2,"gov.my":2,"mil.my":2,"name.my":2,"net.my":2,"org.my":2,"mz":1,"ac.mz":2,"adv.mz":2,"co.mz":2,"edu.mz":2,"gov.mz":2,"mil.mz":2,"net.mz":2,"org.mz":2,"na":1,"info.na":2,"pro.na":2,"name.na":2,"school.na":2,"or.na":2,"dr.na":2,"us.na":2,"mx.na":2,"ca.na":2,"in.na":2,"cc.na":2,"tv.na":2,"ws.na":2,"mobi.na":2,"co.na":2,"com.na":2,"org.na":2,"name":1,"nc":1,"asso.nc":2,"nom.nc":2,"ne":1,"net":1,"nf":1,"com.nf":2,"net.nf":2,"per.nf":2,"rec.nf":2,"web.nf":2,"arts.nf":2,"firm.nf":2,"info.nf":2,"other.nf":2,"store.nf":2,"ng":1,"com.ng":2,"edu.ng":2,"gov.ng":2,"i.ng":2,"mil.ng":2,"mobi.ng":2,"name.ng":2,"net.ng":2,"org.ng":2,"sch.ng":2,"ni":1,"ac.ni":2,"biz.ni":2,"co.ni":2,"com.ni":2,"edu.ni":2,"gob.ni":2,"in.ni":2,"info.ni":2,"int.ni":2,"mil.ni":2,"net.ni":2,"nom.ni":2,"org.ni":2,"web.ni":2,"nl":1,"no":1,"fhs.no":2,"vgs.no":2,"fylkesbibl.no":2,"folkebibl.no":2,"museum.no":2,"idrett.no":2,"priv.no":2,"mil.no":2,"stat.no":2,"dep.no":2,"kommune.no":2,"herad.no":2,"aa.no":2,"ah.no":2,"bu.no":2,"fm.no":2,"hl.no":2,"hm.no":2,"jan-mayen.no":2,"mr.no":2,"nl.no":2,"nt.no":2,"of.no":2,"ol.no":2,"oslo.no":2,"rl.no":2,"sf.no":2,"st.no":2,"svalbard.no":2,"tm.no":2,"tr.no":2,"va.no":2,"vf.no":2,"gs.aa.no":3,"gs.ah.no":3,"gs.bu.no":3,"gs.fm.no":3,"gs.hl.no":3,"gs.hm.no":3,"gs.jan-mayen.no":3,"gs.mr.no":3,"gs.nl.no":3,"gs.nt.no":3,"gs.of.no":3,"gs.ol.no":3,"gs.oslo.no":3,"gs.rl.no":3,"gs.sf.no":3,"gs.st.no":3,"gs.svalbard.no":3,"gs.tm.no":3,"gs.tr.no":3,"gs.va.no":3,"gs.vf.no":3,"akrehamn.no":2,"åkrehamn.no":2,"algard.no":2,"ålgård.no":2,"arna.no":2,"brumunddal.no":2,"bryne.no":2,"bronnoysund.no":2,"brønnøysund.no":2,"drobak.no":2,"drøbak.no":2,"egersund.no":2,"fetsund.no":2,"floro.no":2,"florø.no":2,"fredrikstad.no":2,"hokksund.no":2,"honefoss.no":2,"hønefoss.no":2,"jessheim.no":2,"jorpeland.no":2,"jørpeland.no":2,"kirkenes.no":2,"kopervik.no":2,"krokstadelva.no":2,"langevag.no":2,"langevåg.no":2,"leirvik.no":2,"mjondalen.no":2,"mjøndalen.no":2,"mo-i-rana.no":2,"mosjoen.no":2,"mosjøen.no":2,"nesoddtangen.no":2,"orkanger.no":2,"osoyro.no":2,"osøyro.no":2,"raholt.no":2,"råholt.no":2,"sandnessjoen.no":2,"sandnessjøen.no":2,"skedsmokorset.no":2,"slattum.no":2,"spjelkavik.no":2,"stathelle.no":2,"stavern.no":2,"stjordalshalsen.no":2,"stjørdalshalsen.no":2,"tananger.no":2,"tranby.no":2,"vossevangen.no":2,"afjord.no":2,"åfjord.no":2,"agdenes.no":2,"al.no":2,"ål.no":2,"alesund.no":2,"ålesund.no":2,"alstahaug.no":2,"alta.no":2,"áltá.no":2,"alaheadju.no":2,"álaheadju.no":2,"alvdal.no":2,"amli.no":2,"åmli.no":2,"amot.no":2,"åmot.no":2,"andebu.no":2,"andoy.no":2,"andøy.no":2,"andasuolo.no":2,"ardal.no":2,"årdal.no":2,"aremark.no":2,"arendal.no":2,"ås.no":2,"aseral.no":2,"åseral.no":2,"asker.no":2,"askim.no":2,"askvoll.no":2,"askoy.no":2,"askøy.no":2,"asnes.no":2,"åsnes.no":2,"audnedaln.no":2,"aukra.no":2,"aure.no":2,"aurland.no":2,"aurskog-holand.no":2,"aurskog-høland.no":2,"austevoll.no":2,"austrheim.no":2,"averoy.no":2,"averøy.no":2,"balestrand.no":2,"ballangen.no":2,"balat.no":2,"bálát.no":2,"balsfjord.no":2,"bahccavuotna.no":2,"báhccavuotna.no":2,"bamble.no":2,"bardu.no":2,"beardu.no":2,"beiarn.no":2,"bajddar.no":2,"bájddar.no":2,"baidar.no":2,"báidár.no":2,"berg.no":2,"bergen.no":2,"berlevag.no":2,"berlevåg.no":2,"bearalvahki.no":2,"bearalváhki.no":2,"bindal.no":2,"birkenes.no":2,"bjarkoy.no":2,"bjarkøy.no":2,"bjerkreim.no":2,"bjugn.no":2,"bodo.no":2,"bodø.no":2,"badaddja.no":2,"bådåddjå.no":2,"budejju.no":2,"bokn.no":2,"bremanger.no":2,"bronnoy.no":2,"brønnøy.no":2,"bygland.no":2,"bykle.no":2,"barum.no":2,"bærum.no":2,"bo.telemark.no":3,"bø.telemark.no":3,"bo.nordland.no":3,"bø.nordland.no":3,"bievat.no":2,"bievát.no":2,"bomlo.no":2,"bømlo.no":2,"batsfjord.no":2,"båtsfjord.no":2,"bahcavuotna.no":2,"báhcavuotna.no":2,"dovre.no":2,"drammen.no":2,"drangedal.no":2,"dyroy.no":2,"dyrøy.no":2,"donna.no":2,"dønna.no":2,"eid.no":2,"eidfjord.no":2,"eidsberg.no":2,"eidskog.no":2,"eidsvoll.no":2,"eigersund.no":2,"elverum.no":2,"enebakk.no":2,"engerdal.no":2,"etne.no":2,"etnedal.no":2,"evenes.no":2,"evenassi.no":2,"evenášši.no":2,"evje-og-hornnes.no":2,"farsund.no":2,"fauske.no":2,"fuossko.no":2,"fuoisku.no":2,"fedje.no":2,"fet.no":2,"finnoy.no":2,"finnøy.no":2,"fitjar.no":2,"fjaler.no":2,"fjell.no":2,"flakstad.no":2,"flatanger.no":2,"flekkefjord.no":2,"flesberg.no":2,"flora.no":2,"fla.no":2,"flå.no":2,"folldal.no":2,"forsand.no":2,"fosnes.no":2,"frei.no":2,"frogn.no":2,"froland.no":2,"frosta.no":2,"frana.no":2,"fræna.no":2,"froya.no":2,"frøya.no":2,"fusa.no":2,"fyresdal.no":2,"forde.no":2,"førde.no":2,"gamvik.no":2,"gangaviika.no":2,"gáŋgaviika.no":2,"gaular.no":2,"gausdal.no":2,"gildeskal.no":2,"gildeskål.no":2,"giske.no":2,"gjemnes.no":2,"gjerdrum.no":2,"gjerstad.no":2,"gjesdal.no":2,"gjovik.no":2,"gjøvik.no":2,"gloppen.no":2,"gol.no":2,"gran.no":2,"grane.no":2,"granvin.no":2,"gratangen.no":2,"grimstad.no":2,"grong.no":2,"kraanghke.no":2,"kråanghke.no":2,"grue.no":2,"gulen.no":2,"hadsel.no":2,"halden.no":2,"halsa.no":2,"hamar.no":2,"hamaroy.no":2,"habmer.no":2,"hábmer.no":2,"hapmir.no":2,"hápmir.no":2,"hammerfest.no":2,"hammarfeasta.no":2,"hámmárfeasta.no":2,"haram.no":2,"hareid.no":2,"harstad.no":2,"hasvik.no":2,"aknoluokta.no":2,"ákŋoluokta.no":2,"hattfjelldal.no":2,"aarborte.no":2,"haugesund.no":2,"hemne.no":2,"hemnes.no":2,"hemsedal.no":2,"heroy.more-og-romsdal.no":3,"herøy.møre-og-romsdal.no":3,"heroy.nordland.no":3,"herøy.nordland.no":3,"hitra.no":2,"hjartdal.no":2,"hjelmeland.no":2,"hobol.no":2,"hobøl.no":2,"hof.no":2,"hol.no":2,"hole.no":2,"holmestrand.no":2,"holtalen.no":2,"holtålen.no":2,"hornindal.no":2,"horten.no":2,"hurdal.no":2,"hurum.no":2,"hvaler.no":2,"hyllestad.no":2,"hagebostad.no":2,"hægebostad.no":2,"hoyanger.no":2,"høyanger.no":2,"hoylandet.no":2,"høylandet.no":2,"ha.no":2,"hå.no":2,"ibestad.no":2,"inderoy.no":2,"inderøy.no":2,"iveland.no":2,"jevnaker.no":2,"jondal.no":2,"jolster.no":2,"jølster.no":2,"karasjok.no":2,"karasjohka.no":2,"kárášjohka.no":2,"karlsoy.no":2,"galsa.no":2,"gálsá.no":2,"karmoy.no":2,"karmøy.no":2,"kautokeino.no":2,"guovdageaidnu.no":2,"klepp.no":2,"klabu.no":2,"klæbu.no":2,"kongsberg.no":2,"kongsvinger.no":2,"kragero.no":2,"kragerø.no":2,"kristiansand.no":2,"kristiansund.no":2,"krodsherad.no":2,"krødsherad.no":2,"kvalsund.no":2,"rahkkeravju.no":2,"ráhkkerávju.no":2,"kvam.no":2,"kvinesdal.no":2,"kvinnherad.no":2,"kviteseid.no":2,"kvitsoy.no":2,"kvitsøy.no":2,"kvafjord.no":2,"kvæfjord.no":2,"giehtavuoatna.no":2,"kvanangen.no":2,"kvænangen.no":2,"navuotna.no":2,"návuotna.no":2,"kafjord.no":2,"kåfjord.no":2,"gaivuotna.no":2,"gáivuotna.no":2,"larvik.no":2,"lavangen.no":2,"lavagis.no":2,"loabat.no":2,"loabát.no":2,"lebesby.no":2,"davvesiida.no":2,"leikanger.no":2,"leirfjord.no":2,"leka.no":2,"leksvik.no":2,"lenvik.no":2,"leangaviika.no":2,"leaŋgaviika.no":2,"lesja.no":2,"levanger.no":2,"lier.no":2,"lierne.no":2,"lillehammer.no":2,"lillesand.no":2,"lindesnes.no":2,"lindas.no":2,"lindås.no":2,"lom.no":2,"loppa.no":2,"lahppi.no":2,"láhppi.no":2,"lund.no":2,"lunner.no":2,"luroy.no":2,"lurøy.no":2,"luster.no":2,"lyngdal.no":2,"lyngen.no":2,"ivgu.no":2,"lardal.no":2,"lerdal.no":2,"lærdal.no":2,"lodingen.no":2,"lødingen.no":2,"lorenskog.no":2,"lørenskog.no":2,"loten.no":2,"løten.no":2,"malvik.no":2,"masoy.no":2,"måsøy.no":2,"muosat.no":2,"muosát.no":2,"mandal.no":2,"marker.no":2,"marnardal.no":2,"masfjorden.no":2,"meland.no":2,"meldal.no":2,"melhus.no":2,"meloy.no":2,"meløy.no":2,"meraker.no":2,"meråker.no":2,"moareke.no":2,"moåreke.no":2,"midsund.no":2,"midtre-gauldal.no":2,"modalen.no":2,"modum.no":2,"molde.no":2,"moskenes.no":2,"moss.no":2,"mosvik.no":2,"malselv.no":2,"målselv.no":2,"malatvuopmi.no":2,"málatvuopmi.no":2,"namdalseid.no":2,"aejrie.no":2,"namsos.no":2,"namsskogan.no":2,"naamesjevuemie.no":2,"nååmesjevuemie.no":2,"laakesvuemie.no":2,"nannestad.no":2,"narvik.no":2,"narviika.no":2,"naustdal.no":2,"nedre-eiker.no":2,"nes.akershus.no":3,"nes.buskerud.no":3,"nesna.no":2,"nesodden.no":2,"nesseby.no":2,"unjarga.no":2,"unjárga.no":2,"nesset.no":2,"nissedal.no":2,"nittedal.no":2,"nord-aurdal.no":2,"nord-fron.no":2,"nord-odal.no":2,"norddal.no":2,"nordkapp.no":2,"davvenjarga.no":2,"davvenjárga.no":2,"nordre-land.no":2,"nordreisa.no":2,"raisa.no":2,"ráisa.no":2,"nore-og-uvdal.no":2,"notodden.no":2,"naroy.no":2,"nærøy.no":2,"notteroy.no":2,"nøtterøy.no":2,"odda.no":2,"oksnes.no":2,"øksnes.no":2,"oppdal.no":2,"oppegard.no":2,"oppegård.no":2,"orkdal.no":2,"orland.no":2,"ørland.no":2,"orskog.no":2,"ørskog.no":2,"orsta.no":2,"ørsta.no":2,"os.hedmark.no":3,"os.hordaland.no":3,"osen.no":2,"osteroy.no":2,"osterøy.no":2,"ostre-toten.no":2,"østre-toten.no":2,"overhalla.no":2,"ovre-eiker.no":2,"øvre-eiker.no":2,"oyer.no":2,"øyer.no":2,"oygarden.no":2,"øygarden.no":2,"oystre-slidre.no":2,"øystre-slidre.no":2,"porsanger.no":2,"porsangu.no":2,"porsáŋgu.no":2,"porsgrunn.no":2,"radoy.no":2,"radøy.no":2,"rakkestad.no":2,"rana.no":2,"ruovat.no":2,"randaberg.no":2,"rauma.no":2,"rendalen.no":2,"rennebu.no":2,"rennesoy.no":2,"rennesøy.no":2,"rindal.no":2,"ringebu.no":2,"ringerike.no":2,"ringsaker.no":2,"rissa.no":2,"risor.no":2,"risør.no":2,"roan.no":2,"rollag.no":2,"rygge.no":2,"ralingen.no":2,"rælingen.no":2,"rodoy.no":2,"rødøy.no":2,"romskog.no":2,"rømskog.no":2,"roros.no":2,"røros.no":2,"rost.no":2,"røst.no":2,"royken.no":2,"røyken.no":2,"royrvik.no":2,"røyrvik.no":2,"rade.no":2,"råde.no":2,"salangen.no":2,"siellak.no":2,"saltdal.no":2,"salat.no":2,"sálát.no":2,"sálat.no":2,"samnanger.no":2,"sande.more-og-romsdal.no":3,"sande.møre-og-romsdal.no":3,"sande.vestfold.no":3,"sandefjord.no":2,"sandnes.no":2,"sandoy.no":2,"sandøy.no":2,"sarpsborg.no":2,"sauda.no":2,"sauherad.no":2,"sel.no":2,"selbu.no":2,"selje.no":2,"seljord.no":2,"sigdal.no":2,"siljan.no":2,"sirdal.no":2,"skaun.no":2,"skedsmo.no":2,"ski.no":2,"skien.no":2,"skiptvet.no":2,"skjervoy.no":2,"skjervøy.no":2,"skierva.no":2,"skiervá.no":2,"skjak.no":2,"skjåk.no":2,"skodje.no":2,"skanland.no":2,"skånland.no":2,"skanit.no":2,"skánit.no":2,"smola.no":2,"smøla.no":2,"snillfjord.no":2,"snasa.no":2,"snåsa.no":2,"snoasa.no":2,"snaase.no":2,"snåase.no":2,"sogndal.no":2,"sokndal.no":2,"sola.no":2,"solund.no":2,"songdalen.no":2,"sortland.no":2,"spydeberg.no":2,"stange.no":2,"stavanger.no":2,"steigen.no":2,"steinkjer.no":2,"stjordal.no":2,"stjørdal.no":2,"stokke.no":2,"stor-elvdal.no":2,"stord.no":2,"stordal.no":2,"storfjord.no":2,"omasvuotna.no":2,"strand.no":2,"stranda.no":2,"stryn.no":2,"sula.no":2,"suldal.no":2,"sund.no":2,"sunndal.no":2,"surnadal.no":2,"sveio.no":2,"svelvik.no":2,"sykkylven.no":2,"sogne.no":2,"søgne.no":2,"somna.no":2,"sømna.no":2,"sondre-land.no":2,"søndre-land.no":2,"sor-aurdal.no":2,"sør-aurdal.no":2,"sor-fron.no":2,"sør-fron.no":2,"sor-odal.no":2,"sør-odal.no":2,"sor-varanger.no":2,"sør-varanger.no":2,"matta-varjjat.no":2,"mátta-várjjat.no":2,"sorfold.no":2,"sørfold.no":2,"sorreisa.no":2,"sørreisa.no":2,"sorum.no":2,"sørum.no":2,"tana.no":2,"deatnu.no":2,"time.no":2,"tingvoll.no":2,"tinn.no":2,"tjeldsund.no":2,"dielddanuorri.no":2,"tjome.no":2,"tjøme.no":2,"tokke.no":2,"tolga.no":2,"torsken.no":2,"tranoy.no":2,"tranøy.no":2,"tromso.no":2,"tromsø.no":2,"tromsa.no":2,"romsa.no":2,"trondheim.no":2,"troandin.no":2,"trysil.no":2,"trana.no":2,"træna.no":2,"trogstad.no":2,"trøgstad.no":2,"tvedestrand.no":2,"tydal.no":2,"tynset.no":2,"tysfjord.no":2,"divtasvuodna.no":2,"divttasvuotna.no":2,"tysnes.no":2,"tysvar.no":2,"tysvær.no":2,"tonsberg.no":2,"tønsberg.no":2,"ullensaker.no":2,"ullensvang.no":2,"ulvik.no":2,"utsira.no":2,"vadso.no":2,"vadsø.no":2,"cahcesuolo.no":2,"čáhcesuolo.no":2,"vaksdal.no":2,"valle.no":2,"vang.no":2,"vanylven.no":2,"vardo.no":2,"vardø.no":2,"varggat.no":2,"várggát.no":2,"vefsn.no":2,"vaapste.no":2,"vega.no":2,"vegarshei.no":2,"vegårshei.no":2,"vennesla.no":2,"verdal.no":2,"verran.no":2,"vestby.no":2,"vestnes.no":2,"vestre-slidre.no":2,"vestre-toten.no":2,"vestvagoy.no":2,"vestvågøy.no":2,"vevelstad.no":2,"vik.no":2,"vikna.no":2,"vindafjord.no":2,"volda.no":2,"voss.no":2,"varoy.no":2,"værøy.no":2,"vagan.no":2,"vågan.no":2,"voagat.no":2,"vagsoy.no":2,"vågsøy.no":2,"vaga.no":2,"vågå.no":2,"valer.ostfold.no":3,"våler.østfold.no":3,"valer.hedmark.no":3,"våler.hedmark.no":3,"np":2,"nr":1,"biz.nr":2,"info.nr":2,"gov.nr":2,"edu.nr":2,"org.nr":2,"net.nr":2,"com.nr":2,"nu":1,"nz":1,"ac.nz":2,"co.nz":2,"cri.nz":2,"geek.nz":2,"gen.nz":2,"govt.nz":2,"health.nz":2,"iwi.nz":2,"kiwi.nz":2,"maori.nz":2,"mil.nz":2,"māori.nz":2,"net.nz":2,"org.nz":2,"parliament.nz":2,"school.nz":2,"om":1,"co.om":2,"com.om":2,"edu.om":2,"gov.om":2,"med.om":2,"museum.om":2,"net.om":2,"org.om":2,"pro.om":2,"onion":1,"org":1,"pa":1,"ac.pa":2,"gob.pa":2,"com.pa":2,"org.pa":2,"sld.pa":2,"edu.pa":2,"net.pa":2,"ing.pa":2,"abo.pa":2,"med.pa":2,"nom.pa":2,"pe":1,"edu.pe":2,"gob.pe":2,"nom.pe":2,"mil.pe":2,"org.pe":2,"com.pe":2,"net.pe":2,"pf":1,"com.pf":2,"org.pf":2,"edu.pf":2,"pg":2,"ph":1,"com.ph":2,"net.ph":2,"org.ph":2,"gov.ph":2,"edu.ph":2,"ngo.ph":2,"mil.ph":2,"i.ph":2,"pk":1,"com.pk":2,"net.pk":2,"edu.pk":2,"org.pk":2,"fam.pk":2,"biz.pk":2,"web.pk":2,"gov.pk":2,"gob.pk":2,"gok.pk":2,"gon.pk":2,"gop.pk":2,"gos.pk":2,"info.pk":2,"pl":1,"com.pl":2,"net.pl":2,"org.pl":2,"aid.pl":2,"agro.pl":2,"atm.pl":2,"auto.pl":2,"biz.pl":2,"edu.pl":2,"gmina.pl":2,"gsm.pl":2,"info.pl":2,"mail.pl":2,"miasta.pl":2,"media.pl":2,"mil.pl":2,"nieruchomosci.pl":2,"nom.pl":2,"pc.pl":2,"powiat.pl":2,"priv.pl":2,"realestate.pl":2,"rel.pl":2,"sex.pl":2,"shop.pl":2,"sklep.pl":2,"sos.pl":2,"szkola.pl":2,"targi.pl":2,"tm.pl":2,"tourism.pl":2,"travel.pl":2,"turystyka.pl":2,"gov.pl":2,"ap.gov.pl":3,"ic.gov.pl":3,"is.gov.pl":3,"us.gov.pl":3,"kmpsp.gov.pl":3,"kppsp.gov.pl":3,"kwpsp.gov.pl":3,"psp.gov.pl":3,"wskr.gov.pl":3,"kwp.gov.pl":3,"mw.gov.pl":3,"ug.gov.pl":3,"um.gov.pl":3,"umig.gov.pl":3,"ugim.gov.pl":3,"upow.gov.pl":3,"uw.gov.pl":3,"starostwo.gov.pl":3,"pa.gov.pl":3,"po.gov.pl":3,"psse.gov.pl":3,"pup.gov.pl":3,"rzgw.gov.pl":3,"sa.gov.pl":3,"so.gov.pl":3,"sr.gov.pl":3,"wsa.gov.pl":3,"sko.gov.pl":3,"uzs.gov.pl":3,"wiih.gov.pl":3,"winb.gov.pl":3,"pinb.gov.pl":3,"wios.gov.pl":3,"witd.gov.pl":3,"wzmiuw.gov.pl":3,"piw.gov.pl":3,"wiw.gov.pl":3,"griw.gov.pl":3,"wif.gov.pl":3,"oum.gov.pl":3,"sdn.gov.pl":3,"zp.gov.pl":3,"uppo.gov.pl":3,"mup.gov.pl":3,"wuoz.gov.pl":3,"konsulat.gov.pl":3,"oirm.gov.pl":3,"augustow.pl":2,"babia-gora.pl":2,"bedzin.pl":2,"beskidy.pl":2,"bialowieza.pl":2,"bialystok.pl":2,"bielawa.pl":2,"bieszczady.pl":2,"boleslawiec.pl":2,"bydgoszcz.pl":2,"bytom.pl":2,"cieszyn.pl":2,"czeladz.pl":2,"czest.pl":2,"dlugoleka.pl":2,"elblag.pl":2,"elk.pl":2,"glogow.pl":2,"gniezno.pl":2,"gorlice.pl":2,"grajewo.pl":2,"ilawa.pl":2,"jaworzno.pl":2,"jelenia-gora.pl":2,"jgora.pl":2,"kalisz.pl":2,"kazimierz-dolny.pl":2,"karpacz.pl":2,"kartuzy.pl":2,"kaszuby.pl":2,"katowice.pl":2,"kepno.pl":2,"ketrzyn.pl":2,"klodzko.pl":2,"kobierzyce.pl":2,"kolobrzeg.pl":2,"konin.pl":2,"konskowola.pl":2,"kutno.pl":2,"lapy.pl":2,"lebork.pl":2,"legnica.pl":2,"lezajsk.pl":2,"limanowa.pl":2,"lomza.pl":2,"lowicz.pl":2,"lubin.pl":2,"lukow.pl":2,"malbork.pl":2,"malopolska.pl":2,"mazowsze.pl":2,"mazury.pl":2,"mielec.pl":2,"mielno.pl":2,"mragowo.pl":2,"naklo.pl":2,"nowaruda.pl":2,"nysa.pl":2,"olawa.pl":2,"olecko.pl":2,"olkusz.pl":2,"olsztyn.pl":2,"opoczno.pl":2,"opole.pl":2,"ostroda.pl":2,"ostroleka.pl":2,"ostrowiec.pl":2,"ostrowwlkp.pl":2,"pila.pl":2,"pisz.pl":2,"podhale.pl":2,"podlasie.pl":2,"polkowice.pl":2,"pomorze.pl":2,"pomorskie.pl":2,"prochowice.pl":2,"pruszkow.pl":2,"przeworsk.pl":2,"pulawy.pl":2,"radom.pl":2,"rawa-maz.pl":2,"rybnik.pl":2,"rzeszow.pl":2,"sanok.pl":2,"sejny.pl":2,"slask.pl":2,"slupsk.pl":2,"sosnowiec.pl":2,"stalowa-wola.pl":2,"skoczow.pl":2,"starachowice.pl":2,"stargard.pl":2,"suwalki.pl":2,"swidnica.pl":2,"swiebodzin.pl":2,"swinoujscie.pl":2,"szczecin.pl":2,"szczytno.pl":2,"tarnobrzeg.pl":2,"tgory.pl":2,"turek.pl":2,"tychy.pl":2,"ustka.pl":2,"walbrzych.pl":2,"warmia.pl":2,"warszawa.pl":2,"waw.pl":2,"wegrow.pl":2,"wielun.pl":2,"wlocl.pl":2,"wloclawek.pl":2,"wodzislaw.pl":2,"wolomin.pl":2,"wroclaw.pl":2,"zachpomor.pl":2,"zagan.pl":2,"zarow.pl":2,"zgora.pl":2,"zgorzelec.pl":2,"pm":1,"pn":1,"gov.pn":2,"co.pn":2,"org.pn":2,"edu.pn":2,"net.pn":2,"post":1,"pr":1,"com.pr":2,"net.pr":2,"org.pr":2,"gov.pr":2,"edu.pr":2,"isla.pr":2,"pro.pr":2,"biz.pr":2,"info.pr":2,"name.pr":2,"est.pr":2,"prof.pr":2,"ac.pr":2,"pro":1,"aaa.pro":2,"aca.pro":2,"acct.pro":2,"avocat.pro":2,"bar.pro":2,"cpa.pro":2,"eng.pro":2,"jur.pro":2,"law.pro":2,"med.pro":2,"recht.pro":2,"ps":1,"edu.ps":2,"gov.ps":2,"sec.ps":2,"plo.ps":2,"com.ps":2,"org.ps":2,"net.ps":2,"pt":1,"net.pt":2,"gov.pt":2,"org.pt":2,"edu.pt":2,"int.pt":2,"publ.pt":2,"com.pt":2,"nome.pt":2,"pw":1,"co.pw":2,"ne.pw":2,"or.pw":2,"ed.pw":2,"go.pw":2,"belau.pw":2,"py":1,"com.py":2,"coop.py":2,"edu.py":2,"gov.py":2,"mil.py":2,"net.py":2,"org.py":2,"qa":1,"com.qa":2,"edu.qa":2,"gov.qa":2,"mil.qa":2,"name.qa":2,"net.qa":2,"org.qa":2,"sch.qa":2,"re":1,"asso.re":2,"com.re":2,"nom.re":2,"ro":1,"arts.ro":2,"com.ro":2,"firm.ro":2,"info.ro":2,"nom.ro":2,"nt.ro":2,"org.ro":2,"rec.ro":2,"store.ro":2,"tm.ro":2,"www.ro":2,"rs":1,"ac.rs":2,"co.rs":2,"edu.rs":2,"gov.rs":2,"in.rs":2,"org.rs":2,"ru":1,"rw":1,"ac.rw":2,"co.rw":2,"coop.rw":2,"gov.rw":2,"mil.rw":2,"net.rw":2,"org.rw":2,"sa":1,"com.sa":2,"net.sa":2,"org.sa":2,"gov.sa":2,"med.sa":2,"pub.sa":2,"edu.sa":2,"sch.sa":2,"sb":1,"com.sb":2,"edu.sb":2,"gov.sb":2,"net.sb":2,"org.sb":2,"sc":1,"com.sc":2,"gov.sc":2,"net.sc":2,"org.sc":2,"edu.sc":2,"sd":1,"com.sd":2,"net.sd":2,"org.sd":2,"edu.sd":2,"med.sd":2,"tv.sd":2,"gov.sd":2,"info.sd":2,"se":1,"a.se":2,"ac.se":2,"b.se":2,"bd.se":2,"brand.se":2,"c.se":2,"d.se":2,"e.se":2,"f.se":2,"fh.se":2,"fhsk.se":2,"fhv.se":2,"g.se":2,"h.se":2,"i.se":2,"k.se":2,"komforb.se":2,"kommunalforbund.se":2,"komvux.se":2,"l.se":2,"lanbib.se":2,"m.se":2,"n.se":2,"naturbruksgymn.se":2,"o.se":2,"org.se":2,"p.se":2,"parti.se":2,"pp.se":2,"press.se":2,"r.se":2,"s.se":2,"t.se":2,"tm.se":2,"u.se":2,"w.se":2,"x.se":2,"y.se":2,"z.se":2,"sg":1,"com.sg":2,"net.sg":2,"org.sg":2,"gov.sg":2,"edu.sg":2,"per.sg":2,"sh":1,"com.sh":2,"net.sh":2,"gov.sh":2,"org.sh":2,"mil.sh":2,"si":1,"sj":1,"sk":1,"sl":1,"com.sl":2,"net.sl":2,"edu.sl":2,"gov.sl":2,"org.sl":2,"sm":1,"sn":1,"art.sn":2,"com.sn":2,"edu.sn":2,"gouv.sn":2,"org.sn":2,"perso.sn":2,"univ.sn":2,"so":1,"com.so":2,"edu.so":2,"gov.so":2,"me.so":2,"net.so":2,"org.so":2,"sr":1,"ss":1,"biz.ss":2,"com.ss":2,"edu.ss":2,"gov.ss":2,"net.ss":2,"org.ss":2,"st":1,"co.st":2,"com.st":2,"consulado.st":2,"edu.st":2,"embaixada.st":2,"gov.st":2,"mil.st":2,"net.st":2,"org.st":2,"principe.st":2,"saotome.st":2,"store.st":2,"su":1,"sv":1,"com.sv":2,"edu.sv":2,"gob.sv":2,"org.sv":2,"red.sv":2,"sx":1,"gov.sx":2,"sy":1,"edu.sy":2,"gov.sy":2,"net.sy":2,"mil.sy":2,"com.sy":2,"org.sy":2,"sz":1,"co.sz":2,"ac.sz":2,"org.sz":2,"tc":1,"td":1,"tel":1,"tf":1,"tg":1,"th":1,"ac.th":2,"co.th":2,"go.th":2,"in.th":2,"mi.th":2,"net.th":2,"or.th":2,"tj":1,"ac.tj":2,"biz.tj":2,"co.tj":2,"com.tj":2,"edu.tj":2,"go.tj":2,"gov.tj":2,"int.tj":2,"mil.tj":2,"name.tj":2,"net.tj":2,"nic.tj":2,"org.tj":2,"test.tj":2,"web.tj":2,"tk":1,"tl":1,"gov.tl":2,"tm":1,"com.tm":2,"co.tm":2,"org.tm":2,"net.tm":2,"nom.tm":2,"gov.tm":2,"mil.tm":2,"edu.tm":2,"tn":1,"com.tn":2,"ens.tn":2,"fin.tn":2,"gov.tn":2,"ind.tn":2,"intl.tn":2,"nat.tn":2,"net.tn":2,"org.tn":2,"info.tn":2,"perso.tn":2,"tourism.tn":2,"edunet.tn":2,"rnrt.tn":2,"rns.tn":2,"rnu.tn":2,"mincom.tn":2,"agrinet.tn":2,"defense.tn":2,"turen.tn":2,"to":1,"com.to":2,"gov.to":2,"net.to":2,"org.to":2,"edu.to":2,"mil.to":2,"tr":1,"av.tr":2,"bbs.tr":2,"bel.tr":2,"biz.tr":2,"com.tr":2,"dr.tr":2,"edu.tr":2,"gen.tr":2,"gov.tr":2,"info.tr":2,"mil.tr":2,"k12.tr":2,"kep.tr":2,"name.tr":2,"net.tr":2,"org.tr":2,"pol.tr":2,"tel.tr":2,"tsk.tr":2,"tv.tr":2,"web.tr":2,"nc.tr":2,"gov.nc.tr":3,"tt":1,"co.tt":2,"com.tt":2,"org.tt":2,"net.tt":2,"biz.tt":2,"info.tt":2,"pro.tt":2,"int.tt":2,"coop.tt":2,"jobs.tt":2,"mobi.tt":2,"travel.tt":2,"museum.tt":2,"aero.tt":2,"name.tt":2,"gov.tt":2,"edu.tt":2,"tv":1,"tw":1,"edu.tw":2,"gov.tw":2,"mil.tw":2,"com.tw":2,"net.tw":2,"org.tw":2,"idv.tw":2,"game.tw":2,"ebiz.tw":2,"club.tw":2,"網路.tw":2,"組織.tw":2,"商業.tw":2,"tz":1,"ac.tz":2,"co.tz":2,"go.tz":2,"hotel.tz":2,"info.tz":2,"me.tz":2,"mil.tz":2,"mobi.tz":2,"ne.tz":2,"or.tz":2,"sc.tz":2,"tv.tz":2,"ua":1,"com.ua":2,"edu.ua":2,"gov.ua":2,"in.ua":2,"net.ua":2,"org.ua":2,"cherkassy.ua":2,"cherkasy.ua":2,"chernigov.ua":2,"chernihiv.ua":2,"chernivtsi.ua":2,"chernovtsy.ua":2,"ck.ua":2,"cn.ua":2,"cr.ua":2,"crimea.ua":2,"cv.ua":2,"dn.ua":2,"dnepropetrovsk.ua":2,"dnipropetrovsk.ua":2,"donetsk.ua":2,"dp.ua":2,"if.ua":2,"ivano-frankivsk.ua":2,"kh.ua":2,"kharkiv.ua":2,"kharkov.ua":2,"kherson.ua":2,"khmelnitskiy.ua":2,"khmelnytskyi.ua":2,"kiev.ua":2,"kirovograd.ua":2,"km.ua":2,"kr.ua":2,"krym.ua":2,"ks.ua":2,"kv.ua":2,"kyiv.ua":2,"lg.ua":2,"lt.ua":2,"lugansk.ua":2,"lutsk.ua":2,"lv.ua":2,"lviv.ua":2,"mk.ua":2,"mykolaiv.ua":2,"nikolaev.ua":2,"od.ua":2,"odesa.ua":2,"odessa.ua":2,"pl.ua":2,"poltava.ua":2,"rivne.ua":2,"rovno.ua":2,"rv.ua":2,"sb.ua":2,"sebastopol.ua":2,"sevastopol.ua":2,"sm.ua":2,"sumy.ua":2,"te.ua":2,"ternopil.ua":2,"uz.ua":2,"uzhgorod.ua":2,"vinnica.ua":2,"vinnytsia.ua":2,"vn.ua":2,"volyn.ua":2,"yalta.ua":2,"zaporizhzhe.ua":2,"zaporizhzhia.ua":2,"zhitomir.ua":2,"zhytomyr.ua":2,"zp.ua":2,"zt.ua":2,"ug":1,"co.ug":2,"or.ug":2,"ac.ug":2,"sc.ug":2,"go.ug":2,"ne.ug":2,"com.ug":2,"org.ug":2,"uk":1,"ac.uk":2,"co.uk":2,"gov.uk":2,"ltd.uk":2,"me.uk":2,"net.uk":2,"nhs.uk":2,"org.uk":2,"plc.uk":2,"police.uk":2,"sch.uk":3,"us":1,"dni.us":2,"fed.us":2,"isa.us":2,"kids.us":2,"nsn.us":2,"ak.us":2,"al.us":2,"ar.us":2,"as.us":2,"az.us":2,"ca.us":2,"co.us":2,"ct.us":2,"dc.us":2,"de.us":2,"fl.us":2,"ga.us":2,"gu.us":2,"hi.us":2,"ia.us":2,"id.us":2,"il.us":2,"in.us":2,"ks.us":2,"ky.us":2,"la.us":2,"ma.us":2,"md.us":2,"me.us":2,"mi.us":2,"mn.us":2,"mo.us":2,"ms.us":2,"mt.us":2,"nc.us":2,"nd.us":2,"ne.us":2,"nh.us":2,"nj.us":2,"nm.us":2,"nv.us":2,"ny.us":2,"oh.us":2,"ok.us":2,"or.us":2,"pa.us":2,"pr.us":2,"ri.us":2,"sc.us":2,"sd.us":2,"tn.us":2,"tx.us":2,"ut.us":2,"vi.us":2,"vt.us":2,"va.us":2,"wa.us":2,"wi.us":2,"wv.us":2,"wy.us":2,"k12.ak.us":3,"k12.al.us":3,"k12.ar.us":3,"k12.as.us":3,"k12.az.us":3,"k12.ca.us":3,"k12.co.us":3,"k12.ct.us":3,"k12.dc.us":3,"k12.de.us":3,"k12.fl.us":3,"k12.ga.us":3,"k12.gu.us":3,"k12.ia.us":3,"k12.id.us":3,"k12.il.us":3,"k12.in.us":3,"k12.ks.us":3,"k12.ky.us":3,"k12.la.us":3,"k12.ma.us":3,"k12.md.us":3,"k12.me.us":3,"k12.mi.us":3,"k12.mn.us":3,"k12.mo.us":3,"k12.ms.us":3,"k12.mt.us":3,"k12.nc.us":3,"k12.ne.us":3,"k12.nh.us":3,"k12.nj.us":3,"k12.nm.us":3,"k12.nv.us":3,"k12.ny.us":3,"k12.oh.us":3,"k12.ok.us":3,"k12.or.us":3,"k12.pa.us":3,"k12.pr.us":3,"k12.sc.us":3,"k12.tn.us":3,"k12.tx.us":3,"k12.ut.us":3,"k12.vi.us":3,"k12.vt.us":3,"k12.va.us":3,"k12.wa.us":3,"k12.wi.us":3,"k12.wy.us":3,"cc.ak.us":3,"cc.al.us":3,"cc.ar.us":3,"cc.as.us":3,"cc.az.us":3,"cc.ca.us":3,"cc.co.us":3,"cc.ct.us":3,"cc.dc.us":3,"cc.de.us":3,"cc.fl.us":3,"cc.ga.us":3,"cc.gu.us":3,"cc.hi.us":3,"cc.ia.us":3,"cc.id.us":3,"cc.il.us":3,"cc.in.us":3,"cc.ks.us":3,"cc.ky.us":3,"cc.la.us":3,"cc.ma.us":3,"cc.md.us":3,"cc.me.us":3,"cc.mi.us":3,"cc.mn.us":3,"cc.mo.us":3,"cc.ms.us":3,"cc.mt.us":3,"cc.nc.us":3,"cc.nd.us":3,"cc.ne.us":3,"cc.nh.us":3,"cc.nj.us":3,"cc.nm.us":3,"cc.nv.us":3,"cc.ny.us":3,"cc.oh.us":3,"cc.ok.us":3,"cc.or.us":3,"cc.pa.us":3,"cc.pr.us":3,"cc.ri.us":3,"cc.sc.us":3,"cc.sd.us":3,"cc.tn.us":3,"cc.tx.us":3,"cc.ut.us":3,"cc.vi.us":3,"cc.vt.us":3,"cc.va.us":3,"cc.wa.us":3,"cc.wi.us":3,"cc.wv.us":3,"cc.wy.us":3,"lib.ak.us":3,"lib.al.us":3,"lib.ar.us":3,"lib.as.us":3,"lib.az.us":3,"lib.ca.us":3,"lib.co.us":3,"lib.ct.us":3,"lib.dc.us":3,"lib.fl.us":3,"lib.ga.us":3,"lib.gu.us":3,"lib.hi.us":3,"lib.ia.us":3,"lib.id.us":3,"lib.il.us":3,"lib.in.us":3,"lib.ks.us":3,"lib.ky.us":3,"lib.la.us":3,"lib.ma.us":3,"lib.md.us":3,"lib.me.us":3,"lib.mi.us":3,"lib.mn.us":3,"lib.mo.us":3,"lib.ms.us":3,"lib.mt.us":3,"lib.nc.us":3,"lib.nd.us":3,"lib.ne.us":3,"lib.nh.us":3,"lib.nj.us":3,"lib.nm.us":3,"lib.nv.us":3,"lib.ny.us":3,"lib.oh.us":3,"lib.ok.us":3,"lib.or.us":3,"lib.pa.us":3,"lib.pr.us":3,"lib.ri.us":3,"lib.sc.us":3,"lib.sd.us":3,"lib.tn.us":3,"lib.tx.us":3,"lib.ut.us":3,"lib.vi.us":3,"lib.vt.us":3,"lib.va.us":3,"lib.wa.us":3,"lib.wi.us":3,"lib.wy.us":3,"pvt.k12.ma.us":4,"chtr.k12.ma.us":4,"paroch.k12.ma.us":4,"ann-arbor.mi.us":3,"cog.mi.us":3,"dst.mi.us":3,"eaton.mi.us":3,"gen.mi.us":3,"mus.mi.us":3,"tec.mi.us":3,"washtenaw.mi.us":3,"uy":1,"com.uy":2,"edu.uy":2,"gub.uy":2,"mil.uy":2,"net.uy":2,"org.uy":2,"uz":1,"co.uz":2,"com.uz":2,"net.uz":2,"org.uz":2,"va":1,"vc":1,"com.vc":2,"net.vc":2,"org.vc":2,"gov.vc":2,"mil.vc":2,"edu.vc":2,"ve":1,"arts.ve":2,"co.ve":2,"com.ve":2,"e12.ve":2,"edu.ve":2,"firm.ve":2,"gob.ve":2,"gov.ve":2,"info.ve":2,"int.ve":2,"mil.ve":2,"net.ve":2,"org.ve":2,"rec.ve":2,"store.ve":2,"tec.ve":2,"web.ve":2,"vg":1,"vi":1,"co.vi":2,"com.vi":2,"k12.vi":2,"net.vi":2,"org.vi":2,"vn":1,"com.vn":2,"net.vn":2,"org.vn":2,"edu.vn":2,"gov.vn":2,"int.vn":2,"ac.vn":2,"biz.vn":2,"info.vn":2,"name.vn":2,"pro.vn":2,"health.vn":2,"vu":1,"com.vu":2,"edu.vu":2,"net.vu":2,"org.vu":2,"wf":1,"ws":1,"com.ws":2,"net.ws":2,"org.ws":2,"gov.ws":2,"edu.ws":2,"yt":1,"امارات":1,"հայ":1,"বাংলা":1,"бг":1,"البحرين":1,"бел":1,"中国":1,"中國":1,"الجزائر":1,"مصر":1,"ею":1,"ευ":1,"موريتانيا":1,"გე":1,"ελ":1,"香港":1,"公司.香港":2,"教育.香港":2,"政府.香港":2,"個人.香港":2,"網絡.香港":2,"組織.香港":2,"ಭಾರತ":1,"ଭାରତ":1,"ভাৰত":1,"भारतम्":1,"भारोत":1,"ڀارت":1,"ഭാരതം":1,"भारत":1,"بارت":1,"بھارت":1,"భారత్":1,"ભારત":1,"ਭਾਰਤ":1,"ভারত":1,"இந்தியா":1,"ایران":1,"ايران":1,"عراق":1,"الاردن":1,"한국":1,"қаз":1,"ລາວ":1,"ලංකා":1,"இலங்கை":1,"المغرب":1,"мкд":1,"мон":1,"澳門":1,"澳门":1,"مليسيا":1,"عمان":1,"پاکستان":1,"پاكستان":1,"فلسطين":1,"срб":1,"пр.срб":2,"орг.срб":2,"обр.срб":2,"од.срб":2,"упр.срб":2,"ак.срб":2,"рф":1,"قطر":1,"السعودية":1,"السعودیة":1,"السعودیۃ":1,"السعوديه":1,"سودان":1,"新加坡":1,"சிங்கப்பூர்":1,"سورية":1,"سوريا":1,"ไทย":1,"ศึกษา.ไทย":2,"ธุรกิจ.ไทย":2,"รัฐบาล.ไทย":2,"ทหาร.ไทย":2,"เน็ต.ไทย":2,"องค์กร.ไทย":2,"تونس":1,"台灣":1,"台湾":1,"臺灣":1,"укр":1,"اليمن":1,"xxx":1,"ye":1,"com.ye":2,"edu.ye":2,"gov.ye":2,"net.ye":2,"mil.ye":2,"org.ye":2,"ac.za":2,"agric.za":2,"alt.za":2,"co.za":2,"edu.za":2,"gov.za":2,"grondar.za":2,"law.za":2,"mil.za":2,"net.za":2,"ngo.za":2,"nic.za":2,"nis.za":2,"nom.za":2,"org.za":2,"school.za":2,"tm.za":2,"web.za":2,"zm":1,"ac.zm":2,"biz.zm":2,"co.zm":2,"com.zm":2,"edu.zm":2,"gov.zm":2,"info.zm":2,"mil.zm":2,"net.zm":2,"org.zm":2,"sch.zm":2,"zw":1,"ac.zw":2,"co.zw":2,"gov.zw":2,"mil.zw":2,"org.zw":2,"aaa":1,"aarp":1,"abarth":1,"abb":1,"abbott":1,"abbvie":1,"abc":1,"able":1,"abogado":1,"abudhabi":1,"academy":1,"accenture":1,"accountant":1,"accountants":1,"aco":1,"actor":1,"adac":1,"ads":1,"adult":1,"aeg":1,"aetna":1,"afamilycompany":1,"afl":1,"africa":1,"agakhan":1,"agency":1,"aig":1,"airbus":1,"airforce":1,"airtel":1,"akdn":1,"alfaromeo":1,"alibaba":1,"alipay":1,"allfinanz":1,"allstate":1,"ally":1,"alsace":1,"alstom":1,"amazon":1,"americanexpress":1,"americanfamily":1,"amex":1,"amfam":1,"amica":1,"amsterdam":1,"analytics":1,"android":1,"anquan":1,"anz":1,"aol":1,"apartments":1,"app":1,"apple":1,"aquarelle":1,"arab":1,"aramco":1,"archi":1,"army":1,"art":1,"arte":1,"asda":1,"associates":1,"athleta":1,"attorney":1,"auction":1,"audi":1,"audible":1,"audio":1,"auspost":1,"author":1,"auto":1,"autos":1,"avianca":1,"aws":1,"axa":1,"azure":1,"baby":1,"baidu":1,"banamex":1,"bananarepublic":1,"band":1,"bank":1,"bar":1,"barcelona":1,"barclaycard":1,"barclays":1,"barefoot":1,"bargains":1,"baseball":1,"basketball":1,"bauhaus":1,"bayern":1,"bbc":1,"bbt":1,"bbva":1,"bcg":1,"bcn":1,"beats":1,"beauty":1,"beer":1,"bentley":1,"berlin":1,"best":1,"bestbuy":1,"bet":1,"bharti":1,"bible":1,"bid":1,"bike":1,"bing":1,"bingo":1,"bio":1,"black":1,"blackfriday":1,"blockbuster":1,"blog":1,"bloomberg":1,"blue":1,"bms":1,"bmw":1,"bnpparibas":1,"boats":1,"boehringer":1,"bofa":1,"bom":1,"bond":1,"boo":1,"book":1,"booking":1,"bosch":1,"bostik":1,"boston":1,"bot":1,"boutique":1,"box":1,"bradesco":1,"bridgestone":1,"broadway":1,"broker":1,"brother":1,"brussels":1,"budapest":1,"bugatti":1,"build":1,"builders":1,"business":1,"buy":1,"buzz":1,"bzh":1,"cab":1,"cafe":1,"cal":1,"call":1,"calvinklein":1,"cam":1,"camera":1,"camp":1,"cancerresearch":1,"canon":1,"capetown":1,"capital":1,"capitalone":1,"car":1,"caravan":1,"cards":1,"care":1,"career":1,"careers":1,"cars":1,"casa":1,"case":1,"cash":1,"casino":1,"catering":1,"catholic":1,"cba":1,"cbn":1,"cbre":1,"cbs":1,"center":1,"ceo":1,"cern":1,"cfa":1,"cfd":1,"chanel":1,"channel":1,"charity":1,"chase":1,"chat":1,"cheap":1,"chintai":1,"christmas":1,"chrome":1,"church":1,"cipriani":1,"circle":1,"cisco":1,"citadel":1,"citi":1,"citic":1,"city":1,"cityeats":1,"claims":1,"cleaning":1,"click":1,"clinic":1,"clinique":1,"clothing":1,"cloud":1,"club":1,"clubmed":1,"coach":1,"codes":1,"coffee":1,"college":1,"cologne":1,"comcast":1,"commbank":1,"community":1,"company":1,"compare":1,"computer":1,"comsec":1,"condos":1,"construction":1,"consulting":1,"contact":1,"contractors":1,"cooking":1,"cookingchannel":1,"cool":1,"corsica":1,"country":1,"coupon":1,"coupons":1,"courses":1,"cpa":1,"credit":1,"creditcard":1,"creditunion":1,"cricket":1,"crown":1,"crs":1,"cruise":1,"cruises":1,"csc":1,"cuisinella":1,"cymru":1,"cyou":1,"dabur":1,"dad":1,"dance":1,"data":1,"date":1,"dating":1,"datsun":1,"day":1,"dclk":1,"dds":1,"deal":1,"dealer":1,"deals":1,"degree":1,"delivery":1,"dell":1,"deloitte":1,"delta":1,"democrat":1,"dental":1,"dentist":1,"desi":1,"design":1,"dev":1,"dhl":1,"diamonds":1,"diet":1,"digital":1,"direct":1,"directory":1,"discount":1,"discover":1,"dish":1,"diy":1,"dnp":1,"docs":1,"doctor":1,"dog":1,"domains":1,"dot":1,"download":1,"drive":1,"dtv":1,"dubai":1,"duck":1,"dunlop":1,"dupont":1,"durban":1,"dvag":1,"dvr":1,"earth":1,"eat":1,"eco":1,"edeka":1,"education":1,"email":1,"emerck":1,"energy":1,"engineer":1,"engineering":1,"enterprises":1,"epson":1,"equipment":1,"ericsson":1,"erni":1,"esq":1,"estate":1,"etisalat":1,"eurovision":1,"eus":1,"events":1,"exchange":1,"expert":1,"exposed":1,"express":1,"extraspace":1,"fage":1,"fail":1,"fairwinds":1,"faith":1,"family":1,"fan":1,"fans":1,"farm":1,"farmers":1,"fashion":1,"fast":1,"fedex":1,"feedback":1,"ferrari":1,"ferrero":1,"fiat":1,"fidelity":1,"fido":1,"film":1,"final":1,"finance":1,"financial":1,"fire":1,"firestone":1,"firmdale":1,"fish":1,"fishing":1,"fit":1,"fitness":1,"flickr":1,"flights":1,"flir":1,"florist":1,"flowers":1,"fly":1,"foo":1,"food":1,"foodnetwork":1,"football":1,"ford":1,"forex":1,"forsale":1,"forum":1,"foundation":1,"fox":1,"free":1,"fresenius":1,"frl":1,"frogans":1,"frontdoor":1,"frontier":1,"ftr":1,"fujitsu":1,"fujixerox":1,"fun":1,"fund":1,"furniture":1,"futbol":1,"fyi":1,"gal":1,"gallery":1,"gallo":1,"gallup":1,"game":1,"games":1,"gap":1,"garden":1,"gay":1,"gbiz":1,"gdn":1,"gea":1,"gent":1,"genting":1,"george":1,"ggee":1,"gift":1,"gifts":1,"gives":1,"giving":1,"glade":1,"glass":1,"gle":1,"global":1,"globo":1,"gmail":1,"gmbh":1,"gmo":1,"gmx":1,"godaddy":1,"gold":1,"goldpoint":1,"golf":1,"goo":1,"goodyear":1,"goog":1,"google":1,"gop":1,"got":1,"grainger":1,"graphics":1,"gratis":1,"green":1,"gripe":1,"grocery":1,"group":1,"guardian":1,"gucci":1,"guge":1,"guide":1,"guitars":1,"guru":1,"hair":1,"hamburg":1,"hangout":1,"haus":1,"hbo":1,"hdfc":1,"hdfcbank":1,"health":1,"healthcare":1,"help":1,"helsinki":1,"here":1,"hermes":1,"hgtv":1,"hiphop":1,"hisamitsu":1,"hitachi":1,"hiv":1,"hkt":1,"hockey":1,"holdings":1,"holiday":1,"homedepot":1,"homegoods":1,"homes":1,"homesense":1,"honda":1,"horse":1,"hospital":1,"host":1,"hosting":1,"hot":1,"hoteles":1,"hotels":1,"hotmail":1,"house":1,"how":1,"hsbc":1,"hughes":1,"hyatt":1,"hyundai":1,"ibm":1,"icbc":1,"ice":1,"icu":1,"ieee":1,"ifm":1,"ikano":1,"imamat":1,"imdb":1,"immo":1,"immobilien":1,"inc":1,"industries":1,"infiniti":1,"ing":1,"ink":1,"institute":1,"insurance":1,"insure":1,"international":1,"intuit":1,"investments":1,"ipiranga":1,"irish":1,"ismaili":1,"ist":1,"istanbul":1,"itau":1,"itv":1,"iveco":1,"jaguar":1,"java":1,"jcb":1,"jeep":1,"jetzt":1,"jewelry":1,"jio":1,"jll":1,"jmp":1,"jnj":1,"joburg":1,"jot":1,"joy":1,"jpmorgan":1,"jprs":1,"juegos":1,"juniper":1,"kaufen":1,"kddi":1,"kerryhotels":1,"kerrylogistics":1,"kerryproperties":1,"kfh":1,"kia":1,"kim":1,"kinder":1,"kindle":1,"kitchen":1,"kiwi":1,"koeln":1,"komatsu":1,"kosher":1,"kpmg":1,"kpn":1,"krd":1,"kred":1,"kuokgroup":1,"kyoto":1,"lacaixa":1,"lamborghini":1,"lamer":1,"lancaster":1,"lancia":1,"land":1,"landrover":1,"lanxess":1,"lasalle":1,"lat":1,"latino":1,"latrobe":1,"law":1,"lawyer":1,"lds":1,"lease":1,"leclerc":1,"lefrak":1,"legal":1,"lego":1,"lexus":1,"lgbt":1,"lidl":1,"life":1,"lifeinsurance":1,"lifestyle":1,"lighting":1,"like":1,"lilly":1,"limited":1,"limo":1,"lincoln":1,"linde":1,"link":1,"lipsy":1,"live":1,"living":1,"lixil":1,"llc":1,"llp":1,"loan":1,"loans":1,"locker":1,"locus":1,"loft":1,"lol":1,"london":1,"lotte":1,"lotto":1,"love":1,"lpl":1,"lplfinancial":1,"ltd":1,"ltda":1,"lundbeck":1,"luxe":1,"luxury":1,"macys":1,"madrid":1,"maif":1,"maison":1,"makeup":1,"man":1,"management":1,"mango":1,"map":1,"market":1,"marketing":1,"markets":1,"marriott":1,"marshalls":1,"maserati":1,"mattel":1,"mba":1,"mckinsey":1,"med":1,"media":1,"meet":1,"melbourne":1,"meme":1,"memorial":1,"men":1,"menu":1,"merckmsd":1,"miami":1,"microsoft":1,"mini":1,"mint":1,"mit":1,"mitsubishi":1,"mlb":1,"mls":1,"mma":1,"mobile":1,"moda":1,"moe":1,"moi":1,"mom":1,"monash":1,"money":1,"monster":1,"mormon":1,"mortgage":1,"moscow":1,"moto":1,"motorcycles":1,"mov":1,"movie":1,"msd":1,"mtn":1,"mtr":1,"mutual":1,"nab":1,"nagoya":1,"nationwide":1,"natura":1,"navy":1,"nba":1,"nec":1,"netbank":1,"netflix":1,"network":1,"neustar":1,"new":1,"news":1,"next":1,"nextdirect":1,"nexus":1,"nfl":1,"ngo":1,"nhk":1,"nico":1,"nike":1,"nikon":1,"ninja":1,"nissan":1,"nissay":1,"nokia":1,"northwesternmutual":1,"norton":1,"now":1,"nowruz":1,"nowtv":1,"nra":1,"nrw":1,"ntt":1,"nyc":1,"obi":1,"observer":1,"off":1,"office":1,"okinawa":1,"olayan":1,"olayangroup":1,"oldnavy":1,"ollo":1,"omega":1,"one":1,"ong":1,"onl":1,"online":1,"onyourside":1,"ooo":1,"open":1,"oracle":1,"orange":1,"organic":1,"origins":1,"osaka":1,"otsuka":1,"ott":1,"ovh":1,"page":1,"panasonic":1,"paris":1,"pars":1,"partners":1,"parts":1,"party":1,"passagens":1,"pay":1,"pccw":1,"pet":1,"pfizer":1,"pharmacy":1,"phd":1,"philips":1,"phone":1,"photo":1,"photography":1,"photos":1,"physio":1,"pics":1,"pictet":1,"pictures":1,"pid":1,"pin":1,"ping":1,"pink":1,"pioneer":1,"pizza":1,"place":1,"play":1,"playstation":1,"plumbing":1,"plus":1,"pnc":1,"pohl":1,"poker":1,"politie":1,"porn":1,"pramerica":1,"praxi":1,"press":1,"prime":1,"prod":1,"productions":1,"prof":1,"progressive":1,"promo":1,"properties":1,"property":1,"protection":1,"pru":1,"prudential":1,"pub":1,"pwc":1,"qpon":1,"quebec":1,"quest":1,"qvc":1,"racing":1,"radio":1,"raid":1,"read":1,"realestate":1,"realtor":1,"realty":1,"recipes":1,"red":1,"redstone":1,"redumbrella":1,"rehab":1,"reise":1,"reisen":1,"reit":1,"reliance":1,"ren":1,"rent":1,"rentals":1,"repair":1,"report":1,"republican":1,"rest":1,"restaurant":1,"review":1,"reviews":1,"rexroth":1,"rich":1,"richardli":1,"ricoh":1,"ril":1,"rio":1,"rip":1,"rmit":1,"rocher":1,"rocks":1,"rodeo":1,"rogers":1,"room":1,"rsvp":1,"rugby":1,"ruhr":1,"run":1,"rwe":1,"ryukyu":1,"saarland":1,"safe":1,"safety":1,"sakura":1,"sale":1,"salon":1,"samsclub":1,"samsung":1,"sandvik":1,"sandvikcoromant":1,"sanofi":1,"sap":1,"sarl":1,"sas":1,"save":1,"saxo":1,"sbi":1,"sbs":1,"sca":1,"scb":1,"schaeffler":1,"schmidt":1,"scholarships":1,"school":1,"schule":1,"schwarz":1,"science":1,"scjohnson":1,"scot":1,"search":1,"seat":1,"secure":1,"security":1,"seek":1,"select":1,"sener":1,"services":1,"ses":1,"seven":1,"sew":1,"sex":1,"sexy":1,"sfr":1,"shangrila":1,"sharp":1,"shaw":1,"shell":1,"shia":1,"shiksha":1,"shoes":1,"shop":1,"shopping":1,"shouji":1,"show":1,"showtime":1,"silk":1,"sina":1,"singles":1,"site":1,"ski":1,"skin":1,"sky":1,"skype":1,"sling":1,"smart":1,"smile":1,"sncf":1,"soccer":1,"social":1,"softbank":1,"software":1,"sohu":1,"solar":1,"solutions":1,"song":1,"sony":1,"soy":1,"spa":1,"space":1,"sport":1,"spot":1,"spreadbetting":1,"srl":1,"stada":1,"staples":1,"star":1,"statebank":1,"statefarm":1,"stc":1,"stcgroup":1,"stockholm":1,"storage":1,"store":1,"stream":1,"studio":1,"study":1,"style":1,"sucks":1,"supplies":1,"supply":1,"support":1,"surf":1,"surgery":1,"suzuki":1,"swatch":1,"swiftcover":1,"swiss":1,"sydney":1,"systems":1,"tab":1,"taipei":1,"talk":1,"taobao":1,"target":1,"tatamotors":1,"tatar":1,"tattoo":1,"tax":1,"taxi":1,"tci":1,"tdk":1,"team":1,"tech":1,"technology":1,"temasek":1,"tennis":1,"teva":1,"thd":1,"theater":1,"theatre":1,"tiaa":1,"tickets":1,"tienda":1,"tiffany":1,"tips":1,"tires":1,"tirol":1,"tjmaxx":1,"tjx":1,"tkmaxx":1,"tmall":1,"today":1,"tokyo":1,"tools":1,"top":1,"toray":1,"toshiba":1,"total":1,"tours":1,"town":1,"toyota":1,"toys":1,"trade":1,"trading":1,"training":1,"travel":1,"travelchannel":1,"travelers":1,"travelersinsurance":1,"trust":1,"trv":1,"tube":1,"tui":1,"tunes":1,"tushu":1,"tvs":1,"ubank":1,"ubs":1,"unicom":1,"university":1,"uno":1,"uol":1,"ups":1,"vacations":1,"vana":1,"vanguard":1,"vegas":1,"ventures":1,"verisign":1,"versicherung":1,"vet":1,"viajes":1,"video":1,"vig":1,"viking":1,"villas":1,"vin":1,"vip":1,"virgin":1,"visa":1,"vision":1,"viva":1,"vivo":1,"vlaanderen":1,"vodka":1,"volkswagen":1,"volvo":1,"vote":1,"voting":1,"voto":1,"voyage":1,"vuelos":1,"wales":1,"walmart":1,"walter":1,"wang":1,"wanggou":1,"watch":1,"watches":1,"weather":1,"weatherchannel":1,"webcam":1,"weber":1,"website":1,"wedding":1,"weibo":1,"weir":1,"whoswho":1,"wien":1,"wiki":1,"williamhill":1,"win":1,"windows":1,"wine":1,"winners":1,"wme":1,"wolterskluwer":1,"woodside":1,"work":1,"works":1,"world":1,"wow":1,"wtc":1,"wtf":1,"xbox":1,"xerox":1,"xfinity":1,"xihuan":1,"xin":1,"कॉम":1,"セール":1,"佛山":1,"慈善":1,"集团":1,"在线":1,"大众汽车":1,"点看":1,"คอม":1,"八卦":1,"موقع":1,"公益":1,"公司":1,"香格里拉":1,"网站":1,"移动":1,"我爱你":1,"москва":1,"католик":1,"онлайн":1,"сайт":1,"联通":1,"קום":1,"时尚":1,"微博":1,"淡马锡":1,"ファッション":1,"орг":1,"नेट":1,"ストア":1,"アマゾン":1,"삼성":1,"商标":1,"商店":1,"商城":1,"дети":1,"ポイント":1,"新闻":1,"家電":1,"كوم":1,"中文网":1,"中信":1,"娱乐":1,"谷歌":1,"電訊盈科":1,"购物":1,"クラウド":1,"通販":1,"网店":1,"संगठन":1,"餐厅":1,"网络":1,"ком":1,"亚马逊":1,"诺基亚":1,"食品":1,"飞利浦":1,"手机":1,"ارامكو":1,"العليان":1,"اتصالات":1,"بازار":1,"ابوظبي":1,"كاثوليك":1,"همراه":1,"닷컴":1,"政府":1,"شبكة":1,"بيتك":1,"عرب":1,"机构":1,"组织机构":1,"健康":1,"招聘":1,"рус":1,"大拿":1,"みんな":1,"グーグル":1,"世界":1,"書籍":1,"网址":1,"닷넷":1,"コム":1,"天主教":1,"游戏":1,"vermögensberater":1,"vermögensberatung":1,"企业":1,"信息":1,"嘉里大酒店":1,"嘉里":1,"广东":1,"政务":1,"xyz":1,"yachts":1,"yahoo":1,"yamaxun":1,"yandex":1,"yodobashi":1,"yoga":1,"yokohama":1,"you":1,"youtube":1,"yun":1,"zappos":1,"zara":1,"zero":1,"zip":1,"zone":1,"zuerich":1},"private":{"cc.ua":2,"inf.ua":2,"ltd.ua":2,"611.to":2,"adobeaemcloud.com":2,"adobeaemcloud.net":2,"dev.adobeaemcloud.com":4,"beep.pl":2,"barsy.ca":2,"compute.estate":3,"alces.network":3,"kasserver.com":2,"altervista.org":2,"alwaysdata.net":2,"cloudfront.net":2,"compute.amazonaws.com":4,"compute-1.amazonaws.com":4,"compute.amazonaws.com.cn":5,"us-east-1.amazonaws.com":3,"cn-north-1.eb.amazonaws.com.cn":5,"cn-northwest-1.eb.amazonaws.com.cn":5,"elasticbeanstalk.com":2,"ap-northeast-1.elasticbeanstalk.com":3,"ap-northeast-2.elasticbeanstalk.com":3,"ap-northeast-3.elasticbeanstalk.com":3,"ap-south-1.elasticbeanstalk.com":3,"ap-southeast-1.elasticbeanstalk.com":3,"ap-southeast-2.elasticbeanstalk.com":3,"ca-central-1.elasticbeanstalk.com":3,"eu-central-1.elasticbeanstalk.com":3,"eu-west-1.elasticbeanstalk.com":3,"eu-west-2.elasticbeanstalk.com":3,"eu-west-3.elasticbeanstalk.com":3,"sa-east-1.elasticbeanstalk.com":3,"us-east-1.elasticbeanstalk.com":3,"us-east-2.elasticbeanstalk.com":3,"us-gov-west-1.elasticbeanstalk.com":3,"us-west-1.elasticbeanstalk.com":3,"us-west-2.elasticbeanstalk.com":3,"elb.amazonaws.com":4,"elb.amazonaws.com.cn":5,"awsglobalaccelerator.com":2,"s3.amazonaws.com":3,"s3-ap-northeast-1.amazonaws.com":3,"s3-ap-northeast-2.amazonaws.com":3,"s3-ap-south-1.amazonaws.com":3,"s3-ap-southeast-1.amazonaws.com":3,"s3-ap-southeast-2.amazonaws.com":3,"s3-ca-central-1.amazonaws.com":3,"s3-eu-central-1.amazonaws.com":3,"s3-eu-west-1.amazonaws.com":3,"s3-eu-west-2.amazonaws.com":3,"s3-eu-west-3.amazonaws.com":3,"s3-external-1.amazonaws.com":3,"s3-fips-us-gov-west-1.amazonaws.com":3,"s3-sa-east-1.amazonaws.com":3,"s3-us-gov-west-1.amazonaws.com":3,"s3-us-east-2.amazonaws.com":3,"s3-us-west-1.amazonaws.com":3,"s3-us-west-2.amazonaws.com":3,"s3.ap-northeast-2.amazonaws.com":4,"s3.ap-south-1.amazonaws.com":4,"s3.cn-north-1.amazonaws.com.cn":5,"s3.ca-central-1.amazonaws.com":4,"s3.eu-central-1.amazonaws.com":4,"s3.eu-west-2.amazonaws.com":4,"s3.eu-west-3.amazonaws.com":4,"s3.us-east-2.amazonaws.com":4,"s3.dualstack.ap-northeast-1.amazonaws.com":5,"s3.dualstack.ap-northeast-2.amazonaws.com":5,"s3.dualstack.ap-south-1.amazonaws.com":5,"s3.dualstack.ap-southeast-1.amazonaws.com":5,"s3.dualstack.ap-southeast-2.amazonaws.com":5,"s3.dualstack.ca-central-1.amazonaws.com":5,"s3.dualstack.eu-central-1.amazonaws.com":5,"s3.dualstack.eu-west-1.amazonaws.com":5,"s3.dualstack.eu-west-2.amazonaws.com":5,"s3.dualstack.eu-west-3.amazonaws.com":5,"s3.dualstack.sa-east-1.amazonaws.com":5,"s3.dualstack.us-east-1.amazonaws.com":5,"s3.dualstack.us-east-2.amazonaws.com":5,"s3-website-us-east-1.amazonaws.com":3,"s3-website-us-west-1.amazonaws.com":3,"s3-website-us-west-2.amazonaws.com":3,"s3-website-ap-northeast-1.amazonaws.com":3,"s3-website-ap-southeast-1.amazonaws.com":3,"s3-website-ap-southeast-2.amazonaws.com":3,"s3-website-eu-west-1.amazonaws.com":3,"s3-website-sa-east-1.amazonaws.com":3,"s3-website.ap-northeast-2.amazonaws.com":4,"s3-website.ap-south-1.amazonaws.com":4,"s3-website.ca-central-1.amazonaws.com":4,"s3-website.eu-central-1.amazonaws.com":4,"s3-website.eu-west-2.amazonaws.com":4,"s3-website.eu-west-3.amazonaws.com":4,"s3-website.us-east-2.amazonaws.com":4,"amsw.nl":2,"t3l3p0rt.net":2,"tele.amune.org":3,"apigee.io":2,"appspacehosted.com":2,"appspaceusercontent.com":2,"on-aptible.com":2,"user.aseinet.ne.jp":4,"gv.vc":2,"d.gv.vc":3,"user.party.eus":3,"pimienta.org":2,"poivron.org":2,"potager.org":2,"sweetpepper.org":2,"myasustor.com":2,"myfritz.net":2,"awdev.ca":3,"advisor.ws":3,"b-data.io":2,"backplaneapp.io":2,"balena-devices.com":2,"banzai.cloud":3,"app.banzaicloud.io":3,"backyards.banzaicloud.io":4,"betainabox.com":2,"bnr.la":2,"blackbaudcdn.net":2,"of.je":2,"boomla.net":2,"boxfuse.io":2,"square7.ch":2,"bplaced.com":2,"bplaced.de":2,"square7.de":2,"bplaced.net":2,"square7.net":2,"browsersafetymark.io":2,"uk0.bigv.io":3,"dh.bytemark.co.uk":4,"vm.bytemark.co.uk":4,"mycd.eu":2,"carrd.co":2,"crd.co":2,"uwu.ai":2,"ae.org":2,"br.com":2,"cn.com":2,"com.de":2,"com.se":2,"de.com":2,"eu.com":2,"gb.net":2,"hu.net":2,"jp.net":2,"jpn.com":2,"mex.com":2,"ru.com":2,"sa.com":2,"se.net":2,"uk.com":2,"uk.net":2,"us.com":2,"za.bz":2,"za.com":2,"ar.com":2,"gb.com":2,"hu.com":2,"kr.com":2,"no.com":2,"qc.com":2,"uy.com":2,"africa.com":2,"gr.com":2,"in.net":2,"web.in":2,"us.org":2,"co.com":2,"aus.basketball":2,"nz.basketball":2,"radio.am":2,"radio.fm":2,"co.ro":2,"shop.ro":2,"c.la":2,"certmgr.org":2,"discourse.group":2,"discourse.team":2,"virtueeldomein.nl":2,"cleverapps.io":2,"lcl.dev":3,"lclstage.dev":3,"stg.dev":3,"stgstage.dev":3,"clic2000.net":2,"clickrising.net":2,"c66.me":2,"cloud66.ws":2,"cloud66.zone":2,"jdevcloud.com":2,"wpdevcloud.com":2,"cloudaccess.host":2,"freesite.host":2,"cloudaccess.net":2,"cloudcontrolled.com":2,"cloudcontrolapp.com":2,"cloudera.site":2,"pages.dev":2,"trycloudflare.com":2,"workers.dev":2,"wnext.app":2,"co.ca":2,"otap.co":3,"co.cz":2,"c.cdn77.org":3,"cdn77-ssl.net":2,"r.cdn77.net":3,"rsc.cdn77.org":3,"ssl.origin.cdn77-secure.org":4,"cloudns.asia":2,"cloudns.biz":2,"cloudns.club":2,"cloudns.cc":2,"cloudns.eu":2,"cloudns.in":2,"cloudns.info":2,"cloudns.org":2,"cloudns.pro":2,"cloudns.pw":2,"cloudns.us":2,"cnpy.gdn":2,"co.nl":2,"co.no":2,"webhosting.be":2,"hosting-cluster.nl":2,"ac.ru":2,"edu.ru":2,"gov.ru":2,"int.ru":2,"mil.ru":2,"test.ru":2,"dyn.cosidns.de":3,"dynamisches-dns.de":2,"dnsupdater.de":2,"internet-dns.de":2,"l-o-g-i-n.de":2,"dynamic-dns.info":2,"feste-ip.net":2,"knx-server.net":2,"static-access.net":2,"realm.cz":2,"cryptonomic.net":3,"cupcake.is":2,"curv.dev":2,"customer-oci.com":3,"oci.customer-oci.com":4,"ocp.customer-oci.com":4,"ocs.customer-oci.com":4,"cyon.link":2,"cyon.site":2,"fnwk.site":2,"folionetwork.site":2,"platform0.app":2,"daplie.me":2,"localhost.daplie.me":3,"dattolocal.com":2,"dattorelay.com":2,"dattoweb.com":2,"mydatto.com":2,"dattolocal.net":2,"mydatto.net":2,"biz.dk":2,"co.dk":2,"firm.dk":2,"reg.dk":2,"store.dk":2,"dyndns.dappnode.io":3,"dapps.earth":3,"bzz.dapps.earth":4,"builtwithdark.com":2,"edgestack.me":2,"debian.net":2,"deno.dev":2,"deno-staging.dev":2,"dedyn.io":2,"jozi.biz":2,"dnshome.de":2,"online.th":2,"shop.th":2,"drayddns.com":2,"shoparena.pl":2,"dreamhosters.com":2,"mydrobo.com":2,"drud.io":2,"drud.us":2,"duckdns.org":2,"bip.sh":2,"bitbridge.net":2,"dy.fi":2,"tunk.org":2,"dyndns-at-home.com":2,"dyndns-at-work.com":2,"dyndns-blog.com":2,"dyndns-free.com":2,"dyndns-home.com":2,"dyndns-ip.com":2,"dyndns-mail.com":2,"dyndns-office.com":2,"dyndns-pics.com":2,"dyndns-remote.com":2,"dyndns-server.com":2,"dyndns-web.com":2,"dyndns-wiki.com":2,"dyndns-work.com":2,"dyndns.biz":2,"dyndns.info":2,"dyndns.org":2,"dyndns.tv":2,"at-band-camp.net":2,"ath.cx":2,"barrel-of-knowledge.info":2,"barrell-of-knowledge.info":2,"better-than.tv":2,"blogdns.com":2,"blogdns.net":2,"blogdns.org":2,"blogsite.org":2,"boldlygoingnowhere.org":2,"broke-it.net":2,"buyshouses.net":2,"cechire.com":2,"dnsalias.com":2,"dnsalias.net":2,"dnsalias.org":2,"dnsdojo.com":2,"dnsdojo.net":2,"dnsdojo.org":2,"does-it.net":2,"doesntexist.com":2,"doesntexist.org":2,"dontexist.com":2,"dontexist.net":2,"dontexist.org":2,"doomdns.com":2,"doomdns.org":2,"dvrdns.org":2,"dyn-o-saur.com":2,"dynalias.com":2,"dynalias.net":2,"dynalias.org":2,"dynathome.net":2,"dyndns.ws":2,"endofinternet.net":2,"endofinternet.org":2,"endoftheinternet.org":2,"est-a-la-maison.com":2,"est-a-la-masion.com":2,"est-le-patron.com":2,"est-mon-blogueur.com":2,"for-better.biz":2,"for-more.biz":2,"for-our.info":2,"for-some.biz":2,"for-the.biz":2,"forgot.her.name":3,"forgot.his.name":3,"from-ak.com":2,"from-al.com":2,"from-ar.com":2,"from-az.net":2,"from-ca.com":2,"from-co.net":2,"from-ct.com":2,"from-dc.com":2,"from-de.com":2,"from-fl.com":2,"from-ga.com":2,"from-hi.com":2,"from-ia.com":2,"from-id.com":2,"from-il.com":2,"from-in.com":2,"from-ks.com":2,"from-ky.com":2,"from-la.net":2,"from-ma.com":2,"from-md.com":2,"from-me.org":2,"from-mi.com":2,"from-mn.com":2,"from-mo.com":2,"from-ms.com":2,"from-mt.com":2,"from-nc.com":2,"from-nd.com":2,"from-ne.com":2,"from-nh.com":2,"from-nj.com":2,"from-nm.com":2,"from-nv.com":2,"from-ny.net":2,"from-oh.com":2,"from-ok.com":2,"from-or.com":2,"from-pa.com":2,"from-pr.com":2,"from-ri.com":2,"from-sc.com":2,"from-sd.com":2,"from-tn.com":2,"from-tx.com":2,"from-ut.com":2,"from-va.com":2,"from-vt.com":2,"from-wa.com":2,"from-wi.com":2,"from-wv.com":2,"from-wy.com":2,"ftpaccess.cc":2,"fuettertdasnetz.de":2,"game-host.org":2,"game-server.cc":2,"getmyip.com":2,"gets-it.net":2,"go.dyndns.org":3,"gotdns.com":2,"gotdns.org":2,"groks-the.info":2,"groks-this.info":2,"ham-radio-op.net":2,"here-for-more.info":2,"hobby-site.com":2,"hobby-site.org":2,"home.dyndns.org":3,"homedns.org":2,"homeftp.net":2,"homeftp.org":2,"homeip.net":2,"homelinux.com":2,"homelinux.net":2,"homelinux.org":2,"homeunix.com":2,"homeunix.net":2,"homeunix.org":2,"iamallama.com":2,"in-the-band.net":2,"is-a-anarchist.com":2,"is-a-blogger.com":2,"is-a-bookkeeper.com":2,"is-a-bruinsfan.org":2,"is-a-bulls-fan.com":2,"is-a-candidate.org":2,"is-a-caterer.com":2,"is-a-celticsfan.org":2,"is-a-chef.com":2,"is-a-chef.net":2,"is-a-chef.org":2,"is-a-conservative.com":2,"is-a-cpa.com":2,"is-a-cubicle-slave.com":2,"is-a-democrat.com":2,"is-a-designer.com":2,"is-a-doctor.com":2,"is-a-financialadvisor.com":2,"is-a-geek.com":2,"is-a-geek.net":2,"is-a-geek.org":2,"is-a-green.com":2,"is-a-guru.com":2,"is-a-hard-worker.com":2,"is-a-hunter.com":2,"is-a-knight.org":2,"is-a-landscaper.com":2,"is-a-lawyer.com":2,"is-a-liberal.com":2,"is-a-libertarian.com":2,"is-a-linux-user.org":2,"is-a-llama.com":2,"is-a-musician.com":2,"is-a-nascarfan.com":2,"is-a-nurse.com":2,"is-a-painter.com":2,"is-a-patsfan.org":2,"is-a-personaltrainer.com":2,"is-a-photographer.com":2,"is-a-player.com":2,"is-a-republican.com":2,"is-a-rockstar.com":2,"is-a-socialist.com":2,"is-a-soxfan.org":2,"is-a-student.com":2,"is-a-teacher.com":2,"is-a-techie.com":2,"is-a-therapist.com":2,"is-an-accountant.com":2,"is-an-actor.com":2,"is-an-actress.com":2,"is-an-anarchist.com":2,"is-an-artist.com":2,"is-an-engineer.com":2,"is-an-entertainer.com":2,"is-by.us":2,"is-certified.com":2,"is-found.org":2,"is-gone.com":2,"is-into-anime.com":2,"is-into-cars.com":2,"is-into-cartoons.com":2,"is-into-games.com":2,"is-leet.com":2,"is-lost.org":2,"is-not-certified.com":2,"is-saved.org":2,"is-slick.com":2,"is-uberleet.com":2,"is-very-bad.org":2,"is-very-evil.org":2,"is-very-good.org":2,"is-very-nice.org":2,"is-very-sweet.org":2,"is-with-theband.com":2,"isa-geek.com":2,"isa-geek.net":2,"isa-geek.org":2,"isa-hockeynut.com":2,"issmarterthanyou.com":2,"isteingeek.de":2,"istmein.de":2,"kicks-ass.net":2,"kicks-ass.org":2,"knowsitall.info":2,"land-4-sale.us":2,"lebtimnetz.de":2,"leitungsen.de":2,"likes-pie.com":2,"likescandy.com":2,"merseine.nu":2,"mine.nu":2,"misconfused.org":2,"mypets.ws":2,"myphotos.cc":2,"neat-url.com":2,"office-on-the.net":2,"on-the-web.tv":2,"podzone.net":2,"podzone.org":2,"readmyblog.org":2,"saves-the-whales.com":2,"scrapper-site.net":2,"scrapping.cc":2,"selfip.biz":2,"selfip.com":2,"selfip.info":2,"selfip.net":2,"selfip.org":2,"sells-for-less.com":2,"sells-for-u.com":2,"sells-it.net":2,"sellsyourhome.org":2,"servebbs.com":2,"servebbs.net":2,"servebbs.org":2,"serveftp.net":2,"serveftp.org":2,"servegame.org":2,"shacknet.nu":2,"simple-url.com":2,"space-to-rent.com":2,"stuff-4-sale.org":2,"stuff-4-sale.us":2,"teaches-yoga.com":2,"thruhere.net":2,"traeumtgerade.de":2,"webhop.biz":2,"webhop.info":2,"webhop.net":2,"webhop.org":2,"worse-than.tv":2,"writesthisblog.com":2,"ddnss.de":2,"dyn.ddnss.de":3,"dyndns.ddnss.de":3,"dyndns1.de":2,"dyn-ip24.de":2,"home-webserver.de":2,"dyn.home-webserver.de":3,"myhome-server.de":2,"ddnss.org":2,"definima.net":2,"definima.io":2,"ondigitalocean.app":2,"bci.dnstrace.pro":3,"ddnsfree.com":2,"ddnsgeek.com":2,"giize.com":2,"gleeze.com":2,"kozow.com":2,"loseyourip.com":2,"ooguy.com":2,"theworkpc.com":2,"casacam.net":2,"dynu.net":2,"accesscam.org":2,"camdvr.org":2,"freeddns.org":2,"mywire.org":2,"webredirect.org":2,"myddns.rocks":2,"blogsite.xyz":2,"dynv6.net":2,"e4.cz":2,"en-root.fr":2,"mytuleap.com":2,"onred.one":2,"staging.onred.one":3,"service.one":2,"enonic.io":2,"customer.enonic.io":3,"eu.org":2,"al.eu.org":3,"asso.eu.org":3,"at.eu.org":3,"au.eu.org":3,"be.eu.org":3,"bg.eu.org":3,"ca.eu.org":3,"cd.eu.org":3,"ch.eu.org":3,"cn.eu.org":3,"cy.eu.org":3,"cz.eu.org":3,"de.eu.org":3,"dk.eu.org":3,"edu.eu.org":3,"ee.eu.org":3,"es.eu.org":3,"fi.eu.org":3,"fr.eu.org":3,"gr.eu.org":3,"hr.eu.org":3,"hu.eu.org":3,"ie.eu.org":3,"il.eu.org":3,"in.eu.org":3,"int.eu.org":3,"is.eu.org":3,"it.eu.org":3,"jp.eu.org":3,"kr.eu.org":3,"lt.eu.org":3,"lu.eu.org":3,"lv.eu.org":3,"mc.eu.org":3,"me.eu.org":3,"mk.eu.org":3,"mt.eu.org":3,"my.eu.org":3,"net.eu.org":3,"ng.eu.org":3,"nl.eu.org":3,"no.eu.org":3,"nz.eu.org":3,"paris.eu.org":3,"pl.eu.org":3,"pt.eu.org":3,"q-a.eu.org":3,"ro.eu.org":3,"ru.eu.org":3,"se.eu.org":3,"si.eu.org":3,"sk.eu.org":3,"tr.eu.org":3,"uk.eu.org":3,"us.eu.org":3,"eurodir.ru":2,"eu-1.evennode.com":3,"eu-2.evennode.com":3,"eu-3.evennode.com":3,"eu-4.evennode.com":3,"us-1.evennode.com":3,"us-2.evennode.com":3,"us-3.evennode.com":3,"us-4.evennode.com":3,"twmail.cc":2,"twmail.net":2,"twmail.org":2,"mymailer.com.tw":3,"url.tw":2,"onfabrica.com":2,"apps.fbsbx.com":3,"ru.net":2,"adygeya.ru":2,"bashkiria.ru":2,"bir.ru":2,"cbg.ru":2,"com.ru":2,"dagestan.ru":2,"grozny.ru":2,"kalmykia.ru":2,"kustanai.ru":2,"marine.ru":2,"mordovia.ru":2,"msk.ru":2,"mytis.ru":2,"nalchik.ru":2,"nov.ru":2,"pyatigorsk.ru":2,"spb.ru":2,"vladikavkaz.ru":2,"vladimir.ru":2,"abkhazia.su":2,"adygeya.su":2,"aktyubinsk.su":2,"arkhangelsk.su":2,"armenia.su":2,"ashgabad.su":2,"azerbaijan.su":2,"balashov.su":2,"bashkiria.su":2,"bryansk.su":2,"bukhara.su":2,"chimkent.su":2,"dagestan.su":2,"east-kazakhstan.su":2,"exnet.su":2,"georgia.su":2,"grozny.su":2,"ivanovo.su":2,"jambyl.su":2,"kalmykia.su":2,"kaluga.su":2,"karacol.su":2,"karaganda.su":2,"karelia.su":2,"khakassia.su":2,"krasnodar.su":2,"kurgan.su":2,"kustanai.su":2,"lenug.su":2,"mangyshlak.su":2,"mordovia.su":2,"msk.su":2,"murmansk.su":2,"nalchik.su":2,"navoi.su":2,"north-kazakhstan.su":2,"nov.su":2,"obninsk.su":2,"penza.su":2,"pokrovsk.su":2,"sochi.su":2,"spb.su":2,"tashkent.su":2,"termez.su":2,"togliatti.su":2,"troitsk.su":2,"tselinograd.su":2,"tula.su":2,"tuva.su":2,"vladikavkaz.su":2,"vladimir.su":2,"vologda.su":2,"channelsdvr.net":2,"u.channelsdvr.net":3,"edgecompute.app":2,"fastly-terrarium.com":2,"fastlylb.net":2,"map.fastlylb.net":3,"freetls.fastly.net":3,"map.fastly.net":3,"a.prod.fastly.net":4,"global.prod.fastly.net":4,"a.ssl.fastly.net":4,"b.ssl.fastly.net":4,"global.ssl.fastly.net":4,"fastvps-server.com":2,"fastvps.host":2,"myfast.host":2,"fastvps.site":2,"myfast.space":2,"fedorainfracloud.org":2,"fedorapeople.org":2,"cloud.fedoraproject.org":3,"app.os.fedoraproject.org":4,"app.os.stg.fedoraproject.org":5,"conn.uk":2,"copro.uk":2,"couk.me":2,"ukco.me":2,"mydobiss.com":2,"fh-muenster.io":2,"filegear.me":2,"filegear-au.me":2,"filegear-de.me":2,"filegear-gb.me":2,"filegear-ie.me":2,"filegear-jp.me":2,"filegear-sg.me":2,"firebaseapp.com":2,"fireweb.app":2,"flap.id":2,"fly.dev":2,"edgeapp.net":2,"shw.io":2,"flynnhosting.net":2,"framer.app":2,"framercanvas.com":2,"0e.vc":2,"freebox-os.com":2,"freeboxos.com":2,"fbx-os.fr":2,"fbxos.fr":2,"freebox-os.fr":2,"freeboxos.fr":2,"freedesktop.org":2,"freemyip.com":2,"wien.funkfeuer.at":3,"futurecms.at":3,"ex.futurecms.at":4,"in.futurecms.at":4,"futurehosting.at":2,"futuremailing.at":2,"ex.ortsinfo.at":4,"kunden.ortsinfo.at":4,"statics.cloud":3,"service.gov.uk":3,"gehirn.ne.jp":3,"usercontent.jp":2,"gentapps.com":2,"gentlentapis.com":2,"lab.ms":2,"cdn-edges.net":2,"ghost.io":2,"github.io":2,"githubusercontent.com":2,"gitlab.io":2,"gitapp.si":2,"gitpage.si":2,"glitch.me":2,"lolipop.io":2,"cloudapps.digital":2,"london.cloudapps.digital":3,"pymnt.uk":2,"homeoffice.gov.uk":3,"ro.im":2,"goip.de":2,"run.app":2,"a.run.app":3,"web.app":2,"0emm.com":3,"appspot.com":2,"r.appspot.com":4,"codespot.com":2,"googleapis.com":2,"googlecode.com":2,"pagespeedmobilizer.com":2,"publishproxy.com":2,"withgoogle.com":2,"withyoutube.com":2,"gateway.dev":3,"cloud.goog":2,"translate.goog":2,"cloudfunctions.net":2,"blogspot.ae":2,"blogspot.al":2,"blogspot.am":2,"blogspot.ba":2,"blogspot.be":2,"blogspot.bg":2,"blogspot.bj":2,"blogspot.ca":2,"blogspot.cf":2,"blogspot.ch":2,"blogspot.cl":2,"blogspot.co.at":3,"blogspot.co.id":3,"blogspot.co.il":3,"blogspot.co.ke":3,"blogspot.co.nz":3,"blogspot.co.uk":3,"blogspot.co.za":3,"blogspot.com":2,"blogspot.com.ar":3,"blogspot.com.au":3,"blogspot.com.br":3,"blogspot.com.by":3,"blogspot.com.co":3,"blogspot.com.cy":3,"blogspot.com.ee":3,"blogspot.com.eg":3,"blogspot.com.es":3,"blogspot.com.mt":3,"blogspot.com.ng":3,"blogspot.com.tr":3,"blogspot.com.uy":3,"blogspot.cv":2,"blogspot.cz":2,"blogspot.de":2,"blogspot.dk":2,"blogspot.fi":2,"blogspot.fr":2,"blogspot.gr":2,"blogspot.hk":2,"blogspot.hr":2,"blogspot.hu":2,"blogspot.ie":2,"blogspot.in":2,"blogspot.is":2,"blogspot.it":2,"blogspot.jp":2,"blogspot.kr":2,"blogspot.li":2,"blogspot.lt":2,"blogspot.lu":2,"blogspot.md":2,"blogspot.mk":2,"blogspot.mr":2,"blogspot.mx":2,"blogspot.my":2,"blogspot.nl":2,"blogspot.no":2,"blogspot.pe":2,"blogspot.pt":2,"blogspot.qa":2,"blogspot.re":2,"blogspot.ro":2,"blogspot.rs":2,"blogspot.ru":2,"blogspot.se":2,"blogspot.sg":2,"blogspot.si":2,"blogspot.sk":2,"blogspot.sn":2,"blogspot.td":2,"blogspot.tw":2,"blogspot.ug":2,"blogspot.vn":2,"graphox.us":2,"awsmppl.com":2,"günstigbestellen.de":2,"günstigliefern.de":2,"fin.ci":2,"free.hr":2,"caa.li":2,"ua.rs":2,"conf.se":2,"hs.zone":2,"hs.run":2,"hashbang.sh":2,"hasura.app":2,"hasura-app.io":2,"hepforge.org":2,"herokuapp.com":2,"herokussl.com":2,"myravendb.com":2,"ravendb.community":2,"ravendb.me":2,"development.run":2,"ravendb.run":2,"secaas.hk":2,"orx.biz":2,"biz.gl":2,"col.ng":2,"firm.ng":2,"gen.ng":2,"ltd.ng":2,"ngo.ng":2,"edu.scot":2,"sch.so":2,"org.yt":2,"hostyhosting.io":2,"häkkinen.fi":2,"moonscale.io":3,"moonscale.net":2,"iki.fi":2,"smushcdn.com":2,"wphostedmail.com":2,"wpmucdn.com":2,"tempurl.host":2,"wpmudev.host":2,"dyn-berlin.de":2,"in-berlin.de":2,"in-brb.de":2,"in-butter.de":2,"in-dsl.de":2,"in-dsl.net":2,"in-dsl.org":2,"in-vpn.de":2,"in-vpn.net":2,"in-vpn.org":2,"biz.at":2,"info.at":2,"info.cx":2,"ac.leg.br":3,"al.leg.br":3,"am.leg.br":3,"ap.leg.br":3,"ba.leg.br":3,"ce.leg.br":3,"df.leg.br":3,"es.leg.br":3,"go.leg.br":3,"ma.leg.br":3,"mg.leg.br":3,"ms.leg.br":3,"mt.leg.br":3,"pa.leg.br":3,"pb.leg.br":3,"pe.leg.br":3,"pi.leg.br":3,"pr.leg.br":3,"rj.leg.br":3,"rn.leg.br":3,"ro.leg.br":3,"rr.leg.br":3,"rs.leg.br":3,"sc.leg.br":3,"se.leg.br":3,"sp.leg.br":3,"to.leg.br":3,"pixolino.com":2,"na4u.ru":2,"iopsys.se":2,"ipifony.net":2,"mein-iserv.de":2,"schulserver.de":2,"test-iserv.de":2,"iserv.dev":2,"iobb.net":2,"mel.cloudlets.com.au":4,"cloud.interhostsolutions.be":3,"users.scale.virtualcloud.com.br":5,"mycloud.by":2,"alp1.ae.flow.ch":4,"appengine.flow.ch":3,"es-1.axarnet.cloud":3,"diadem.cloud":2,"vip.jelastic.cloud":3,"jele.cloud":2,"it1.eur.aruba.jenv-aruba.cloud":5,"it1.jenv-aruba.cloud":3,"it1-eur.jenv-arubabiz.cloud":3,"oxa.cloud":2,"tn.oxa.cloud":3,"uk.oxa.cloud":3,"primetel.cloud":2,"uk.primetel.cloud":3,"ca.reclaim.cloud":3,"uk.reclaim.cloud":3,"us.reclaim.cloud":3,"ch.trendhosting.cloud":3,"de.trendhosting.cloud":3,"jele.club":2,"clicketcloud.com":2,"ams.cloudswitches.com":3,"au.cloudswitches.com":3,"sg.cloudswitches.com":3,"dopaas.com":2,"elastyco.com":2,"nv.elastyco.com":3,"hidora.com":2,"paas.hosted-by-previder.com":3,"rag-cloud.hosteur.com":3,"rag-cloud-ch.hosteur.com":3,"jcloud.ik-server.com":3,"jcloud-ver-jpc.ik-server.com":3,"demo.jelastic.com":3,"kilatiron.com":2,"paas.massivegrid.com":3,"jed.wafaicloud.com":3,"lon.wafaicloud.com":3,"ryd.wafaicloud.com":3,"j.scaleforce.com.cy":4,"jelastic.dogado.eu":3,"paas.leviracloud.eu":3,"fi.cloudplatform.fi":3,"demo.datacenter.fi":3,"paas.datacenter.fi":3,"jele.host":2,"mircloud.host":2,"jele.io":2,"ocs.opusinteractive.io":3,"cloud.unispace.io":3,"cloud-de.unispace.io":3,"cloud-fr1.unispace.io":3,"jc.neen.it":3,"cloud.jelastic.open.tim.it":5,"jcloud.kz":2,"upaas.kazteleport.kz":3,"jl.serv.net.mx":4,"cloudjiffy.net":2,"fra1-de.cloudjiffy.net":3,"west1-us.cloudjiffy.net":3,"ams1.jls.docktera.net":4,"jls-sto1.elastx.net":3,"jls-sto2.elastx.net":3,"jls-sto3.elastx.net":3,"fr-1.paas.massivegrid.net":4,"lon-1.paas.massivegrid.net":4,"lon-2.paas.massivegrid.net":4,"ny-1.paas.massivegrid.net":4,"ny-2.paas.massivegrid.net":4,"sg-1.paas.massivegrid.net":4,"jelastic.saveincloud.net":3,"nordeste-idc.saveincloud.net":3,"j.scaleforce.net":3,"jelastic.tsukaeru.net":3,"atl.jelastic.vps-host.net":4,"njs.jelastic.vps-host.net":4,"unicloud.pl":2,"mircloud.ru":2,"jelastic.regruhosting.ru":3,"enscaled.sg":2,"jele.site":2,"jelastic.team":2,"orangecloud.tn":2,"j.layershift.co.uk":4,"phx.enscaled.us":3,"mircloud.us":2,"myjino.ru":2,"hosting.myjino.ru":4,"landing.myjino.ru":4,"spectrum.myjino.ru":4,"vps.myjino.ru":4,"triton.zone":3,"cns.joyent.com":4,"js.org":2,"kaas.gg":2,"khplay.nl":2,"keymachine.de":2,"kinghost.net":2,"uni5.net":2,"knightpoint.systems":2,"oya.to":2,"kuleuven.cloud":2,"ezproxy.kuleuven.be":3,"co.krd":2,"edu.krd":2,"krellian.net":2,"webthings.io":2,"git-repos.de":2,"lcube-server.de":2,"svn-repos.de":2,"leadpages.co":2,"lpages.co":2,"lpusercontent.com":2,"lelux.site":2,"co.business":2,"co.education":2,"co.events":2,"co.financial":2,"co.network":2,"co.place":2,"co.technology":2,"app.lmpm.com":3,"linkyard.cloud":2,"linkyard-cloud.ch":2,"members.linode.com":3,"nodebalancer.linode.com":4,"linodeobjects.com":3,"we.bs":2,"localzone.xyz":2,"loginline.app":2,"loginline.dev":2,"loginline.io":2,"loginline.services":2,"loginline.site":2,"lohmus.me":2,"krasnik.pl":2,"leczna.pl":2,"lubartow.pl":2,"lublin.pl":2,"poniatowa.pl":2,"swidnik.pl":2,"glug.org.uk":3,"lug.org.uk":3,"lugs.org.uk":3,"barsy.bg":2,"barsy.co.uk":3,"barsyonline.co.uk":3,"barsycenter.com":2,"barsyonline.com":2,"barsy.club":2,"barsy.de":2,"barsy.eu":2,"barsy.in":2,"barsy.info":2,"barsy.io":2,"barsy.me":2,"barsy.menu":2,"barsy.mobi":2,"barsy.net":2,"barsy.online":2,"barsy.org":2,"barsy.pro":2,"barsy.pub":2,"barsy.shop":2,"barsy.site":2,"barsy.support":2,"barsy.uk":2,"magentosite.cloud":3,"mayfirst.info":2,"mayfirst.org":2,"hb.cldmail.ru":3,"mcpe.me":2,"mcdir.me":2,"mcdir.ru":2,"mcpre.ru":2,"vps.mcdir.ru":3,"miniserver.com":2,"memset.net":2,"cloud.metacentrum.cz":4,"custom.metacentrum.cz":3,"flt.cloud.muni.cz":4,"usr.cloud.muni.cz":4,"meteorapp.com":2,"eu.meteorapp.com":3,"co.pl":2,"azurecontainer.io":3,"azurewebsites.net":2,"azure-mobile.net":2,"cloudapp.net":2,"azurestaticapps.net":2,"centralus.azurestaticapps.net":3,"eastasia.azurestaticapps.net":3,"eastus2.azurestaticapps.net":3,"westeurope.azurestaticapps.net":3,"westus2.azurestaticapps.net":3,"csx.cc":2,"forte.id":2,"mozilla-iot.org":2,"bmoattachments.org":2,"net.ru":2,"org.ru":2,"pp.ru":2,"hostedpi.com":2,"customer.mythic-beasts.com":3,"caracal.mythic-beasts.com":3,"fentiger.mythic-beasts.com":3,"lynx.mythic-beasts.com":3,"ocelot.mythic-beasts.com":3,"oncilla.mythic-beasts.com":3,"onza.mythic-beasts.com":3,"sphinx.mythic-beasts.com":3,"vs.mythic-beasts.com":3,"x.mythic-beasts.com":3,"yali.mythic-beasts.com":3,"cust.retrosnub.co.uk":4,"ui.nabu.casa":3,"pony.club":2,"of.fashion":2,"in.london":2,"of.london":2,"from.marketing":2,"with.marketing":2,"for.men":2,"repair.men":2,"and.mom":2,"for.mom":2,"for.one":2,"under.one":2,"for.sale":2,"that.win":2,"from.work":2,"to.work":2,"nctu.me":2,"netlify.app":2,"4u.com":2,"ngrok.io":2,"nh-serv.co.uk":3,"nfshost.com":2,"northflank.app":3,"code.run":3,"noticeable.news":2,"dnsking.ch":2,"mypi.co":2,"n4t.co":2,"001www.com":2,"ddnslive.com":2,"myiphost.com":2,"forumz.info":2,"16-b.it":2,"32-b.it":2,"64-b.it":2,"soundcast.me":2,"tcp4.me":2,"dnsup.net":2,"hicam.net":2,"now-dns.net":2,"ownip.net":2,"vpndns.net":2,"dynserv.org":2,"now-dns.org":2,"x443.pw":2,"now-dns.top":2,"ntdll.top":2,"freeddns.us":2,"crafting.xyz":2,"zapto.xyz":2,"nsupdate.info":2,"nerdpol.ovh":2,"blogsyte.com":2,"brasilia.me":2,"cable-modem.org":2,"ciscofreak.com":2,"collegefan.org":2,"couchpotatofries.org":2,"damnserver.com":2,"ddns.me":2,"ditchyourip.com":2,"dnsfor.me":2,"dnsiskinky.com":2,"dvrcam.info":2,"dynns.com":2,"eating-organic.net":2,"fantasyleague.cc":2,"geekgalaxy.com":2,"golffan.us":2,"health-carereform.com":2,"homesecuritymac.com":2,"homesecuritypc.com":2,"hopto.me":2,"ilovecollege.info":2,"loginto.me":2,"mlbfan.org":2,"mmafan.biz":2,"myactivedirectory.com":2,"mydissent.net":2,"myeffect.net":2,"mymediapc.net":2,"mypsx.net":2,"mysecuritycamera.com":2,"mysecuritycamera.net":2,"mysecuritycamera.org":2,"net-freaks.com":2,"nflfan.org":2,"nhlfan.net":2,"no-ip.ca":2,"no-ip.co.uk":3,"no-ip.net":2,"noip.us":2,"onthewifi.com":2,"pgafan.net":2,"point2this.com":2,"pointto.us":2,"privatizehealthinsurance.net":2,"quicksytes.com":2,"read-books.org":2,"securitytactics.com":2,"serveexchange.com":2,"servehumour.com":2,"servep2p.com":2,"servesarcasm.com":2,"stufftoread.com":2,"ufcfan.org":2,"unusualperson.com":2,"workisboring.com":2,"3utilities.com":2,"bounceme.net":2,"ddns.net":2,"ddnsking.com":2,"gotdns.ch":2,"hopto.org":2,"myftp.biz":2,"myftp.org":2,"myvnc.com":2,"no-ip.biz":2,"no-ip.info":2,"no-ip.org":2,"noip.me":2,"redirectme.net":2,"servebeer.com":2,"serveblog.net":2,"servecounterstrike.com":2,"serveftp.com":2,"servegame.com":2,"servehalflife.com":2,"servehttp.com":2,"serveirc.com":2,"serveminecraft.net":2,"servemp3.com":2,"servepics.com":2,"servequake.com":2,"sytes.net":2,"webhop.me":2,"zapto.org":2,"stage.nodeart.io":3,"nodum.co":2,"nodum.io":2,"pcloud.host":2,"nyc.mn":2,"nom.ae":2,"nom.af":2,"nom.ai":2,"nom.al":2,"nym.by":2,"nom.bz":2,"nym.bz":2,"nom.cl":2,"nym.ec":2,"nom.gd":2,"nom.ge":2,"nom.gl":2,"nym.gr":2,"nom.gt":2,"nym.gy":2,"nym.hk":2,"nom.hn":2,"nym.ie":2,"nom.im":2,"nom.ke":2,"nym.kz":2,"nym.la":2,"nym.lc":2,"nom.li":2,"nym.li":2,"nym.lt":2,"nym.lu":2,"nom.lv":2,"nym.me":2,"nom.mk":2,"nym.mn":2,"nym.mx":2,"nom.nu":2,"nym.nz":2,"nym.pe":2,"nym.pt":2,"nom.pw":2,"nom.qa":2,"nym.ro":2,"nom.rs":2,"nom.si":2,"nym.sk":2,"nom.st":2,"nym.su":2,"nym.sx":2,"nom.tj":2,"nym.tw":2,"nom.ug":2,"nom.uy":2,"nom.vc":2,"nom.vg":2,"static.observableusercontent.com":3,"cya.gg":2,"omg.lol":2,"cloudycluster.net":2,"omniwe.site":2,"nid.io":2,"opensocial.site":2,"opencraft.hosting":2,"orsites.com":2,"operaunite.com":2,"skygearapp.com":2,"outsystemscloud.com":2,"webpaas.ovh.net":4,"hosting.ovh.net":4,"ownprovider.com":2,"own.pm":2,"owo.codes":3,"ox.rs":2,"oy.lc":2,"pgfog.com":2,"pagefrontapp.com":2,"pagexl.com":2,"bar0.net":2,"bar1.net":2,"bar2.net":2,"rdv.to":2,"art.pl":2,"gliwice.pl":2,"krakow.pl":2,"poznan.pl":2,"wroc.pl":2,"zakopane.pl":2,"pantheonsite.io":2,"gotpantheon.com":2,"mypep.link":2,"perspecta.cloud":2,"lk3.ru":2,"ra-ru.ru":2,"zsew.ru":2,"on-web.fr":2,"bc.platform.sh":3,"ent.platform.sh":3,"eu.platform.sh":3,"us.platform.sh":3,"platformsh.site":3,"platter-app.com":2,"platter-app.dev":2,"platterp.us":2,"pdns.page":2,"plesk.page":2,"pleskns.com":2,"dyn53.io":2,"co.bn":2,"xen.prgmr.com":3,"priv.at":2,"prvcy.page":2,"dweb.link":3,"protonet.io":2,"chirurgiens-dentistes-en-france.fr":2,"byen.site":2,"pubtls.org":2,"qoto.io":2,"qualifioapp.com":2,"qbuser.com":2,"cloudsite.builders":2,"instantcloud.cn":2,"ras.ru":2,"qa2.com":2,"qcx.io":2,"sys.qcx.io":4,"dev-myqnapcloud.com":2,"alpha-myqnapcloud.com":2,"myqnapcloud.com":2,"quipelements.com":3,"vapor.cloud":2,"vaporcloud.io":2,"rackmaze.com":2,"rackmaze.net":2,"g.vbrplsbx.io":3,"on-k3s.io":3,"on-rancher.cloud":3,"on-rio.io":3,"readthedocs.io":2,"rhcloud.com":2,"app.render.com":3,"onrender.com":2,"repl.co":2,"repl.run":2,"resindevice.io":2,"devices.resinstaging.io":3,"hzc.io":2,"wellbeingzone.eu":2,"wellbeingzone.co.uk":3,"git-pages.rit.edu":3,"sandcats.io":2,"logoip.de":2,"logoip.com":2,"schokokeks.net":2,"gov.scot":2,"service.gov.scot":3,"scrysec.com":2,"firewall-gateway.com":2,"firewall-gateway.de":2,"my-gateway.de":2,"my-router.de":2,"spdns.de":2,"spdns.eu":2,"firewall-gateway.net":2,"my-firewall.org":2,"myfirewall.org":2,"spdns.org":2,"seidat.net":2,"senseering.net":2,"biz.ua":2,"co.ua":2,"pp.ua":2,"shiftedit.io":2,"myshopblocks.com":2,"myshopify.com":2,"shopitsite.com":2,"shopware.store":2,"mo-siemens.io":2,"1kapp.com":2,"appchizi.com":2,"applinzi.com":2,"sinaapp.com":2,"vipsinaapp.com":2,"siteleaf.net":2,"bounty-full.com":2,"alpha.bounty-full.com":3,"beta.bounty-full.com":3,"small-web.org":2,"try-snowplow.com":2,"srht.site":2,"stackhero-network.com":2,"static.land":2,"dev.static.land":3,"sites.static.land":3,"playstation-cloud.com":2,"apps.lair.io":3,"stolos.io":3,"spacekit.io":2,"customer.speedpartner.de":3,"api.stdlib.com":3,"storj.farm":2,"utwente.io":2,"soc.srcf.net":3,"user.srcf.net":3,"temp-dns.com":2,"s5y.io":3,"sensiosite.cloud":3,"syncloud.it":2,"diskstation.me":2,"dscloud.biz":2,"dscloud.me":2,"dscloud.mobi":2,"dsmynas.com":2,"dsmynas.net":2,"dsmynas.org":2,"familyds.com":2,"familyds.net":2,"familyds.org":2,"i234.me":2,"myds.me":2,"synology.me":2,"vpnplus.to":2,"direct.quickconnect.to":3,"taifun-dns.de":2,"gda.pl":2,"gdansk.pl":2,"gdynia.pl":2,"med.pl":2,"sopot.pl":2,"edugit.org":2,"telebit.app":2,"telebit.io":2,"telebit.xyz":3,"gwiddle.co.uk":3,"thingdustdata.com":2,"cust.dev.thingdust.io":4,"cust.disrec.thingdust.io":4,"cust.prod.thingdust.io":4,"cust.testing.thingdust.io":4,"firenet.ch":3,"svc.firenet.ch":4,"arvo.network":2,"azimuth.network":2,"tlon.network":2,"torproject.net":2,"pages.torproject.net":3,"bloxcms.com":2,"townnews-staging.com":2,"12hp.at":2,"2ix.at":2,"4lima.at":2,"lima-city.at":2,"12hp.ch":2,"2ix.ch":2,"4lima.ch":2,"lima-city.ch":2,"trafficplex.cloud":2,"de.cool":2,"12hp.de":2,"2ix.de":2,"4lima.de":2,"lima-city.de":2,"1337.pictures":2,"clan.rip":2,"lima-city.rocks":2,"webspace.rocks":2,"lima.zone":2,"transurl.be":3,"transurl.eu":3,"transurl.nl":3,"tuxfamily.org":2,"dd-dns.de":2,"diskstation.eu":2,"diskstation.org":2,"dray-dns.de":2,"draydns.de":2,"dyn-vpn.de":2,"dynvpn.de":2,"mein-vigor.de":2,"my-vigor.de":2,"my-wan.de":2,"syno-ds.de":2,"synology-diskstation.de":2,"synology-ds.de":2,"uber.space":2,"uberspace.de":3,"hk.com":2,"hk.org":2,"ltd.hk":2,"inc.hk":2,"virtualuser.de":2,"virtual-user.de":2,"urown.cloud":2,"dnsupdate.info":2,"lib.de.us":3,"2038.io":2,"vercel.app":2,"vercel.dev":2,"now.sh":2,"router.management":2,"v-info.info":2,"voorloper.cloud":2,"neko.am":2,"nyaa.am":2,"be.ax":2,"cat.ax":2,"es.ax":2,"eu.ax":2,"gg.ax":2,"mc.ax":2,"us.ax":2,"xy.ax":2,"nl.ci":2,"xx.gl":2,"app.gp":2,"blog.gt":2,"de.gt":2,"to.gt":2,"be.gy":2,"cc.hn":2,"blog.kg":2,"io.kg":2,"jp.kg":2,"tv.kg":2,"uk.kg":2,"us.kg":2,"de.ls":2,"at.md":2,"de.md":2,"jp.md":2,"to.md":2,"uwu.nu":2,"indie.porn":2,"vxl.sh":2,"ch.tc":2,"me.tc":2,"we.tc":2,"nyan.to":2,"at.vg":2,"blog.vu":2,"dev.vu":2,"me.vu":2,"v.ua":2,"wafflecell.com":2,"idnblogger.com":2,"indowapblog.com":2,"bloger.id":2,"wblog.id":2,"wbq.me":2,"fastblog.net":2,"webhare.dev":3,"wedeploy.io":2,"wedeploy.me":2,"wedeploy.sh":2,"remotewd.com":2,"pages.wiardweb.com":3,"wmflabs.org":2,"toolforge.org":2,"wmcloud.org":2,"panel.gg":2,"daemon.panel.gg":3,"woltlab-demo.com":2,"myforum.community":2,"community-pro.de":2,"diskussionsbereich.de":2,"community-pro.net":2,"meinforum.net":2,"cn.vu":2,"half.host":2,"xnbay.com":2,"u2.xnbay.com":3,"u2-local.xnbay.com":3,"cistron.nl":2,"demon.nl":2,"xs4all.space":2,"yandexcloud.net":2,"storage.yandexcloud.net":3,"website.yandexcloud.net":3,"official.academy":2,"yolasite.com":2,"ybo.faith":2,"yombo.me":2,"homelink.one":2,"ybo.party":2,"ybo.review":2,"ybo.science":2,"ybo.trade":2,"nohost.me":2,"noho.st":2,"za.net":2,"za.org":2,"bss.design":2,"basicserver.io":2,"virtualserver.io":2,"enterprisecloud.nu":2,"mintere.site":2,"cx.ua":2,"wpenginepowered.com":2,"js.wpenginepowered.com":3,"impertrixcdn.com":2,"impertrix.com":2,"gsj.bz":2,"биз.рус":2,"ком.рус":2,"крым.рус":2,"�":1}}')}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var i={};(()=>{"use strict";a.d(i,{zY:()=>ve,bd:()=>ye,YR:()=>ue,PU:()=>we,vc:()=>ne,nZ:()=>ge,In:()=>_e,I_:()=>oe,Gt:()=>re,qh:()=>pe,jm:()=>le,T4:()=>be,ST:()=>he,ot:()=>se,eA:()=>ae,dQ:()=>ie});class t extends Error{constructor(e,t){super(`fetch failed with status ${e.statusText||e.status}`),this.name="EasyFetchStatusError",this.response=e,this.respJson=t}}async function n(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.credentials||(n.credentials="include");const a=await fetch(e,n);if(!a.ok){let e=null;try{e=await a.json()}catch(t){e={error:"failed to decode the response body, or no error information was given"}}finally{throw new t(a,e)}}return a.json()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends Error{constructor(e){super(e),this.name="AuthNotPossibleError"}}class s extends Error{constructor(e){super(e),this.name="UserRejectedSignInError"}}class c{constructor(){o(this,"set",((e,t,n)=>{this.cache.unshift(this._key(e,t,n)),this.cache.length=this.cacheMaxSize})),o(this,"contains",((e,t,n)=>this.cache.includes(this._key(e,t,n)))),o(this,"clear",(()=>{this.cache.length=0})),o(this,"_key",((e,t,n)=>`${e}_${t}_${n}`)),this.cacheMaxSize=1,this.cache=[]}}const u=function(e){let t=m();for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];a.length>0?console.error("["+(new Date).toLocaleTimeString()+":ERROR]["+t+"] "+e,a):console.error("["+(new Date).toLocaleTimeString()+":ERROR]["+t+"] "+e)},l=function(e){let t=m();for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];a.length>0?console.warn("["+(new Date).toLocaleTimeString()+"::WARN]["+t+"] "+e,a):console.warn("["+(new Date).toLocaleTimeString()+"::WARN]["+t+"] "+e)},h=function(e){let t=m();for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];a.length>0?console.log("["+(new Date).toLocaleTimeString()+"::INFO]["+t+"] "+e,a):console.log("["+(new Date).toLocaleTimeString()+"::INFO]["+t+"] "+e)},d=function(e){let t=m();for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];a.length>0?console.debug("["+(new Date).toLocaleTimeString()+":DEBUG]["+t+"] "+e,a):console.debug("["+(new Date).toLocaleTimeString()+":DEBUG]["+t+"] "+e)},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;try{throw new Error}catch(t){let n=t.stack.split("\n")[e].split("/");return n=n[n.length-1],n.substring(0,n.lastIndexOf(":"))}};var p=a(283),f=a(135);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y{constructor(e,t){g(this,"startStreaming",(()=>{clearInterval(this.streamInterval),this.streamInterval=setInterval((()=>{this.sendTabs()}),1e3)})),g(this,"setWindow",(e=>{this.streamingWindow=e})),g(this,"endStreaming",(()=>{clearInterval(this.streamInterval)})),g(this,"sendTabs",(()=>{this.streamingWindow&&chrome.windows.getLastFocused((e=>{chrome.tabs.query({},(t=>{const n=t.filter((e=>!ve.includes(e.url)));let a=[];for(let t=0;t<n.length;t++){let i=n[t];a.push({favIcon:i.favIconUrl,tabUrl:i.url,title:i.title,tab_id:`${i.windowId}_${i.id}`,active:i.active&&i.windowId===e.id})}let i={type:"tab_update"};i.tabs=a;const o=w(i);j(this.datachannel,o,this.maxMessageSize)}))}))})),this.maxMessageSize=t,this.datachannel=e,this.streamInterval=null,this.streamingTab=null,this.streamingWindow=null,chrome.tabs.onActivated.addListener(this.handleTabActivated)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k="\0".charCodeAt(0);function b(e){return e.clientId}function w(e){e.timestamp=(new Date).getTime();const t=JSON.stringify(e);return new Uint8Array([...le.encoder.encode(t),k,k])}function j(e,t,n){let a=0;for(;a<t.length;){const i=Math.min(n,t.length-a),o=new Uint8Array(t.buffer,a,i);e.send(o),a+=i}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends Error{}class C{constructor(e,t){_(this,"startStreaming",((e,t)=>{clearInterval(this.streamInterval),this.switchTab(e,t),this.sendScreenshot(),this.streamInterval=setInterval((()=>{this.datachannel.bufferedAmount<=this.datachannel.bufferedAmountLowThreshold?this.sendScreenshot():console.log(`DEBUG p2p buffer NOT low, skipping screenshot. Buffered: ${(this.datachannel.bufferedAmount/1e3).toFixed(2)}kb, buffer_low_mark: ${(this.datachannel.bufferedAmountLowThreshold/1e3).toFixed(2)}`)}),1e3)})),_(this,"endStreaming",(()=>{clearInterval(this.streamInterval)})),_(this,"switchTab",((e,t)=>{this.streamingTab=e,this.streamingWindow=t})),this.DC_BUFFER_LOW_MARK_BYTES=0,this.maxMessageSize=t,this.datachannel=e,this.streamInterval=null,this.streamingTab=null,this.streamingWindow=null,this.datachannel.bufferedAmountLowThreshold=this.DC_BUFFER_LOW_MARK_BYTES}send(e){const t=w(e);this.lastSendTimeMs?console.log(`DEBUG p2p sending screenshot. Size: ${(t.length/1e3).toFixed(2)}kb, last send (secs): ${((Date.now()-this.lastSendTimeMs)/1e3).toFixed(2)}`):console.log(`DEBUG p2p sending screenshot. Size: ${(t.length/1e3).toFixed(2)}kb`),this.lastSendTimeMs=Date.now(),j(this.datachannel,t,this.maxMessageSize)}async sendScreenshot(){this.streamingTab&&chrome.tabs.get(this.streamingTab,(e=>{const t=(e,t,n)=>({type:"screenshot",tab_id:`${n}_${t}`,screenshot:e});e.active?this.getScreenshot(e.windowId).then((n=>{let[a,i]=n;void 0!==a&&i===e.id&&(this.send(t(a,e.id,e.windowId)),he.add(e.id,a))})).catch((e=>{e instanceof S||this.send({type:"screenshot_unavailable"})})):he.get(e.id,(n=>{n?(console.log("Using cached screenshot"),this.send(t(n,e.id,e.windowId))):(this.send({type:"screenshot_unavailable"}),console.log("Could not upload screenshot, tab is inactive and there is no cached screenshot"))}))}))}getScreenshot(e,t){return new Promise(((t,n)=>{chrome.tabs.captureVisibleTab(e,{format:"jpeg",quality:30},(a=>{if(chrome.runtime.lastError)return chrome.runtime.lastError.message.includes("MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND")?void n(new S("Exceeded MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND")):void n(chrome.runtime.lastError);chrome.tabs.query({active:!0,windowId:e},(e=>{1===e.length?t([a,e[0].id]):t([a,null])}))}))}))}}const T=function(e){const t=ne.getDeviceTimezone(),n=(new p.ou.now).setZone(t);let a=n.weekday,i=(n.minute<10?"0":"")+n.minute,o=(n.hour<10?"0":"")+n.hour,r=parseInt(o+i),s=x(e);return d("Config Active",e,s,a,r),s},R=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e[t]?e[t]:n};function O(e){let t;if(e)return t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0],t=t.split("?")[0],t}const E=()=>Math.floor(Date.now()/1e3);function I(e){let t,n;if(e.indexOf("//")>0){let a=e.indexOf("//");n=e.indexOf("/",a+2),n>0&&(t=e.substring(n+1))}else n=e.indexOf("/"),n>0&&(t=e.substring(e.indexOf("/")+1));return n<0&&(t=""),"/"==t.slice(-1)&&(t=t.slice(0,-1)),t}const M=function(e){let t=O(e);return e.substring(e.indexOf(t)+t.length)},x=function(e){let t=E();return 0!==e.timeout&&e.timeout>t||!!z(e.periods)},A=(new Map).set(0,"sun").set(1,"mon").set(2,"tue").set(3,"wed").set(4,"thur").set(5,"fri").set(6,"sat"),P=(new Map).set("sun",0).set("mon",1).set("tue",2).set("wed",3).set("thur",4).set("fri",5).set("sat",6);function z(e){const t=ne.getDeviceTimezone(),n=(new p.ou.now).setZone(t),a=A.get(n.weekday),i=100*n.hour+n.minute;for(const t of e)if(t.day===a&&i>=t.startTime&&i<t.endTime)return t;return null}function L(e,t){const n=new Date,a=Math.floor(e.startTime/100),i=e.startTime%100;n.setHours(a,i,0,0);const o=P.get(e.day)-t.getDay(),r=t.getDate();let s;return s=o>0?r+o:0===o&&n>t?t.getDate():r+7-o,n.setDate(s),n}function D(e){let t=e.timeout;const n=z(e.periods);if(n){const e=ne.getDeviceTimezone(),a=(new p.ou.now).setZone(e).set({hour:n.endTime/100,minute:n.endTime%100,second:0,millisecond:0})/1e3;t=Math.max(t,a)}return t}const N=function(e){let t=[],n=[e],a=0;for(;n.length;){let e=n.pop();if("boolean"==typeof e)a+=4;else if("string"==typeof e)a+=2*e.length;else if("number"==typeof e)a+=8;else if(e.byteLength>0)a+=e.byteLength;else if("object"==typeof e&&-1===t.indexOf(e)){t.push(e);for(let t in e)n.push(e[t])}}return a},U=function(e){let t=[];return t.push=function(){return this.length>=e&&this.shift(),Array.prototype.push.apply(this,arguments)},t};function q(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}class G{constructor(){this.currentUserInfo={user:void 0},this.active_configurations=[],this.regions=["syd-1","syd-2","uk-1","beta-1","sit"],this.pendingConfigCalls={},this.pendingUserIdCalls={},this.active_region=void 0,this.device_id=void 0,this.parent_device=void 0,this.blockpageUrl=void 0,this.classwizeEventUrl=void 0,this.verdictServerUrl=void 0,this.apiDispatcherUrl=void 0,this.lockUrl=void 0,this.closedTabUrl=void 0,this.inside_device_network=!1,this.google_allow_insecure_chrome=!1,this.google_classroom_extension_login=!1,this.disable_extension_outside_network=!0,this.mobile_agent_config={},this.filter_on_network_enabled=!1,this.filter_off_network_enabled=!1,this.classroom_on_network_enabled=!1,this.classroom_off_network_enabled=!1,this.local_ip="0.0.0.0",this.userFound=!1,this.chromeId=void 0,this.lastFZProbeCode=0,this.lastFZProbeProvider="",this.userInformation={identifier:"",first_name:null,last_name:null},this.chromebook_screenshot_upload_interval_seconds=10,this.screenshot_max_width=300,this.compressed_screenshots=!0,this.screenshot_jpeg_quality=.1,this.multiple_focus_allowed_domains=[],this.classroom_chat_enabled=!1,this.timezone="",this.reauth_allowed_timer_seconds=void 0,this.asyncVerdictHandlingEnabled=!1}getCurrentUserInfo(){return this.currentUserInfo}getActiveConfigurations(){return this.active_configurations}getBlockpageUrl(){return this.blockpageUrl}getClasswizeEventUrl(){return this.classwizeEventUrl}getVerdictServerUrl(){return this.verdictServerUrl}getLockUrl(){return this.lockUrl}getClosedTabUrl(){return this.closedTabUrl}getApplianceId(){return this.device_id}getClassroomChatStatus(){return this.classroom_chat_enabled}getChatBaseUrl(){return G.get_linewize_api_service_url(this.active_region)+"/chat"}getDeviceId(){return this.parent_device||this.device_id}getDeviceTimezone(){return this.timezone}getScreenshotUploadInterval(){return 1e3*this.chromebook_screenshot_upload_interval_seconds}getScreenshotMaxWidth(){return this.screenshot_max_width}getMultipleFocusAllowedDomains(){return this.multiple_focus_allowed_domains}shouldCaptureScreenshots(){return this.isClassroomEnabled()&&this.hasActiveClass()}hasActiveClass(){if(this.getActiveConfigurations().length>0)for(let e of this.getActiveConfigurations())if(T(e))return e;return null}isConnectionReportingEnabled(){return!this.isPlatformMismatch()&&(!!this.isFilteringEnabled()||this.inside_device_network&&this.allow_connections_inside_network)}isPlatformMismatch(){return this.enable_extension_chromebooks_only&&!pe}isFilteringEnabled(){return!this.isPlatformMismatch()&&(this.inside_device_network?this.filter_on_network_enabled:this.filter_off_network_enabled)}isClassroomEnabled(){return!this.isPlatformMismatch()&&(this.inside_device_network?this.classroom_on_network_enabled:this.classroom_off_network_enabled)}getYoutubeSafeSearchMode(){if(!this.isFilteringEnabled())return null;if(this.inside_device_network){if(this.safeSearch_on_network_config&&this.safeSearch_on_network_config.youtube&&this.safeSearch_on_network_config.youtube.enabled)return this.safeSearch_on_network_config.youtube.mode}else if(this.safeSearch_off_network_config&&this.safeSearch_off_network_config.youtube&&this.safeSearch_off_network_config.youtube.enabled)return this.safeSearch_off_network_config.youtube.mode;return null}isBingSafeSearchEnabled(){if(this.inside_device_network){if(this.safeSearch_on_network_config&&this.safeSearch_on_network_config.bing)return this.safeSearch_on_network_config.bing.enabled}else if(this.safeSearch_off_network_config&&this.safeSearch_off_network_config.bing)return this.safeSearch_off_network_config.bing.enabled;return!1}isGoogleSearchEnabled(){if(this.inside_device_network){if(this.safeSearch_on_network_config&&this.safeSearch_on_network_config.google)return this.safeSearch_on_network_config.google.enabled}else if(this.safeSearch_off_network_config&&this.safeSearch_off_network_config.google)return this.safeSearch_off_network_config.google.enabled;return!1}isExtensionDisabled(){return!!this.isPlatformMismatch()||!this.isClassroomEnabled()&&!this.isFilteringEnabled()}getAllowInsecureChrome(){return this.google_allow_insecure_chrome}setLocalIpAddress(e){this.local_ip=e}updateDeviceLocation(e){let t=this,n=new XMLHttpRequest;n.open("GET","http://chromelogin.linewize.net/status",!0),n.setRequestHeader("Cache-Control","no-store"),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status)return u("on-network status request returned response status code 0"),t.inside_device_network__authenticated=!1,void e(!1);if(t.inside_device_network__authenticated=!1,t.inside_device_network=!1,n.status>=200&&n.status<300){t.inside_device_network=!0;try{let a=JSON.parse(n.responseText).data;if(a.loggedin&&a.user)return t.inside_device_network__authenticated=!0,t.inside_device_network__user=a.user,void e(!0,t.inside_device_network__user,a.device_id,a.region)}catch(e){u("failed processing the on-network status response body, extension may now be in an indeterminate on-network state")}}else 404!==n.status&&u("detected on-network, but the on-network status request failed. Response code is",n.status);e(!1)}},n.onerror=function(){u("Device location probe failed due to network error, setting state to off-network"),t.inside_device_network__authenticated=!1,t.inside_device_network=!1,e(!1)},n.ontimeout=function(){u("on-network status request timed out")},n.timeout=5e3,n.send()}retrieve_userConfig(e,t){let n=this,a=n.currentUserInfo.user;n.updateDeviceLocation(((i,o,r,s)=>{try{i?(n.userFound=!0,n.currentUserInfo.user=o,n.active_region=s,n.device_id=r,e(a!==n.currentUserInfo.user)):n.getSavedSettings((i=>{chrome.identity.getProfileUserInfo({accountStatus:"ANY"},(o=>{o&&o.email?n.request_userid(o.email,void 0,((t,r,s)=>{a!==t?(h("Identity not supplied by network device and user has changed, using Google account"),o.user=t,n.currentUserInfo.user!==o.user&&(h("Found Google Identity",o),n.userFound=!0),n.currentUserInfo=o,n.active_region=r,n.device_id=s):i.device_id&&i.userInfo&&i.active_region&&(h("Identity not supplied by network device but stored settings were found, using storage",i),n.device_id=i.device_id,n.userFound=!0,n.currentUserInfo=i.userInfo,n.active_region=i.active_region,e(a!==n.currentUserInfo.user)),e(a!==n.currentUserInfo.user)}),t):u("Cannot determine user, no information provided from chrome or network")}))}))}catch(e){l("updateDeviceLocation failed",e)}}))}send_gateway_request(e,t,n,a){let i=this,o=new XMLHttpRequest;i.pendingConfigCalls[e]||(o.open("GET",t,!0),o.onreadystatechange=function(){if(4===o.readyState)if(i.pendingConfigCalls[e]=!1,200===o.status){try{i.active_configurations.length=0,i.active_region=e;let t=JSON.parse(o.responseText);h("Config Retrieved",e,t),t.parent_device&&t.parent_device!==t.device_id&&(h("Config was for child device, retrieving parent config"),i.parent_device=t.parent_device,i.local_device=t.device_id,setTimeout((()=>{_e(i.local_ip)}),5e3));let n=t.configurations;i.device_id=t.device_id,i.classwizeEventUrl=t.event_service_url,i.eventServiceUrl=t.event_url,i.blockpageUrl=t.blockedpage_url,i.verdictServerUrl=t.verdict_server_url,i.apiDispatcherUrl=t.api_dispatcher_url,i.lockUrl=t.lock_url,i.allow_connections_inside_network=t.allow_connections_inside_network,i.closedTabUrl=t.closed_tab_url,i.google_allow_insecure_chrome=t.google_allow_insecure_chrome,i.google_classroom_extension_login=t.google_classroom_extension_login,i.enable_extension_chromebooks_only=t.enable_extension_chromebooks_only,i.mobile_agent_config=i.extractFilteringAndClassroomConfig(t.mobile_agent_config),i.userInformation=t.user_information,i.timezone=t.timezone,i.chromebook_screenshot_upload_interval_seconds=t.chromebook_screenshot_upload_interval_seconds,i.screenshot_max_width=t.screenshot_max_width||300,i.compressed_screenshots=t.compressed_screenshots||!0,i.screenshot_jpeg_quality=t.screenshot_jpeg_quality||.1,i.multiple_focus_allowed_domains=t.multiple_focus_allowed_domains,i.is_teacher=t.is_teacher,i.reauth_allowed_timer_seconds=t.reauth_allowed_timer_seconds,i.asyncVerdictHandlingEnabled=t.async_verdict_handling||!1;const a=t.feature_flags;i.classroom_chat_enabled=a&&a["classwize-teacher-student-chat"];for(let e of n)i.active_configurations.push(e);i.classroom_chat_enabled&&(i.classroom_chat_enabled=!i.is_teacher)}catch(e){u("Failed to parse configuration",e,o.response),n(e)}h("Retrieved Configs",i.active_configurations);for(let e of a)e(i.active_configurations)}else l("Failed to retrieve configuration from the cfg-gateway, error was "+o.responseText),i.active_configurations=[]},i.pendingConfigCalls[e]=!0,o.send())}extractFilteringAndClassroomConfig(e){let t=this;if(e){let n=e.on_network,a=e.off_network;t.filter_on_network_enabled=!!n.filtering,t.filter_on_network_enabled&&(t.safeSearch_on_network_config=n.filtering.safeSearch),t.classroom_on_network_enabled=n.classroom.enabled,t.filter_off_network_enabled=!!a.filtering,t.filter_off_network_enabled&&(t.safeSearch_off_network_config=a.filtering.safeSearch),t.classroom_off_network_enabled=a.classroom.enabled}}request_userid(e,t,n,a){let i=this;if(h("Requesting User Id",e),i.active_region){h("Checking User Id in region",i.active_region,e);let t=G.get_gateway_url(i.active_region)+"/get/configuration/userid?identity="+e;i.send_userid_request(i.active_region,t,n,a)}else for(let t of i.regions){h("Unsure which region this user is in, searching",t,e);let o=G.get_gateway_url(t)+"/get/configuration/userid?identity="+e;i.send_userid_request(t,o,n,a),h("Request Sent",t)}}send_userid_request(e,t,n,a){let i=this,o=new XMLHttpRequest,r=(new Date).getTime();i.pendingUserIdCalls[e]&&r-5e3<i.pendingUserIdCalls[e]?h("Get userId request is already in flight, skipping..."):(o.open("GET",t,!0),o.onreadystatechange=function(){if(4===o.readyState)if(i.pendingUserIdCalls[e]=0,200===o.status){let t,i;try{let n=JSON.parse(o.responseText);h("User Id Retrieved",e,n),t=n.userid,i=n.deviceid}catch(e){a(e),u("Failed to parse User Id response",e,o.response)}h("Retrieved User Id ",t),n(t,e,i)}else a(),l("failed to retrieve User Id from the cfg-gateway, error was "+o.responseText,o)},i.pendingUserIdCalls[e]=r,o.send())}static get_gateway_url(e){return"https://configuration-gw."+e+".linewize.net"}static get_linewize_api_service_url(e){return"https://api."+e+".linewize.net"}assignUniqueId(e){this.timestamp||(this.timestamp=Date.now()),this.chromeId=btoa(e+this.timestamp),h("Assigned Chrome Id",this.chromeId)}retrieve_configuration(e){for(var t=this,n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];let o=this;h("Retrieving Config Update"),o.retrieve_userConfig((function(){if(o.getCurrentUserInfo().user){o.updateSavedSettings();let n=t.getDeviceId();h("Callback called",o.currentUserInfo,n);let i=G.get_gateway_url(o.active_region)+"/get/configuration/chrome-extension?user="+o.currentUserInfo.user+"&deviceid="+n+"&agt=chrome&ver="+chrome.runtime.getManifest().version;o.assignUniqueId(o.getCurrentUserInfo().user),o.send_gateway_request(o.active_region,i,e,a),h("Request Sent",o.active_region)}else for(let e of a)e(o.active_configurations)}),e)}updateSavedSettings(){let e=this,t={device_id:e.device_id,userInfo:e.getCurrentUserInfo(),active_region:e.active_region};chrome.storage.sync.set(t,(function(){h("Stored new settings",t)}))}getSavedSettings(e){chrome.storage.sync.get((t=>{e(t)}))}}function F(){var e=[],t=0;this.getLength=function(){return e.length-t},this.isEmpty=function(){return 0==e.length},this.enqueue=function(t){e.push(t)},this.dequeue=function(){if(0!=e.length){var n=e[t];return 2*++t>=e.length&&(e=e.slice(t),t=0),n}},this.peek=function(){return 0<e.length?e[t]:void 0}}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}a(149);class B{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;V(this,"get",(e=>this.store[e])),V(this,"set",((e,t)=>{this.store[e]=t,this.keys.includes(e)||this.keys.push(e),this.keys.length>this.size&&delete this.store[this.keys.shift()]})),this.store={},this.keys=[],this.size=e}}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=a(461),J=a.n(W);let Z=e=>{chrome.tabs.query({},(t=>{t.length<=1||ye&&e.pendingUrl===ye||chrome.tabs.remove(e.id)}))};function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q{constructor(){K(this,"update_baseUrl_and_user",((e,t,n)=>{this.baseUrl=e,this.userName=t,this.applianceId=n})),K(this,"handle_message",(e=>{"SHOW_CHAT_UI"===e.type?this.show_chat_ui():"UPDATE_CHAT_BUBBLE_POSITION"===e.type?(this.bubbleTop=e.imageTop,this.bubbleLeft=e.imageLeft):"UPDATE_TOTAL_UNREAD_COUNT"===e.type?(this.totalUnreadMessages=e.unreadMessageCount,chrome.tabs.query({},(e=>{e.forEach((e=>{this.show_bubble(e.id)}))}))):"CLOSE_CHAT_UI"===e.type?this.windowsId&&(chrome.windows.remove(this.windowsId),this.windowsId=null):"SHOW_FAKE_PENDO_1"===e.type?this.fakePendoIsShowing=!0:"CLOSE_FAKE_PENDO"===e.type&&(chrome.tabs.query({},(e=>{e.forEach((e=>{this.show_bubble(e.id)}))})),this.fakePendoIsShowing=!1,this.show_chat_ui())})),K(this,"chat_window_closed",(e=>{e&&this.windowsId===e&&(this.windowsId=null)})),K(this,"handle_tab_change",(e=>{this.show_bubble()})),K(this,"show_bubble",(e=>{chrome.tabs.executeScript(e,{code:"showChatPendo = false, msgCount = "+this.totalUnreadMessages+", imageTop = "+this.bubbleTop+",  imageLeft = "+this.bubbleLeft+";\n"},chrome.tabs.executeScript(e,{file:"/chat/assets/scripts/chatBubble.js"}))})),K(this,"close_chat_window_ui",(()=>{this.windowsId&&chrome.windows.remove(this.windowsId,(()=>this.windowsId=null))})),this.bubbleLeft=null,this.bubbleTop=null,this.windowsId=null,this.baseUrl=null,this.userName=null,this.applianceId=null,this.totalUnreadMessages=0,this.chatRequestInitated=!1,this.retryCount=0,this.fakePendoIsShowing=!1,chrome.runtime.onMessage.addListener(this.handle_message),chrome.windows.onRemoved.addListener(this.chat_window_closed),chrome.tabs.onActivated.addListener(this.handle_tab_change),chrome.tabs.onUpdated.addListener(((e,t)=>{"complete"===t.status&&this.show_bubble()}))}show_chat_ui(e){this.fakePendoIsShowing||(this.windowsId?(chrome.windows.update(this.windowsId,{focused:!0}),chrome.runtime.sendMessage({type:"OPEN_CHAT_CLASSROOM",classroomId:e})):this.chatRequestInitated||(this.chatRequestInitated=!0,chrome.windows.create({url:chrome.runtime.getURL("/chat/index.html"),type:"popup",height:522,width:344,left:screen.width-344,top:screen.height-522},(t=>{this.windowsId=t.id,this.chatRequestInitated=!1,setTimeout((()=>chrome.runtime.sendMessage({type:"OPEN_CHAT_CLASSROOM",classroomId:e})),500)}))))}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y{constructor(){$(this,"display_pending_messages",((e,t,n)=>{if("complete"===t.status&&n&&n.active&&!n.url.startsWith("chrome://")){for(let e of this.pendingMessages){const{message:t,timestamp:n}=e;this._print_message(t,n)}this.pendingMessages.length=0}})),$(this,"injectCSSIfNeeded",(()=>{chrome.tabs.executeScript({file:"/background/assets/scripts/shouldInjectCSS.js"},(e=>{e[0]&&chrome.tabs.insertCSS({file:"/background/assets/css/messageStyles.css"})}))})),this.pendingMessages=[],chrome.tabs.onUpdated.addListener(this.display_pending_messages),chrome.windows.onFocusChanged.addListener((e=>{e!==chrome.windows.WINDOW_ID_NONE&&chrome.tabs.query({active:!0,windowId:e},(e=>{e.length&&this.display_pending_messages(e[0].id,{status:e[0].status},e[0])}))}))}add_message_container(){chrome.tabs.executeScript(null,{code:'    if (document.getElementById("linewize-message-container") == null) {\n        var messageContainer = document.createElement(\'div\');\n        messageContainer.style = "position: fixed;" +\n            "width: 100%;" +\n            "z-index: 999999999999;" +\n            "overflow-x: hidden;" +\n            "text-align: center;" +\n            "top: 0;" +\n            "min-height: unset;" +\n            "height: unset;" +\n            "font-family: unset;"\n        messageContainer.id = "linewize-message-container";\n        document.body.appendChild(messageContainer);\n    }'})}add_fade_functions(e){chrome.tabs.executeScript(null,{file:"/background/assets/scripts/addFadeFunctions.js"},e)}add_pending_message(e,t){5===this.pendingMessages.length&&this.pendingMessages.shift(),this.pendingMessages.push({message:e,timestamp:t})}print_message(e,t){chrome.windows.getCurrent((n=>{let a=!1;n.type.startsWith("normal")&&(a=!0),chrome.windows.getAll((n=>{let i=null;if(!a)for(let e of n)e.type.startsWith("normal")?(i=e.id,chrome.windows.update(e.id,{focused:!0})):chrome.windows.update(e.id,{focused:!1});const o=a?{currentWindow:!0}:{windowId:i};chrome.tabs.query(o,(n=>{let a;if(n.find((e=>e.active)).url.startsWith("chrome://")){for(let e of n)if(!e.url.startsWith("chrome://")){a=e;break}a?chrome.tabs.update(a.id,{active:!0},(n=>{this._print_message(e,t)})):this.add_pending_message(e,t)}else this._print_message(e,t)}))}))}))}print_close_tab_message(e,t){chrome.tabs.query({currentWindow:!0},(n=>{if(!n.find((e=>e.active)).url.startsWith("chrome://"))return void this._print_close_tab_message(e,t);let a;for(let e of n)if(!e.url.startsWith("chrome://")){a=e;break}a&&chrome.tabs.update(a.id,{active:!0},(n=>{this._print_close_tab_message(e,t)}))}))}_print_message(e,t){h("Printing",e,t),e=e.split("\n").join("&#xA;").replace(/"/g,"&quot;").replace(/\\/g,"&#92"),this.add_message_container(),this.injectCSSIfNeeded(),this.add_fade_functions((()=>chrome.tabs.executeScript({code:'message="'+e+'";timestamp='+t+";"},chrome.tabs.executeScript(null,{file:"/background/assets/scripts/createMessageScript.js"})))),setTimeout((()=>ae.capture_tab_and_send()),2e3)}_print_close_tab_message(e,t){this.add_message_container(),this.injectCSSIfNeeded(),this.add_fade_functions((()=>chrome.tabs.executeScript({code:'tabFavicon="'+e+'";timestamp='+t+";"},chrome.tabs.executeScript(null,{file:"/background/assets/scripts/createCloseTabMessage.js"})))),setTimeout((()=>ae.capture_tab_and_send()),2e3)}_print_blocked_tab_message(e,t){this.add_message_container(),this.injectCSSIfNeeded(),this.add_fade_functions((()=>chrome.tabs.executeScript({code:'tabFavicon="'+e+'";blockedTabId='+t+";"},chrome.tabs.executeScript(null,{file:"/background/assets/scripts/createBlockedTabMessage.js"})))),setTimeout((()=>ae.capture_tab_and_send()),2e3)}}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let te=new class{constructor(){X(this,"disconnectEventService",(()=>{h("Disconnecting from Event Service"),this.eventService&&this.eventService.close(),this.eventService=void 0})),X(this,"connectToEventService",(()=>{let e,t=this,n=ne.getDeviceId(),a=ne.getCurrentUserInfo().user;e=ne.is_teacher?"CONFIG_UPDATE":"CONFIG_UPDATE,OPEN_TAB,CLOSE_TAB,MESSAGE,CLASS_STARTED,POLICY_UPDATE,INIT_P2P";const i=`${ne.eventServiceUrl}/events/v2/appliance/${n}/recipient/${a}?events=${e}`;void 0===t.eventService?(h("Connecting to v2 Event Service"),t.eventService=new EventSource(i,{withCredentials:!0}),t.eventService.onerror=async function(e){u("ERROR WITH EVENT SOURCE",e),t.disconnectEventService(),chrome.cookies.get({name:"authorization",url:"https://linewize.net"},(e=>{if(!t.eventServiceRetriedWithExistingAuth&&e){const e=q(0,5);console.log(`Retrying with existing auth in ${e} seconds`),window.setTimeout(t._retryEventServiceWithExistingAuth.bind(t),1e3*e)}else if(t.eventServiceRetriedWithNewAuth)t._retryEventServiceAfterTimeout();else{let e=0;const n=(new Date).toDateString();t.lastAuthAttemptDate&&t.lastAuthAttemptDate===n||(e=q(0,5)),t.lastAuthAttemptDate=n,console.log(`Retrying with new auth in ${e} seconds`),window.setTimeout(t._retryEventServiceWithNewAuth.bind(t),1e3*e)}}))},t.eventService.onopen=function(){console.log("Connected to event-service"),t.eventServiceRetriedWithExistingAuth=!1,t.eventServiceRetriedWithNewAuth=!1,clearTimeout(this.reauthTimeoutId),t.eventServiceRetryTimeoutSeconds=1},t.eventService.addEventListener("CONFIG_UPDATE",(function(e){t.logReceivedEvent(e),_e()}),!1),t.eventService.addEventListener("OPEN_TAB",(function(e){t.logReceivedEvent(e),ne.isClassroomEnabled()&&t.handle_event_open_tab(e)}),!1),t.eventService.addEventListener("CLOSE_TAB",(function(e){t.logReceivedEvent(e),ne.isClassroomEnabled()&&t.handle_event_close_tab(e)}),!1),t.eventService.addEventListener("MESSAGE",(function(e){let n;t.logReceivedEvent(e);try{n=JSON.parse(e.data)}catch(e){}!n||n.threadKey&&ne.isClassroomEnabled()?(t.handle_event_new_chat_arrive(n),t.lastChatMessage=n):ne.isClassroomEnabled()&&t.handle_event_message(e)}),!1),t.eventService.addEventListener("CLASS_STARTED",(function(e){t.logReceivedEvent(e),ne.isClassroomEnabled()&&t.handle_event_policy_update(e)}),!1),t.eventService.addEventListener("POLICY_UPDATE",(function(e){t.logReceivedEvent(e),ne.isClassroomEnabled()&&t.handle_event_policy_update(e)}),!1),t.eventService.addEventListener("INIT_P2P",(function(e){t.logReceivedEvent(e),JSON.parse(e.data).peerAgentId===ne.chromeId&&ne.isClassroomEnabled()&&t.handle_event_p2p_init(e)}),!1)):h("aborting connection attempt to event service, already connected")})),X(this,"_retryEventServiceWithExistingAuth",(async()=>{const e=this;try{e.eventServiceRetriedWithExistingAuth=!0,e.connectToEventService()}catch(t){e._retryEventServiceAfterTimeout()}})),X(this,"_retryEventServiceWithNewAuth",(async()=>{const e=this;try{await ue.autoAuth(),this.reauthTimeoutId=setTimeout((()=>{e.eventServiceRetriedWithNewAuth=!1}),1e3*e.getReauthAllowedTimer()+e.getReauthJitterMs()),e.eventServiceRetriedWithNewAuth=!0,e.connectToEventService()}catch(t){console.error("Failed to authenticate before retrying to connect to event-service, triggering events retry again after timeout"),e._retryEventServiceAfterTimeout()}})),X(this,"_retryEventServiceAfterTimeout",(()=>{const e=this;l("v2 Event service connect error; sleeping for "+e.eventServiceRetryTimeoutSeconds+"seconds"),e.eventServiceRetryTimeoutSeconds*=2,e.eventServiceRetryTimeoutSeconds>=64&&(e.eventServiceRetryTimeoutSeconds=64),window.setTimeout(e.connectToEventService.bind(e),1e3*e.eventServiceRetryTimeoutSeconds)})),X(this,"updateChatConfigInfo",(()=>{if(!ne.getClassroomChatStatus())return;const e=ne.getCurrentUserInfo(),t=ne.getChatBaseUrl(),n=ne.getDeviceId();this.chat.update_baseUrl_and_user(t,e.user,n)})),this.REAUTH_ALLOWED_TIMER_SECONDS=600,this.messaging=new Y,this.chat=new Q,this.eventService=void 0,this.lastEventMessage=0,this.eventServiceRetryTimeoutSeconds=1,this.eventServiceRetriedWithExistingAuth=!1,this.eventServiceRetriedWithNewAuth=!1,this.lastChatMessage=null,this.reauthTimeoutId=void 0,this.lastAuthAttemptDate=null}getReauthAllowedTimer(){return ne.reauth_allowed_timer_seconds||this.REAUTH_ALLOWED_TIMER_SECONDS}getReauthJitterMs(){return q(0,9e4)}handle_event_policy_update(e){re.reset__verdict_cache(),_e(),ae.check_tabs_for_rule_violations(this.messaging)}handle_event_message(e){let t=JSON.parse(e.data),n=t.header.timestampEpochMs;const a=t.msg;this.messaging.print_message(a,n)}handle_event_open_tab(e){let t=JSON.parse(e.data).url;t.toLowerCase().startsWith("http://")||t.toLowerCase().startsWith("https://")?chrome.tabs.create({url:t}):chrome.tabs.create({url:"http://"+t})}post_close_tab_callback(e,t){let n=JSON.parse(e.data).header.timestampEpochMs;this.messaging.print_close_tab_message(t.favIconUrl,n)}handle_event_close_tab(e){let t=JSON.parse(e.data),n=t.tabId,a=t.windowId;if(n&&a){let t=parseInt(n);chrome.tabs.query({},(n=>{chrome.tabs.get(t,(a=>{chrome.runtime.lastError?u("Error closing tab:",chrome.runtime.lastError.message):ae.close_tab(t,n,(()=>this.post_close_tab_callback(e,a)))}))}))}else u("Error parsing tabId and windowId",n,a)}handle_event_p2p_init(e){const t=JSON.parse(e.data),{channel:n,signalHost:a,signalToken:i,signalExpiryEpochSeconds:o,remotePeerId:r,ice:s}=t;le.initSignaler(i,n,r),le.setIce(s)}handle_event_new_chat_arrive(e){chrome.runtime.sendMessage({type:"NEW_MESSAGE",data:e}),e.sender.id!==ne.getCurrentUserInfo().user&&ne.getClassroomChatStatus()&&this.chat.show_chat_ui(e.classroomId)}logReceivedEvent(e){this.eventServiceRetryTimeoutSeconds=1,this.lastEventMessage=Date.now()/1e3,d("Event Message Received",e)}},ne=new G,ae=new class{constructor(){this.activeConfigurations=[],this.isFocusActive=!1,this.isLockActive=!1,this.scheduledFocusAndLockCheckId=null,this.previousTabsUrls=[],this.lastScreenshotUrl=null,this.lastScreenshotTime=0,this.pageCompleteSentForURL=!1}capture_active_tab(e,t){try{chrome.tabs.captureVisibleTab(e,{format:"png"},(function(e){if(chrome.runtime.lastError)return void(chrome.runtime.lastError.message.includes("MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND")?u("captureVisibleTab failed, exceeded MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND"):u("captureVisibleTab failed."));const n=new Image;n.onload=function(){const e=ne.getScreenshotMaxWidth(),a=document.createElement("canvas"),i=a.getContext("2d");a.width=n.width,a.height=n.height;const o=n.width>e?e:n.width,r=o*(n.height/n.width);a.width=o,a.height=r,i.drawImage(n,0,0,o,r),ne.compressed_screenshots?t(a.toDataURL("image/jpeg",ne.screenshot_jpeg_quality)):t(a.toDataURL())},n.src=e}))}catch{u("captureVisibleTab failed.")}}capture_tab_and_send(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(!ne.shouldCaptureScreenshots())return void we();let n={title:"",url:"",favicon:"",tab_id:"",chrome_id:"",action:"",screenshot:""};chrome.tabs.query({},(a=>{const i=a.filter((e=>!ve.includes(e.url)));chrome.windows.getLastFocused((a=>{h("Capturing Tab: chrome.tabs.query({})",i);let o=[];for(let e=0;e<i.length;e++){let t=i[e],r=t.windowId+"_"+t.id,s=t.title,c=t.url,u=t.favIconUrl;t.active&&t.windowId===a.id?(n.tab_id=r,n.chrome_id=ne.chromeId,n.chrome_window_id=0,n.action="upsert",n.title=s,n.url=c,n.favicon=u,n.tabIndex=e):o.push({favIcon:u,tabUrl:c,title:s,tab_id:r})}if(n.background_tabs=o,""!==n.url){if(n.url.toLowerCase().startsWith("chrome"))return d(`${n.url} is the active tab, skipping screenshot`),void be();if(t.lastScreenshotUrl===n.url){if(!t.pageCompleteSentForURL&&e)t.pageCompleteSentForURL=!0,d(`Uploading the 1st pageComplete screenshot for ${n.url}`);else if(t.lastScreenshotTime+10>E())return void d(`Rapid s'shot upload for ${n.url}, skipping screenshot`)}else t.lastScreenshotUrl=n.url,t.pageCompleteSentForURL=e;t.lastScreenshotTime=E(),t.capture_active_tab(a.id,(function(e){h("chrome.tabs.query about to call sendToLinewize"),n.screenshot=e;for(let e of t.activeConfigurations)if(T(e)){n.email=e.identity;let t=new XMLHttpRequest;t.open("POST",e.endpoint,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){4===t.readyState&&(n.screenshot="",200===t.status?h("Uploaded screen shot of tab",n):u("Failed to upload screen shot of tab",n),be())},t.send(JSON.stringify(n));break}}))}else d("DevTools is the active tab, skipping screenshot")}))}))}tab_removed(e){for(let t of this.activeConfigurations)if(T(t)){let n={email:t.identity,tab_id:e,action:"remove"},a=new XMLHttpRequest;a.open("POST",t.endpoint,!0),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(n))}}should_focus(e){return e.apply_focus}start_focus(e){this.isFocusActive?this.update_focus(e):(h("starting focus"),this.add_tabs(e,(()=>{this.restrict_tabs(e,(()=>this.prevent_new_tab()))})),this.isFocusActive=!0)}update_focus(e){h("updating focus with latest focus urls"),this.allow_new_tabs(),this.add_tabs(e,(()=>{this.restrict_tabs(e,(()=>this.prevent_new_tab()))}),{skipOnDomainMatch:!0})}stop_focus(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFocusActive&&(h("stopping focus"),e||(this.allow_new_tabs(),this.restore_tabs()),this.isFocusActive=!1)}should_lock(e){return ne.getLockUrl()&&e.locked_users.includes(e.identity)}lock_tabs(){this.isLockActive||(u("starting lock"),this.add_tabs([ne.getLockUrl()],(()=>{this.restrict_tabs([ne.getLockUrl()],(()=>{this.prevent_new_tab(),this.prevent_navigation()}))})),this.isLockActive=!0)}stop_lock(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLockActive&&(h("stopping lock"),this.allow_navigation(),e||(this.cleanup_tabs([ne.getLockUrl()]),this.allow_new_tabs(),this.restore_tabs()),this.isLockActive=!1)}cleanup_tabs(e){chrome.tabs.query({},(t=>{for(let n of t)for(let t of e)n.url.indexOf(t)>=0&&chrome.tabs.remove(n.id)}))}restrict_tabs(e,t){chrome.tabs.query({},(n=>{let a=[];e:for(let t of n){for(let n of e)if(t.url.includes(n)||t.pendingUrl&&t.pendingUrl.includes(n)||ye&&t.url===ye)continue e;this.previousTabsUrls.push(t.url),a.push(t.id)}chrome.tabs.remove(a,t)}))}add_tabs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipOnDomainMatch:a}=n;chrome.tabs.query({},(n=>{let i=[];e:for(let t of e){let e="";0!==t.indexOf("http")&&(e="http://");const o=J()(e+t).domain;for(let e of n)if(a){let n=!0;for(let t of ne.getMultipleFocusAllowedDomains())e.url.indexOf(t)>=0&&(n=!1);if(n&&e.url.indexOf(o)>=0||e.url.indexOf(t)>=0)continue e}i.push({url:e+t})}this.createTabs(i,t)}))}createTabs(e,t){if(0===e.length)return void t();let n=0;for(let a of e)chrome.tabs.create(a,(()=>{n++,n===e.length&&t()}))}restore_tabs(){for(let e of this.previousTabsUrls)chrome.tabs.create({url:e});this.previousTabsUrls.length=0}prevent_navigation_handler(e){return e.url.indexOf("linewize.net")>=0||e.url.startsWith("chrome-extension://"+chrome.runtime.id)?{}:{redirectUrl:ne.getLockUrl()}}prevent_navigation(){chrome.webRequest.onBeforeRequest.hasListener(this.prevent_navigation_handler)||chrome.webRequest.onBeforeRequest.addListener(this.prevent_navigation_handler,{urls:["<all_urls>"]},["blocking"])}allow_navigation(){chrome.webRequest.onBeforeRequest.hasListener(this.prevent_navigation_handler)&&chrome.webRequest.onBeforeRequest.removeListener(this.prevent_navigation_handler)}prevent_new_tab(){chrome.tabs.onCreated.hasListener(Z)||chrome.tabs.onCreated.addListener(Z)}allow_new_tabs(){chrome.tabs.onCreated.hasListener(Z)&&chrome.tabs.onCreated.removeListener(Z)}updateActiveConfigurations(e){if(this.activeConfigurations=e,ne.isClassroomEnabled()){const e=this.activeConfigurations.filter(T);if(this.runningConfigs=e,0===e.length)h("no running configs, stopping lock and focus if they are active"),this.stop_lock(),this.stop_focus();else{let t,n;this.scheduleFocusAndLockCheckAtNextClassEnd();for(const a of e)this.should_focus(a)&&(this.start_focus(a.focus_urls),t=!0),this.should_lock(a)&&(this.lock_tabs(),n=!0);this.maybe_deactivate_focus_and_or_lock(t,n)}}else h("classroom functionality is disabled, stopping lock and focus if they are active"),this.stop_lock(),this.stop_focus()}maybe_deactivate_focus_and_or_lock(e,t){e||t?e&&!t?this.stop_lock(e):t&&!e&&this.stop_focus(t):(this.stop_lock(),this.stop_focus())}scheduleFocusAndLockCheckAtNextClassEnd(){const e=ne.getDeviceTimezone(),t=(new p.ou.now).setZone(e),n=t.toMillis(),a=[];if(this.runningConfigs.forEach((e=>{const i=1e3*e.timeout>=n?e.timeout:0,o=e.periods.filter((e=>{if(A.get(t.day)!==e.day)return!1;if(i){const n=1e3*i;if(t.set({hour:e.endTime/100,minute:e.endTime%100,second:0,millisecond:0})<n)return!1}return!0}));let r;if(i){const e=1e3*i;for(const n of o){const a=t.set({hour:n.startTime/100,minute:n.startTime%100,second:0,millisecond:0}),i=t.set({hour:n.endTime/100,minute:n.endTime%100,second:0,millisecond:0});if(e>=a&&e<=i){r=i;break}}r||(r=e)}else{const e=z(o);r=e?t.set({hour:e.endTime/100,minute:e.endTime%100,second:0,millisecond:0}):null}a.push(r)})),a.sort(((e,t)=>e-t)),0===a.length)return;const i=a[0];h(`scheduling focus/lock deactivation check to run at next config expiry, unixMs ${i}`),clearTimeout(this.scheduledFocusAndLockCheckId),this.scheduledFocusAndLockCheckId=setTimeout((()=>{let e,t;for(const n of this.runningConfigs)T(n)&&(this.should_focus(n)&&(e=!0),this.should_lock(n)&&(t=!0));this.maybe_deactivate_focus_and_or_lock(e,t)}),i-n+1e3)}close_tab(e,t,n){if(1==t.length&&ne.getClosedTabUrl())chrome.tabs.update(e,{url:ne.getClosedTabUrl()});else{let a=null;for(let n of t)if(!n.url.startsWith("chrome")&&""!==n.url&&n.id!==e){a=n;break}a?chrome.tabs.remove(e,n):(chrome.tabs.create({url:ne.getClosedTabUrl()}),chrome.tabs.remove(e))}}check_tabs_for_rule_violations(e){chrome.tabs.query({},(t=>{t.forEach((n=>{if(""===n.url||n.url.startsWith("chrome"))return;let a=re.api__get_should_close_tab_on_policy_change(n.url);a?0===a.verdict&&(h("Tab "+n.id+" matches a blocked rule, closing..."),this.close_tab(n.id,t,(()=>setTimeout((()=>e._print_blocked_tab_message(n.favIconUrl,n.id)),2e3)))):u("Error retrieving verdict on policy update")}))}))}},ie=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;ee(this,"getVerdictResponse",((e,t)=>{if(e in this.store){let n=O(t);return this.store[e][n]}})),ee(this,"setVerdictResponse",((e,t,n)=>{n.response_time=E(),e in this.store||(this.store[e]={});let a=O(t);this.store[e][a]=n})),ee(this,"removeVerdictResponse",(e=>{delete this.store[e]})),ee(this,"evictOldResponses",(()=>{for(let e of Object.keys(this.store)){let t=this.store[e].response_time;(!t||t+this.ttl<E())&&delete this.store[e]}})),this.store={},this.ttl=e,setInterval(this.evictOldResponses,1e3*Math.min(10,e))}}(30),oe=new class{constructor(e){chrome.storage.local.get(null,(function(e){const t=Object.keys(e);for(const e of t)Number.isNaN(e)||chrome.storage.local.remove(e)})),this.lastReport=Date.now(),this.cachedConnections={},this.storedConnectionCount=0,this.cachedTabs={},chrome.webRequest.onSendHeaders.addListener((async e=>{this.shouldProcessConnectionObject(e)&&this.updateConnectionObject(e,!1)}),{urls:["<all_urls>"]},["requestHeaders"]),chrome.webRequest.onBeforeRequest.addListener((async e=>{this.shouldProcessConnectionObject(e)&&!re.shouldCheckFilter(e)&&this.updateConnectionObject(e,!1)}),{urls:["<all_urls>"]},["requestBody"]),chrome.webRequest.onHeadersReceived.addListener((async e=>{e.requestId&&this.shouldProcessConnectionObject(e)&&this.updateConnectionObject(e,!1)}),{urls:["<all_urls>"]},["responseHeaders"]),chrome.webRequest.onCompleted.addListener((async e=>{let t=this.shouldProcessConnectionObject(e);!1===e.fromCache&&t&&await this.updateConnectionObject(e,!0),t&&this.uploadData()}),{urls:["<all_urls>"]}),chrome.tabs.onUpdated.addListener(((e,t,n)=>{t.url&&(n.url.includes("youtube.com/watch?v=")&&this.cachedTabs[e]!=n.url&&this.createFakeYoutubeConnection(e,n.url),this.cachedTabs[e]=n.url)})),chrome.tabs.onRemoved.addListener(((e,t)=>{e in this.cachedTabs&&delete this.cachedTabs[e]}))}shouldProcessConnectionObject(e){return e&&ne.isConnectionReportingEnabled()&&!e.url.toLowerCase().startsWith("chrome")&&"localhost"!==O(e.url)&&ne.userFound&&-1===e.url.toLowerCase().indexOf("linewize.net")&&!(e.initiator&&e.initiator.toLowerCase().startsWith("chrome"))&&(!e.fromCache||!1===e.fromCache)&&(!e.initiator||"chrome-extension"!==e.initiator)}getBlankConnectionObject(e){return{id:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))),url:"",app_filtering_denied:!1,bypass_code:"",bypass_expiry_time:0,categoryId:"",destIp:"0.0.0.0",destPort:0,download:0,final_connection_object:!0,hwAddress:"",httpHost:"0",http_request_uris:[],htmlTitle:void 0,lifetime:0,packets:1,sourceIp:ne.local_ip,subCategoryId:"",tag:"",time:0,upload:1,user:ne.getCurrentUserInfo().user,verdict_application_rule:"",noise:!1,reportingType:"extension",extensionConnection:!1,debug__chrome_verdict_issued:!1,debug__chrome_requestId:e}}getConnectionObject(e){return this.cachedConnections.hasOwnProperty(e)?this.cachedConnections[e]:this.getBlankConnectionObject(e)}saveConnectionToStorage(e,t,n){chrome.storage.local.get([e],(a=>{let i={};0===Object.keys(a).length?(i[e]=t,chrome.storage.local.set(i,n)):this.mergeConnectionData(t,a[e]).then((t=>{i[e]=t,chrome.storage.local.set(i,n)}))}))}removeConnection(e){chrome.storage.local.remove(e),e in this.cachedConnections&&delete this.cachedConnections[e]}async mergeConnectionData(e,t){let n=O(t.url);e.url=t.url,e.httpHost=n,e.user=ne.getCurrentUserInfo().user,e.time=E(),e.lifetime=0,e.packets=1,e.protocol=6,e.hwAddress="",e.agent=`chrome-extension-${chrome.runtime.getManifest().version}`,e.agent_inside_network=ne.inside_device_network,e.final_connection_object=!0,e.destPort=function(e){let t=Number(M(e).split("/")[0].replace(":",""));return!isNaN(t)&&t>0?t:e.startsWith("https")?443:e.startsWith("http")?80:e.startsWith("ftp")?21:0}(t.url),e=await this.updateConnectionObjectWithVerdict(e,t);let a=M(t.url);e.http_request_uris||(e.http_request_uris=[]),e.http_request_uris.indexOf(a)<0&&e.http_request_uris.push(a);const i=re.getYoutubeSearchQuery(t);if(i&&e.http_request_uris.push(`/results?search_query=${encodeURIComponent(i)}`),e.sourceIp=ne.local_ip,t.ip&&(e.destIp=t.ip),t.requestHeaders)for(let n of t.requestHeaders)e.upload+=n.name.length,e.upload+=n.value.length;if(t.responseHeaders){for(let n of t.responseHeaders)e.download+=n.name.length,e.download+=n.value.length,"content-length"===n.name.toLowerCase()&&("get"===t.method.toLowerCase()?e.download?e.download+=Number(n.value):e.download=Number(n.value):e.upload?e.upload+=Number(n.value):e.upload=Number(n.value));e.destIp=t.ip}return t.requestBody&&(e.upload?e.upload+=Number(N(t.requestBody)):e.upload=Number(N(t.requestBody))),t.tabId&&-1!==t.tabId&&chrome.tabs.get(t.tabId,(t=>{chrome.runtime.lastError||"complete"!==t.status||(e.htmlTitle=t.title)})),e}async updateConnectionObject(e,t){if(e.url&&this.shouldProcessConnectionObject(e)){let n=e.requestId,a=this.getConnectionObject(n);a=await this.mergeConnectionData(a,e),t?this.saveConnectionToStorage(n,a,(()=>{this.storedConnectionCount++,delete this.cachedConnections[n]})):this.cachedConnections[n]=a}}async updateConnectionObjectWithVerdict(e,t){let n=ie.getVerdictResponse(t.requestId,t.url);if(!n){let e=re.getYoutubeSearchQuery(t);n=await re.getVerdictPromise(t.url,!0,-1,e),ie.setVerdictResponse(t.requestId,t.url,n)}return 0===n.verdict?(e.debug__chrome_verdict_issued=!0,e.app_filtering_denied=!0):1===n.verdict&&(e.debug__chrome_verdict_issued=!0,e.app_filtering_denied=!1),e.verdict_application_rule=n.rule?n.rule.id:"",e.verdict_application_rule=n.zoom?n.zoom.group:e.verdict_application_rule,n.bypass&&(e.bypass_code=n.bypass.code,e.bypass_expiry_time=n.bypass.expiry_time),n.signatures&&(e.categoryId=n.signatures.category,e.subCategoryId=n.signatures.subCategory,e.tag=n.signatures.signature,n.signatures.noise&&(e.noise=n.signatures.noise)),e}uploadData(){let e=this.lastReport<Date.now()-3e5;(this.storedConnectionCount>1e4||e)&&(this.lastReport=Date.now(),chrome.storage.local.get(null,(e=>{if(h("Upload Data Called",Object.keys(e).length),ne.local_ip&&ne.active_region&&ne.device_id&&Object.keys(e).length>0){this.storedConnectionCount=0,h("Uploading Data",ne.local_ip,ne.active_region,ne.device_id);let t=new XMLHttpRequest;t.timeout=0;let n=[];t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){h("Upload Successful",n.length,t);for(let t in e)h("Removing requestId ",t),chrome.storage.local.remove(t)}else{l("Upload Failed",t);for(let t in e)l("Keep requestId ",t)}};for(let t in e){let a=e[t];n.push(a),h("Pending removing requestId ",t)}let a={items:n};t.open("POST","https://stats-xlb."+ne.active_region+".linewize.net/"+ne.device_id+"/-/extension",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Accept","application/json");let i=JSON.stringify(a);t.send(i)}})))}createFakeYoutubeConnection(e,t){const n=this.getBlankConnectionObject(null);n.url=t,n.requestId=n.id,this.updateConnectionObject(n,!0)}},re=new class{constructor(){var e=this;V(this,"handleVerdictQueue",(()=>{for(const[e,t]of Object.entries(this.verdictQueue)){const e=t;if(0!==e.getLength())for(let t=0;t<Math.min(e.getLength(),2);t++){const t=e.dequeue();let n=this.getYoutubeSearchQuery(t);this.getVerdictPromise(t.url,!1,t.tabId,n).then((e=>{ie.setVerdictResponse(t.requestId,t.url,e);const n=0===e.verdict;if(oe.updateConnectionObject(t,n),se.setStats("Filtering","cacheSize",Object.keys(this.cache).length),0===e.verdict){var a,i;let n=e.redirect_uri;l("redirect found from verdict!",n);let o=n.toLowerCase();o.startsWith("http://")||o.startsWith("https://")||(n="http://"+n),this.redirectRequest=t.requestId,e.rule&&e.rule.redirect||(n+="&cid="+ne.chromeId),null!==(a=e.signatures)&&void 0!==a&&a.noise||"sphirewall.application.porn"!==(null===(i=e.signatures)||void 0===i?void 0:i.signature)||chrome.tabs.get(t.tabId,(e=>{O(t.initiator)===O(e.url)&&chrome.tabs.update(t.tabId,{url:n},(()=>{console.log("redirected: "+t.tabId)}))}))}}))}}})),V(this,"enforceBingSafeSearchIfRequired",(e=>{if(e&&ne.isBingSafeSearchEnabled()){const t=new URL(e);if(/\.bing\.com$/.test(t.hostname)&&/^(\/search|\/videos|\/images|\/news)/.test(t.pathname))return t.searchParams.delete("adlt"),t.href+"&adlt=strict"}})),V(this,"enforceGoogleSafeSearchIfRequired",(e=>{if(e&&ne.isGoogleSearchEnabled()){const t=new URL(e);if(/\.google.*$/.test(t.hostname)&&/^\/search/.test(t.pathname)&&"active"!==t.searchParams.get("safe"))return t.searchParams.delete("safe"),t.href+"&safe=active"}})),V(this,"getEarlyVerdict",((e,t,n,a)=>{if(this.is_bypass(t)&&this.reset__verdict_cache(),this.isSearchAutoComplete(t))return d("Request is a search auto complete, skipping verdict",t),{ttl:60};if((t.startsWith("chrome:")||t.startsWith("chrome-extension:")||e.includes("linewize.net")||e===O(ne.getVerdictServerUrl())||e.indexOf(".")<0)&&"localhost"!==e)return{ttl:999999999};if(!n){const t=this.getVerdictCacheHit(e,a);if(t)return t}return null})),V(this,"getVerdictCacheHit",((e,t)=>{let n=this.get__verdict_from_cache(e);if(n&&(t||this.cache[e].time_retrieved+this.cache[e].ttl>E()))return se.incrementStats("Filtering","cacheHit",1),n})),V(this,"getVerdictPromise",(function(t,n,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(((o,r)=>{const s=O(t),c=encodeURIComponent(I(t)),u=e.isGoogleSearchPathExclusion(s,c),h=e.getEarlyVerdict(s,t,u,n);h?o(h):e.apiGetVerdictPromise(s,c,a,i).then((n=>{n||l("Verdict for website was undefined",t,n={ttl:5}),n.time_retrieved=E(),!u&&n.ttl>0&&(e.cache[s]=n),o(n)})).catch((()=>{r()}))}))})),V(this,"get__verdict",(function(t,n,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=O(t),s=encodeURIComponent(I(t)),c=e.isGoogleSearchPathExclusion(r,s);if(!o){const a=e.getEarlyVerdict(r,t,c,n);if(a)return a}let u=e.api__get_verdict(r,s,a,i);return u||(u={ttl:5},l("Verdict for website was undefined",t,u)),u.time_retrieved=E(),!c&&u.ttl>0&&(e.cache[r]=u),u})),V(this,"isGoogleSearchPathExclusion",((e,t)=>e&&t&&e.includes("google")&&t.startsWith("search",0))),V(this,"isGoogleMapsVerdictBypass",(e=>{try{const t=new URL(e.url);return(t.hostname+t.pathname).includes("google.com/maps/vt")}catch(e){console.error("caught error, skipping google maps verdict bypass check.",e)}return!1}));let t=this;t.cache={},t.verdictQueue={},t.fallback_until=0,t.noUserFallback=!1,t.cacheForYoutubeQuery=new B(20),t.requestTimeSamples=U(10),chrome.runtime.onMessage.addListener((function(e,n,a){let i=n.url,o="ok",r="?user="+ne.getCurrentUserInfo().user+"&url="+O(i)+"&deviceid="+ne.device_id+"&ip="+ne.local_ip+"&cid="+ne.chromeId,s=ne.getBlockpageUrl()+r;if("delegatedBlockSite"===e.message)h("Delegated safeguard action is block site"),a({message:"redirect",redirectUrl:chrome.runtime.getURL("background/assets/pages/default-blocked.html")});else if(t.shouldCheckFilter(n)&&"checkRequest"===e.message){let n=t.getYoutubeSearchQuery(e),i=t.get__verdict(e.url,!1,-1,n,!1);if(0===i.verdict)h("Blocked site bypass detected, blocking again."),o="redirect";else if(1===i.verdict)return void("object"==typeof i.content_mod&&i.content_mod.length>0&&(h("Send response with content_mod: "+JSON.stringify(i.content_mod)),a({message:"content_mod",content_mod:i.content_mod})));a({message:o,redirectUrl:s})}else t.isFallback()&&"blockSite"===e.message&&(h("Fallback system blocking and redirecting to blocked page"),o="redirect",a({message:o,redirectUrl:chrome.runtime.getURL("background/assets/pages/default-blocked.html")}))})),chrome.webRequest.onBeforeRedirect.addListener((function(e){h("Redirect caught",e.requestId,e.url,e.redirectUrl),ie.removeVerdictResponse(e.requestId),oe.removeConnection(e.requestId)}),{urls:["<all_urls>"]}),chrome.webRequest.onBeforeRequest.addListener((e=>{if(!t.isGoogleMapsVerdictBypass(e))if(t.shouldCheckFilter(e)){se.incrementStats("Filtering","verdictRequests",1);let n=ie.getVerdictResponse(e.requestId,e.url);if(!n){const a=t.getYoutubeSearchQuery(e),i=O(e.url),o=encodeURIComponent(I(e.url)),r=this.isGoogleSearchPathExclusion(i,o),s=this.getEarlyVerdict(i,e.url,r,!1);if(s)!r&&s.ttl>0&&(this.cache[i]=s),n=s;else{if(null!=e.initiator&&""!=e.initiator&&ne.asyncVerdictHandlingEnabled&&"image"!==e.type&&"media"!==e.type&&"main_frame"!==e.type){e.tabId in this.verdictQueue||(this.verdictQueue[e.tabId]=new F),this.verdictQueue[e.tabId].enqueue(e);const n=t.enforceGoogleSafeSearchIfRequired(e.url)||t.enforceBingSafeSearchIfRequired(e.url);return n?{redirectUrl:n}:void 0}n=t.get__verdict(e.url,!1,e.tabId,a,!0),ie.setVerdictResponse(e.requestId,e.url,n)}}const a=0===n.verdict;if(oe.updateConnectionObject(e,a),se.setStats("Filtering","cacheSize",Object.keys(t.cache).length),0===n.verdict){let a=n.redirect_uri;l("redirect found from verdict!",a);let i=a.toLowerCase();return i.startsWith("http://")||i.startsWith("https://")||(a="http://"+a),t.redirectRequest=e.requestId,n.rule&&n.rule.redirect||(a+="&cid="+ne.chromeId),{redirectUrl:a}}{const n=t.enforceGoogleSafeSearchIfRequired(e.url)||t.enforceBingSafeSearchIfRequired(e.url);if(n)return{redirectUrl:n}}}else if(this.isFallback()){const n=t.enforceGoogleSafeSearchIfRequired(e.url)||t.enforceBingSafeSearchIfRequired(e.url);if(n)return oe.removeConnection(e.requestId),{redirectUrl:n}}}),{urls:["<all_urls>"]},["blocking","requestBody"]),chrome.webRequest.onBeforeSendHeaders.addListener((function(e){const t=ne.getYoutubeSafeSearchMode();if(t){const n={name:"YouTube-Restrict",value:t};return e.requestHeaders.push(n),{requestHeaders:e.requestHeaders}}}),{urls:["*://*.youtube.com/*","*://youtubei.googleapis.com/*","*://youtube.googleapis.com/*","*://www.youtube-nocookie.com/*"]},["blocking","requestHeaders"]),chrome.webRequest.onBeforeSendHeaders.addListener((function(e){let t=ie.getVerdictResponse(e.requestId,e.url);if(null!=t&&null!=t.custom_headers&&null!=t.custom_headers.upsert){let n=t.custom_headers.upsert;for(let t of n){const n=t.name.toLowerCase(),a=e.requestHeaders.findIndex((e=>e.name.toLowerCase()==n));-1!=a?e.requestHeaders[a].value=t.value:e.requestHeaders.push({name:t.name,value:t.value}),d("HTTP header: ["+t.name+": "+t.value+"] has been injected")}return{requestHeaders:e.requestHeaders}}}),{urls:["<all_urls>"]},["blocking","requestHeaders"]),chrome.webRequest.onBeforeRequest.addListener((e=>{if(!ne.inside_device_network){if(ne.getAllowInsecureChrome()||ne.getCurrentUserInfo().token)return{redirectUrl:t.redirect_mylinewize()};{let n;return chrome.tabs.query({},(t=>{for(let a of t)a.url===e.url&&(n=a.id)})),chrome.identity.getAuthToken({interactive:!0},(e=>{ne.currentUserInfo.token=e;let a=t.redirect_mylinewize();chrome.tabs.update(n,{url:a})})),{redirectUrl:"about:blank"}}}}),{urls:["*://my.linewize.net/*"]},["blocking"]),setInterval(this.handleVerdictQueue,1e3),this.handleVerdictQueue=this.handleVerdictQueue.bind(t),this.apiGetVerdictPromise=this.apiGetVerdictPromise.bind(t)}redirect_mylinewize(){let e="https://mylinewize."+ne.active_region+".linewize.net/login",t=ne.getCurrentUserInfo().token?ne.getCurrentUserInfo().token:"";return e+="?cid="+ne.chromeId,e+="&ce=true",e+="&u="+ne.getCurrentUserInfo().user,e+="&ge="+ne.getCurrentUserInfo().email,e+="&d="+ne.device_id,e+="&gt="+t,e}isFallback(){return this.fallback_until>(new Date).getTime()||this.noUserFallback}shouldCheckFilter(e){let t=O(e.url),n=t===O(ne.getVerdictServerUrl())||t.indexOf(".")<0||"localhost"===t||e.url.toLowerCase().startsWith("chrome");return e&&ne.isFilteringEnabled()&&ne.userFound&&!n&&!(e.initiator&&e.initiator.toLowerCase().startsWith("chrome"))&&!this.isFallback()}get__verdict_from_cache(e){if(e in this.cache&&this.cache[e])return this.cache[e]}reset__verdict_cache(){this.cache={}}trigger_fallback(){this.fallback_until=(new Date).getTime()+12e4,this.requestTimeSamples=U(10),l("Entering Fallback Mode - trying verdict gw again at "+new Date(this.fallback_until))}get__average_request_time(){let e=this.requestTimeSamples.reduce((function(e,t){return e+t}),0)/this.requestTimeSamples.length;return d("Average request time: "+e),e>5e3&&this.trigger_fallback(),e}is_bypass(e){return!(!O(e).includes("linewize.net")||!e.includes("bypass_active"))}isSearchAutoComplete(e){const t=O(e),n=I(e).toLowerCase();return t.includes("google")||t.includes("youtube")?n.match(/^complete\/search\?.*$/):t.includes("bing")?n.match(/^as\/suggestions\?.*$/):!!t.includes("duckduckgo")&&n.match(/^ac\/?\?.*$/)}getYoutubeSearchQuery(e){let t=null;try{if(this.isYoutubePostSearch(e.url,e.method)){const n=`${e.requestId}_${e.url}`;if(e.requestBody){const a=decodeURIComponent(String.fromCharCode.apply(null,new Uint8Array(e.requestBody.raw[0].bytes)));t=JSON.parse(a).query,this.cacheForYoutubeQuery.set(n,t)}else t=this.cacheForYoutubeQuery.get(n)}}catch(e){l("Couldn't retrieve search query from requestBodyString. YouTube Search RequestBody changed?",e)}return t}isYoutubePostSearch(e,t){return O(e).includes("youtube")&&e.includes("search")&&"POST"===t}apiGetVerdictPromise(t,n,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(((o,r)=>{if(this.isFallback())return d("In Fallback mode, skipping verdict for "+t),void o(void 0);if(ne.device_id){if(d("Checking verdict for website "+t),ne.getVerdictServerUrl()){let s=new XMLHttpRequest,c="&deviceid="+ne.device_id,m=(new Date).getTime(),p="&cev="+chrome.runtime.getManifest().version,f="?requested_website="+t+"&identity="+ne.getCurrentUserInfo().user+"&chrome_id="+ne.chromeId+p+c+"&requested_path="+n;i&&(f+="&search_query="+encodeURIComponent(i)),s.open("GET",ne.getVerdictServerUrl()+"/get/verdict"+f,!0);let g=m;s.onload=()=>{if(200!==s.status)return l("Failed, status was "+s.status.toString(),s.responseText),g=m+1e4,void o(void 0);let e=JSON.parse(s.responseText);d("Got a response for website "+t,e),g=(new Date).getTime();let n=g-m;this.requestTimeSamples.push(Math.min(n,1e4)),this.get__average_request_time(),o(e)},s.onerror=()=>{u("ERROR",e),g=m+1e4,h("Delegating filtering check to safeguard since verdict request failed"),this.safeguardCheck(a),r(void 0)},s.send()}}else r()}))}api__get_verdict(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.isFallback())d("In Fallback mode, skipping verdict for "+e);else if(ne.device_id&&(d("Checking verdict for website "+e),ne.getVerdictServerUrl())){let i=new XMLHttpRequest,o="&deviceid="+ne.device_id,r=(new Date).getTime(),s="&cev="+chrome.runtime.getManifest().version,c="?requested_website="+e+"&identity="+ne.getCurrentUserInfo().user+"&chrome_id="+ne.chromeId+s+o+"&requested_path="+t;a&&(c+="&search_query="+encodeURIComponent(a)),i.open("GET",ne.getVerdictServerUrl()+"/get/verdict"+c,!1);let m=r;try{if(i.send(),200!==i.status)return l("Failed, status was "+i.status.toString(),i.responseText),void(m=r+1e4);let t=JSON.parse(i.responseText);return d("Got a response for website "+e,t),m=(new Date).getTime(),t}catch(e){return u("ERROR",e),m=r+1e4,h("Delegating filtering check to safeguard since verdict request failed"),void this.safeguardCheck(n)}finally{if(0!==i.status){let e=m-r;this.requestTimeSamples.push(Math.min(e,1e4)),this.get__average_request_time()}}}}api__get_should_close_tab_on_policy_change(e){if(ne.getVerdictServerUrl()){if(!ne.device_id)return;let t=new XMLHttpRequest,n=(new Date).getTime(),a="&deviceid="+ne.device_id,i=encodeURIComponent(I(e)),o="&cev="+chrome.runtime.getManifest().version;t.open("GET",ne.getVerdictServerUrl()+"/check/classroom/verdict?identity="+ne.getCurrentUserInfo().user+"&chrome_id="+ne.chromeId+o+a+"&requested_website="+e+"&requested_path="+i,!1);let r=n;try{if(t.send(),200!==t.status)return l("Failed, status was "+t.status.toString(),t.responseText),void(r=n+1e4);let a=JSON.parse(t.responseText);return d("Got a response for website "+e,a),r=(new Date).getTime(),a}catch(e){return u("ERROR",e),void(r=n+1e4)}finally{let e=r-n;this.requestTimeSamples.push(Math.min(e,1e4)),this.get__average_request_time()}}}safeguardCheck(e){e>-1&&chrome.tabs.sendMessage(e,{message:"safeguardCheckSite"})}},se=new class{constructor(){let e=this;e.stats={},e.incrementalStats={},e.averageStats={},e.increment=0,setInterval((function(){e.increment+=1;for(let t in e.incrementalStats)for(let n in e.incrementalStats[t])e.prepMap(e.averageStats,t,n),e.averageStats[t][n]=(e.incrementalStats[t][n]/e.increment/60).toFixed(2)+"/s"}),6e4)}printStats(){h("Current Stats",this.stats,this.averageStats)}incrementStats(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.prepMap(this.stats,e,t,0),this.prepMap(this.incrementalStats,e,t,0),this.stats[e][t]+=n,this.incrementalStats[e][t]+=n}setStats(e,t,n){this.prepMap(this.stats,e,t),this.stats[e][t]=n}resetStats(e,t){this.prepMap(this.stats,e,t),this.stats[e][t]={}}prepMap(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e[t]||(e[t]={}),e[t][n]||(e[t][n]=a)}},ce=new class{constructor(){let e=this;e.lastTime=0,chrome.extension.onMessage.addListener(((t,n,a)=>{"SignIn"===t.greeting&&(e.login(),a({}))}))}login(){let e=this;d("login(force) was called"),ne.inside_device_network&&ne.google_classroom_extension_login&&(e.lastTime+6e5<(new Date).getTime()||!ne.inside_device_network__authenticated?(h("Attempting to authenticate with appliance"),chrome.identity.getProfileUserInfo({accountStatus:"ANY"},(function(t){d("Chrome provided a email identity via ::getProfileUserInfo"),h("Identity retrieved was: "+t.email),h("Sending request to chromelogin.linewize");let n=new XMLHttpRequest;n.open("GET","http://chromelogin.linewize.net?gto="+t.email+"&signedin=true",!0),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){h("chromelogin.linewize returned success"),e.lastTime=(new Date).getTime();const t=JSON.parse(n.responseText).data;ne.getCurrentUserInfo().user!==t.user&&(l("on-network user mismatch, re-initializing config + on-network status to resolve"),setTimeout((()=>{_e(!0)}),ge))}else u("chromelogin.linewize returned a failure, "+n.statusText)},n.send()}))):d("login(force) will be ignored"))}},ue=new class{constructor(){this.partialFailedCache=new c,chrome.runtime.onMessage.addListener((function(e){"GOOGLE_AUTHENTICATE"===e.type&&ue.google()}))}async autoAuth(){try{return void await this.onNetwork()}catch(e){console.error("error from on-network auth attempt",{error:e})}await this.partial()}async partial(){const e=ne.getDeviceId(),t=ne.currentUserInfo.user;let a;if(t||(a=await this.findUserEmail()),!e||!t&&!a)throw new r("applianceId and username or email is required for partial auth");if(this.partialFailedCache.contains(e,t,a))throw new r("partial auth credentials used are in the known bad credentials cache");try{await n(`${ne.apiDispatcherUrl}/authenticate/agent/partial`,{method:"POST",body:JSON.stringify({email:a,username:t,appliance_id:e})})}catch(n){throw"EasyFetchStatusError"===n.name&&400===n.response.status&&this.partialFailedCache.set(e,t,a),n}}async google(){return new Promise(((e,t)=>{chrome.identity.getAuthToken({interactive:!0},(async a=>{if(a)try{const t=await n(`${ne.apiDispatcherUrl}/authenticate/agent/chrome/google`,{method:"POST",body:JSON.stringify({token:a,appliance_id:ne.getDeviceId()})});chrome.runtime.sendMessage({type:"TOKEN",token:t.token}),e()}catch(n){if("EasyFetchStatusError"===n.name&&401===n.response.status)return await this._clearIdentityToken(a),void e(this.google());t(n)}else t(new s("User did not complete Google sign-in"))}))}))}async onNetwork(){const e=await n("http://whoami.linewize.net"),t=ne.currentUserInfo.user;await n(`${ne.apiDispatcherUrl}/authenticate/agent/on-network?username=${t}`,{method:"POST",body:JSON.stringify(e)})}async findUserEmail(){return ne.currentUserInfo&&ne.currentUserInfo.email?ne.currentUserInfo.email:new Promise((async(e,t)=>{const n=new Promise(((e,t)=>{chrome.identity.getProfileUserInfo({accountStatus:"ANY"},(t=>{e(t.email)}))})),a=new Promise(((e,t)=>{chrome.storage.sync.get("userInfo",(t=>{e(t?t.email:void 0)}))})),i=await n;if(i)return void e(i);e(await a||null)}))}async _clearIdentityToken(e){return new Promise(((t,n)=>{chrome.identity.removeCachedAuthToken({token:e},t)}))}},le=new class{constructor(){v(this,"receiveDataChannel",((e,t,n)=>{let a=e.channel,i=e.channel.label;"main"===i&&(this.streamers[n]=new C(a,t.pc.sctp.maxMessageSize),this.streamers[n].startStreaming()),"control"===i&&(e.channel.addEventListener("message",(e=>{const t=JSON.parse(e.data);let a=t.windowId,i=t.tabId;this.streamers[n]&&this.streamers[n].switchTab(i,a),this.tabStreamers[n]&&this.tabStreamers[n].setWindow(a)})),this.tabStreamers[n]=new y(a,t.pc.sctp.maxMessageSize),this.tabStreamers[n].startStreaming()),e.channel.addEventListener("close",(()=>{"main"===i&&this.disconnectSnapshotStreamer(n),"control"===i&&this.disconnectTabStreamer(n),this.disconnect(n),this.closeChannelsWithPeer(n)}))})),v(this,"close",(e=>{for(const[t,n]of Object.entries(this.channels))n===e&&this.closeChannelsWithPeer(t)})),this.encoder=new TextEncoder,this.signalers={},this.channels={},this.ice=null,this.connections={},this.streamers={},this.tabStreamers={},this.closeTimeouts={},this.disconnect=this.disconnect.bind(this)}initSignaler(e,t,n){const a=ne.getCurrentUserInfo().user+"_peerAgentId_"+ne.chromeId;if(!this.signalers[t]||["closed","failed"].includes(this.signalers[t].client.connection.state)){const n=new f.Signaler(e);this.signalers[t]=n,n.client.connect(),n.client.connection.once("closed",(e=>{delete this.signalers[t]})),n.client.connection.once("failed",(e=>{delete this.signalers[t],console.error("signaler error",err)})),n.client.connection.on("failed",(e=>{delete this.signalers[t],console.error("signaler error",e)}))}const i=this.signalers[t].channel(t);i.presence.enter(),this.channels[n]=t,i.subscribe(f.P2P_CONNECT_MESSAGE,(e=>{if(e.data.receiver!==a)return;const t=b(e),n=this.connect(i,t,e);n.pc.addEventListener("datachannel",(e=>this.receiveDataChannel(e,n,t)))})),i.subscribe("disconnect",(e=>{if(e.received!==a)return;const t=b(e);this.disconnect(t),this.closeChannelsWithPeer(t)}))}setIce(e){this.ice=e}connect(e,t,n){this.connections[t]&&this.disconnect(t);const a=new f.PeerConnection(e,this.ice,!0);return a.connect(t,n),this.connections[t]=a,a.pc.addEventListener("connectionstatechange",(e=>{switch(a.pc.connectionState){case"failed":case"closed":this.disconnect(t),this.disconnectSnapshotStreamer(t),this.disconnectTabStreamer(t)}})),a}disconnect(e){this.connections[e]&&(this.connections[e].close(),delete this.connections[e])}disconnectTabStreamer(e){this.tabStreamers[e]&&(this.tabStreamers[e].endStreaming(),delete this.tabStreamers[e])}disconnectSnapshotStreamer(e){this.streamers[e]&&(this.streamers[e].endStreaming(),delete this.streamers[e])}closeChannelsWithPeer(e){if(this.channels[e]){const t=this.channels[e],n=this.signalers[t].channel(t);n.unsubscribe(),n.detach(),delete this.channels[e];const a=[];for(const[e,n]of Object.entries(this.channels))n===t&&a.push(e);0===a.length&&this.signalers[t]&&"connected"===this.signalers[t].client.connection.state&&this.signalers[t].client.close()}}setCloseTimeouts(e){const t=e.device_id.replace(/[^a-z0-9]/gi,"-");for(const n of e.active_configurations){const e=D(n);if(e>Date.now()/1e3){const a=`${t}/${n.group.replace(/[^a-z0-9]/gi,"-")}`;clearTimeout(this.closeTimeouts[a]),this.closeTimeouts[a]=setTimeout((()=>{this.close(a)}),1e3*e-Date.now())}}}},he=new class{constructor(){H(this,"_openDb",(()=>{let e=indexedDB.open("screenshotCache",1);e.onsuccess=t=>{console.log("Screenshot cache DB successfully opened"),this.db=e.result,this.db.onerror=function(e){console.error("Something went wrong creating or accessing the screenshotCacheDb")}},e.onupgradeneeded=e=>{e.target.result.createObjectStore("screenshotStore"),console.log("Screenshot cache object store successfully created")}})),H(this,"_handleTabActivated",(e=>{setTimeout((()=>this._update(e.tabId,e.windowId)),200)})),H(this,"_handleTabUpdated",((e,t,n)=>{n.active&&t.url&&this._update(e,n.windowId)})),H(this,"_handleTabClosed",(e=>{this.remove(e)})),this.db=null,chrome.tabs.onActivated.addListener(this._handleTabActivated),chrome.tabs.onUpdated.addListener(this._handleTabUpdated),chrome.tabs.onRemoved.addListener(this._handleTabClosed),this.lastScreenshotTime=0,this._openDb()}add(e,t){e&&t?(console.log("Caching screenshot for tab: "+e),this.db.transaction(["screenshotStore"],"readwrite").objectStore("screenshotStore").put(t,e.toString())):console.error(`failed to cache screenshot: tabId ${e}, image ${t}`)}remove(e){console.log("Deleting cached tab: "+e),e&&this.db.transaction(["screenshotStore"],"readwrite").objectStore("screenshotStore").delete(e.toString())}get(e,t){this.db.transaction(["screenshotStore"],IDBTransaction.READ_WRITE).objectStore("screenshotStore").get(e.toString()).onsuccess=function(e){let n=e.target.result;t(n)}}_update(e,t){this.lastScreenshotTime+5e3>Date.now()?console.debug("Live View Cached screenshot update attempt was rate limited"):function(e,t){return new Promise(((t,n)=>{chrome.tabs.captureVisibleTab(e,{format:"jpeg",quality:30},(a=>{if(chrome.runtime.lastError)return chrome.runtime.lastError.message.includes("MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND")?void n(new S("Exceeded MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND")):void n(chrome.runtime.lastError);chrome.tabs.query({active:!0,windowId:e},(e=>{1===e.length?t([a,e[0].id]):t([a,null])}))}))}))}(t).then((t=>{let[n,a]=t;a===e?(this.lastScreenshotTime=Date.now(),this.add(e,n)):console.error("Error saving screenshot: tab changed before screenshot could be cached")})).catch((e=>e instanceof S?void console.debug("Screenshots have been rate limited"):void 0))}},de=!1,me="0.0.0.0",pe=!1,fe=new class{constructor(){var e,t;t=e=>{const t=e.flatMap((e=>e.periods));if(!t.length)return;const[n,a]=function(e){if(!e.length)return null;const t=ne.getDeviceTimezone(),n=(new p.ou.now).setZone(t),a=new Date(n.toMillis());let i=e[0],o=L(e[0],a);for(let t=1;t<e.length;t++){const n=L(e[t],a);n<o&&(i=e[t],o=n)}return[i,o.valueOf()-a.valueOf()]}(t);clearTimeout(this.timeoutId),Number.isNaN(a)?console.warn("failed to calculate scheduled config fetch based on classroom schedules, findSoonestStartingPeriod returned NaN. Classroom periods may contain invalid data."):this.timeoutId=setTimeout((()=>_e(!0)),a)},(e="process")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this.timeoutId=null}};const ge=1e4;re.noUserFallback=!0;const ye=`chrome-extension://${chrome.runtime.id}/chat/index.html`,ve=[ye];let ke=null;const be=()=>{we(),ke=setInterval((()=>{ae.capture_tab_and_send()}),ne.getScreenshotUploadInterval())},we=()=>{clearInterval(ke)},je=()=>{let e={};for(let t of ne.getActiveConfigurations())if(!t.is_monitoring_class){const n=t.teachers.map((e=>e.id));e[t.group]={name:t.group_label,teachers:n,teacherInformation:t.teacher_information,isActive:T(t),chatBlocked:t.chat_blocked||!1}}return e},_e=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(h("Starting Config Update"),de)return void h("Config was updating, bombing out");de=!0;let t=setTimeout((()=>{u("Config Timeout"),de=!1,e&&setTimeout((()=>{_e(!1)}),5e3)}),ge);const n=!!ne.hasActiveClass();chrome.extension.sendMessage({greeting:"ReloadingPopup"}),ne.retrieve_configuration((t=>{u("Error retrieving config",t,e),de=!1,e&&setTimeout((()=>{_e(!1)}),5e3)}),(()=>{re.noUserFallback=!1}),(()=>{clearTimeout(t)}),(()=>ue.partialFailedCache.clear()),te.connectToEventService.bind(te),te.updateChatConfigInfo.bind(te),ae.updateActiveConfigurations.bind(ae),ne.updateSavedSettings.bind(ne),(()=>{const e=!!ne.hasActiveClass();!n&&e&&(h("Class was not active before, now it is, taking screenshot",ne),ae.capture_tab_and_send()),h("config.retrieve_configuration finished, about to call loginLook callback",ne),ce.login(),chrome.extension.sendMessage({greeting:"ReloadPopup"}),n!==e&&chrome.tabs.query({},(e=>{e.forEach((e=>{chrome.tabs.executeScript(e.id,{file:"/chat/assets/scripts/chatBubble.js"})}))})),ne.classroom_chat_enabled&&(chrome.runtime.sendMessage({type:"CHAT_CONFIG_UPDATE",classRooms:je()}),chrome.tabs.query({},(e=>{e.forEach((e=>{chrome.tabs.executeScript(e.id,{file:"/chat/assets/scripts/chatBubble.js"})}))})))}),(()=>le.setCloseTimeouts(ne)),(e=>fe.process(e)),(()=>{de=!1}))};var Se,Ce,Te,Re;chrome.extension.onMessage.addListener(((e,t,n)=>{if("chat_status"===e.config){let e=ne.getClassroomChatStatus();if(e){let t=ne.hasActiveClass();e=!(!t||!t.hasOwnProperty("chat_blocked")||t.chat_blocked)}n(e)}else"chat_info"==e.config&&n({userDetails:ne.getCurrentUserInfo(),baseUrl:ne.getChatBaseUrl(),classRooms:je(),applianceId:ne.getApplianceId()})})),chrome.extension.onMessage.addListener((function(e,t,n){"last_chat_message"===e.message&&n(te.lastChatMessage),"clear_last_chat_message"===e.message&&(te.lastChatMessage=null)})),chrome.tabs.onUpdated.addListener(((e,t,n)=>{h("chrome.tabs.onUpdated called with tab status",t.status),"complete"===t.status?(ae.capture_tab_and_send(!0),chrome.tabs.executeScript({file:"/chat/assets/scripts/chatBubble.js"})):"loading"===t.status&&setTimeout((()=>ae.capture_tab_and_send()),250)})),chrome.identity.onSignInChanged.addListener((()=>{l("Google Identity Changed"),setTimeout((()=>{_e(!0)}),3e3)})),chrome.tabs.onActivated.addListener((()=>{h("chrome.tabs.onActivated called"),setTimeout((()=>ae.capture_tab_and_send()),200)})),chrome.tabs.onRemoved.addListener(((e,t)=>{ne.isFilteringEnabled()&&ae.tab_removed(t.windowId+"_"+e,ne.getActiveConfigurations())})),chrome.extension.onMessage.addListener(((e,t,n)=>{if("GetStatus"===e.greeting){let e={disabled:ne.isExtensionDisabled(),chrome_user:ne.getCurrentUserInfo().user,user_information:ne.userInformation,extension_login:ne.google_classroom_extension_login,loading:de,appliance:{device_id:ne.device_id,parent_device:ne.parent_device,local_device:ne.local_device,inside_network:ne.inside_device_network,authenticated:ne.inside_device_network__authenticated,network_user:ne.inside_device_network__user},features:{Filtering:ne.isFilteringEnabled(),Connections:ne.isConnectionReportingEnabled(),Classroom:ne.isClassroomEnabled(),ChromebookOnly:ne.enable_extension_chromebooks_only},classes:[]};if(ne.getActiveConfigurations().length>0)for(let t of ne.getActiveConfigurations())T(t)&&e.classes.push({classroom_name:t.group_label||t.group,teacher_information:R(t,"teacher_information",null),focused:ne.isClassroomEnabled()&&t.apply_focus,locked:ne.isClassroomEnabled()&&t.locked_users.indexOf(t.identity)>=0,is_monitoring_class:R(t,"is_monitoring_class",!1)});n(e)}else"ReloadConfig"===e.greeting&&_e(!0)})),chrome.idle.onStateChanged.addListener((e=>{"active"===e&&_e(!0)})),Se=e=>{if(!de&&/\d+\.\d+\.\d+\.\d+/.test(e)){l("Changed networks",e,me);let t=ne.active_region;ne=new G,re.noUserFallback=!0,ne.active_region=t,ne.setLocalIpAddress(e),me=e,"0.0.0.0"!==e&&_e(!0)}},Ce=new(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)({iceServers:[]}),Te=function(){},Re=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,Ce.createDataChannel(""),Ce.createOffer().then((function(e){e.sdp.split("\n").forEach((function(e){if(e.indexOf("candidate")<0)return;let t=e.match(Re)[0];t.startsWith("100.115.92")&&(t="10.255.255.254"),Se(t)})),Ce.setLocalDescription(e,Te,Te)})).catch((function(e){})),Ce.onicecandidate=function(e){if(e&&e.candidate&&e.candidate.candidate&&e.candidate.candidate.match(Re)){let t=e.candidate.candidate.match(Re)[0];t.startsWith("100.115.92")&&(t="10.255.255.254"),Se(t)}},setInterval((function(){ce.login()}),6e5),setInterval((function(){ne.updateDeviceLocation(((e,t,n,a)=>{ne.currentUserInfo.user!==t&&(l("User changed via network"),_e(!0))}))}),18e4),setInterval((function(){if(ne.isExtensionDisabled())return;let e=new XMLHttpRequest;e.open("GET","http://fzbox.tools",!0),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=()=>{if(4===e.readyState){if(ne.lastFZProbeCode!==e.status)return l("[http://fzbox.tools] Network safety changed:",200===e.status?"Current network is safe":"Current network is unsafe"),ne.lastFZProbeCode=e.status,void _e(!0);try{let t="UNKNOWN";e.getResponseHeader("Content-type")&&e.getResponseHeader("Content-type").includes("application/json")&&(t=JSON.parse(e.responseText).provider),ne.lastFZProbeProvider!==t&&(l("[http://fzbox.tools] Network provider changed:",t),ne.lastFZProbeProvider=t,_e(!0))}catch(e){u("Encountered error while parsing network information",e)}}},e.send()}),6e4),chrome.runtime.getPlatformInfo((e=>{pe="cros"===e.os}))})()})();